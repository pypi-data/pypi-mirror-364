"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1941],{47661:function(e,r,n){n.d(r,{rM:function(){return d},xx:function(){return c}});var t=n(26068),o=n.n(t),a=n(40227),i=n(9389),l=n(74901),u={theme:"light",mode:"auto",isDarkTheme:!1,colorPrimary:a.b,collapsed:!1},c=function(){if("undefined"==typeof window)return u;try{var e=JSON.parse(localStorage.getItem("userSettings")||"{}");return o()(o()({},u),e)}catch(e){return u}},s=(0,l.O4)("userSettings",u),d=(0,i.cn)((function(e){return e(s)}),(function(e,r,n){var t=e(s),i=o()(o()({},t),n||{});r(s,o()(o()({},i),{},{colorPrimary:i.colorPrimary||a.b,isDarkTheme:"realDark"===i.theme}))}))},49824:function(e,r,n){var t=n(48305),o=n.n(t),a=n(9288),i=n(23333),l=n(50959),u=n(11527),c=(0,l.memo)((function(e){var r=e.defaultOpen,n=e.percent,t=e.download,c=e.label,s=e.successPercent,d=l.useState(!1),f=o()(d,2),m=f[0],h=f[1],p=(0,l.useMemo)((function(){return t?"var(--ant-color-primary)":n<=50?"var(--ant-color-success)":n<=80?"var(--ant-color-warning)":"var(--ant-color-error)"}),[n]);(0,l.useEffect)((function(){h(r||!1)}),[r]);var g=(0,l.useMemo)((function(){return(0,u.jsx)(a.Z,{percentPosition:{align:"center",type:"inner"},size:["",16],format:function(){return(0,u.jsxs)("span",{style:{color:"var(--color-progress-text)"},children:[n,"%"]})},percent:n,success:{percent:s,strokeColor:"var(--ant-geekblue-3)"},strokeColor:p})}),[n,s,p]);return(0,u.jsx)(u.Fragment,{children:c?(0,u.jsx)(i.Z,{title:c,open:m,onOpenChange:h,overlayInnerStyle:{paddingInline:12},children:g}):g})}));r.Z=c},63597:function(e,r,n){n(50959);var t=n(38551),o=n(76571),a=n(11527);r.Z=function(e){var r=e.data,n=e.fieldList,i=e.style,l=(0,t.useIntl)();return(0,a.jsx)("span",{className:"flex",style:i,children:n.map((function(e,t){var i,u;return(0,a.jsxs)("span",{className:"flex-center",children:[(0,a.jsxs)("span",{className:"flex-column flex-center",children:[(0,a.jsxs)("span",{children:[" ",e.locale?l.formatMessage({id:e.label}):e.label]}),(0,a.jsxs)("span",{style:{color:"var(--color-white-quaternary)"},children:[" ",null!==(i=null===(u=e.render)||void 0===u?void 0:u.call(e,r[e.key],r))&&void 0!==i?i:r[e.key]]})]}),t<n.length-1?(0,a.jsx)(o.Z,{type:"vertical",style:{height:30,marginInline:12,borderColor:"var(--color-white-light-2)",alignSelf:"center"}}):null]},e.key||t)}))})}},20369:function(e,r,n){n.d(r,{Kd:function(){return t},_W:function(){return i},iE:function(){return a},tb:function(){return l},zK:function(){return o}});var t={CREATE:"create",UPDATE:"update",VIEW:"view"},o={error:{text:"var(--ant-red-6)",bg:"var(--ant-red-1)"},warning:{text:"var(--ant-orange-6)",bg:"var(--ant-orange-1)"},transitioning:{text:"var(--ant-blue-6)",bg:"var(--ant-blue-1)"},success:{text:"var(--ant-color-success)",bg:"var(--ant-color-success-bg)"},inactive:{text:"var(--ant-color-text-tertiary)",border:"rgba(200,200,200,1)",bg:"var(--ant-color-fill)"}},a={error:"error",warning:"warning",transitioning:"transitioning",success:"success",inactive:"inactive"},i={CREATE:1,UPDATE:2,DELETE:3},l=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*_+])[a-zA-Z\d!@#$%^&*_+]{6,12}$/},40227:function(e,r,n){n.d(r,{b:function(){return t},Z:function(){return o}});var t="#007BFF",o={light:{"root-entry-name":"variable",cssVar:!0,hashed:!1,components:{Input:{inputFontSize:14,inputFontSizeLG:14},Table:{headerBorderRadius:4,cellPaddingInline:16,cellPaddingBlock:6,cellFontSize:14,rowSelectedHoverBg:"rgb(249 249 249)",rowHoverBg:"rgb(249 249 249)",rowSelectedBg:"transparent"},Button:{contentFontSizeLG:14,primaryShadow:"none",defaultShadow:"none",dangerShadow:"none"},Tabs:{titleFontSizeLG:14},DatePicker:{fontSizeLG:14},Menu:{iconSize:16,iconMarginInlineEnd:12,itemBorderRadius:4,itemSelectedColor:"#007BFF",itemHeight:32,groupTitleColor:"rgba(0,0,0,1)",itemHoverColor:"rgba(0,0,0,1)",itemColor:"rgba(0,0,0,1)",itemHoverBg:"rgba(0,0,0,0.04)",itemActiveBg:"rgba(0,0,0,0.04)"},Progress:{lineBorderRadius:2},Select:{optionSelectedBg:"rgba(230, 230, 230, 88%)",fontSizeLG:14},Message:{contentPadding:"12px 16px"},Tooltip:{colorBgSpotlight:"#3e3e3e"},Cascader:{dropdownHeight:240},Slider:{handleSize:8,handleSizeHover:8,trackBg:"rgba(0,0,0,0.15)",handleColor:"rgba(0,0,0,0.2)",trackHoverBg:"rgba(0,0,0,0.25)",handleActiveColor:"rgba(0,0,0,0.3)",dotActiveBorderColor:"rgba(0,0,0,0.25)",handleActiveOutlineColor:"rgba(0,0,0,0.25)",dotBorderColor:"rgba(0,0,0,0.25)"}},token:{darkMode:!1,fontFamily:"Helvetica Neue, -apple-system, BlinkMacSystemFont, Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",colorText:"rgba(0,0,0,1)",colorPrimary:"#007BFF",colorSuccess:"#54cc98",borderRadius:4,borderRadiusSM:2,colorBgContainer:"#fff",fontSize:14,motion:!0}},dark:{"root-entry-name":"variable",cssVar:!0,hashed:!1,components:{Input:{inputFontSize:14,inputFontSizeLG:14},Table:{headerBorderRadius:4,cellPaddingInline:16,cellPaddingBlock:6,cellFontSize:14,rowSelectedHoverBg:"#1d1d1d",rowHoverBg:"#1d1d1d",rowSelectedBg:"transparent"},Button:{contentFontSizeLG:14,primaryShadow:"none",defaultShadow:"none",dangerShadow:"none"},Tabs:{titleFontSizeLG:14},DatePicker:{fontSizeLG:14},Menu:{iconSize:16,iconMarginInlineEnd:12,itemBorderRadius:4,itemHeight:32,itemSelectedColor:"#007BFF",darkItemSelectedBg:"#141414",darkItemHoverBg:"rgba(255, 255, 255, 0.03)",groupTitleColor:"rgba(0,0,0,1)",itemHoverColor:"rgba(0,0,0,1)",itemColor:"rgba(0,0,0,1)",itemHoverBg:"rgb(24 25 27)",itemActiveBg:"rgb(24 25 27)"},Progress:{lineBorderRadius:2},Select:{optionSelectedBg:"#333",fontSizeLG:14},Message:{contentPadding:"12px 16px"},Tooltip:{},Cascader:{dropdownHeight:240},Slider:{handleSize:8,handleSizeHover:8,trackBg:"rgba(255,255,255,.15)",handleColor:"rgba(255,255,255,0.2)",trackHoverBg:"rgba(255,255,255,0.25)",handleActiveColor:"rgba(255,255,255,0.3)",dotActiveBorderColor:"rgba(255,255,255,0.25)",handleActiveOutlineColor:"rgba(255,255,255,0.25)",dotBorderColor:"rgba(255,255,255,0.25)"}},token:{darkMode:!0,fontFamily:"Helvetica Neue, -apple-system, BlinkMacSystemFont, Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",colorText:"#ccc",colorPrimary:"#007BFF",colorSuccess:"#48A77E",borderRadius:4,borderRadiusSM:2,fontSize:14,motion:!0,colorFill:"#000",colorBgBase:"#000"}},colorPrimary:t}},38780:function(e,r,n){n.d(r,{Z:function(){return d}});var t=n(26068),o=n.n(t),a=n(48305),i=n.n(a),l=n(32699),u=n(92605),c=n(50959),s=n(73341);function d(e){var r,n=(0,s.Z)().userSettings,t=e||{},a=t.options,d=t.events,f=t.defer,m=void 0===f||f,h=a||{},p=h.scrollbars,g=h.overflow,v=(h.oppositeTheme,c.useRef(null)),b=c.useRef(null),S=c.useRef(!1),x=c.useRef(null),y=c.useRef(!1),k=c.useRef(null),w=(0,u.A)({options:{update:{debounce:0},overflow:o()({x:"hidden"},g),scrollbars:o()(o()({autoHide:"scroll",autoHideDelay:600,clickScroll:"instant"},p),{},{theme:(null==p?void 0:p.theme)||("light"===n.theme?"os-theme-dark":"os-theme-light")})},events:o()({},d),defer:m}),E=i()(w,2),C=E[0],B=E[1];b.current=null==B?void 0:B(),v.current=null===(r=b.current)||void 0===r||null===(r=r.elements())||void 0===r?void 0:r.scrollEventElement;var T=c.useCallback((0,l.throttle)((function(){var e,r,n,t,o;null===(e=v.current)||void 0===e||null===(r=e.scrollTo)||void 0===r||r.call(e,{top:null===(n=v.current)||void 0===n?void 0:n.scrollHeight,behavior:"smooth"}),null===(t=b.current)||void 0===t||null===(o=t.update)||void 0===o||o.call(t)}),100),[(v.current,b.current)]),P=c.useCallback((function(){var e,r,n,t;null===(e=v.current)||void 0===e||null===(r=e.scrollTo)||void 0===r||r.call(e,{top:v.current.scrollHeight,behavior:"auto"}),null===(n=b.current)||void 0===n||null===(t=n.update)||void 0===t||t.call(n)}),[v.current,b.current]),j=c.useCallback((function(e){y.current||(0===e?P():T())}),[T,P]),z=c.useCallback((function(){var e,r,n,t;null===(e=v.current)||void 0===e||null===(r=e.scrollTo)||void 0===r||r.call(e,{top:0,behavior:"auto"}),null===(n=b.current)||void 0===n||null===(t=n.update)||void 0===t||t.call(n)}),[v.current,b.current]),I=c.useCallback((function(e){var r,n,t,o,a,i;o=null===(r=v.current)||void 0===r?void 0:r.scrollTop,a=null===(n=v.current)||void 0===n?void 0:n.scrollHeight,i=o+(null===(t=v.current)||void 0===t?void 0:t.clientHeight)+20>=a,y.current=!i,k.current&&clearTimeout(k.current),k.current=setTimeout((function(){y.current=!1}),5e3)}),[]),M=c.useCallback((function(e){if(b.current)return b.current;var r,n,t;e&&(C(e),x.current=e,S.current=!0,b.current=null==B?void 0:B(),v.current=null===(r=b.current)||void 0===r||null===(r=r.elements())||void 0===r?void 0:r.scrollEventElement,null===(n=x.current)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"wheel",I));return b.current}),[C,B]);return(0,c.useEffect)((function(){return function(){var e,r,n,t;null===(e=b.current)||void 0===e||null===(r=e.destroy)||void 0===r||r.call(e),null===(n=x.current)||void 0===n||null===(t=n.removeEventListener)||void 0===t||t.call(n,"wheel",I)}}),[B]),{initialize:M,instance:b.current,scrollEventElement:v.current,initialized:S.current,generateInstance:function(){var e;b.current=null==B?void 0:B(),v.current=null===(e=b.current)||void 0===e||null===(e=e.elements())||void 0===e?void 0:e.scrollEventElement},updateScrollerPosition:j,updateScrollerPositionToTop:z}}},73341:function(e,r,n){n.d(r,{Z:function(){return d}});var t=n(26068),o=n.n(t),a=n(48305),i=n.n(a),l=n(47661),u=n(40227),c=n(79416),s=n(50959);function d(){var e=u.Z.light,r=u.Z.dark,n=u.Z.colorPrimary,t=(0,c.KO)(l.rM),a=i()(t,2),d=a[0],f=a[1],m=function(e){var r=document.querySelector("html");r&&r.setAttribute("data-theme",e)},h=(0,s.useMemo)((function(){var t="realDark"===d.theme?r:e;return o()(o()({},t),{},{token:o()(o()({},t.token),{},{colorPrimary:d.colorPrimary||n})})}),[d.theme,d.colorPrimary]),p=function(e){var r=function(e){return"auto"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"realDark":"light":e}(e);m(r),f({theme:r,mode:e,isDarkTheme:"realDark"===r})};return(0,s.useEffect)((function(){m(d.theme)}),[d.theme]),(0,s.useEffect)((function(){if("auto"===d.mode){var e=window.matchMedia("(prefers-color-scheme: dark)"),r=function(){p("auto")};return e.addEventListener("change",r),function(){e.removeEventListener("change",r)}}}),[d.mode]),{userSettings:d,setUserSettings:f,setTheme:p,isDarkTheme:d.isDarkTheme,themeData:h,componentSize:"large"}}},61555:function(e,r,n){n.d(r,{I7:function(){return c},JI:function(){return u},Pe:function(){return w},QV:function(){return S},Sw:function(){return d},Vq:function(){return v},bO:function(){return y},lM:function(){return p},m_:function(){return C},oz:function(){return m},qx:function(){return s}});var t=n(90228),o=n.n(t),a=n(87999),i=n.n(a),l=n(38551),u="/workers",c="/gpu-devices",s="/model-files";function d(e){return f.apply(this,arguments)}function f(){return(f=i()(o()().mark((function e(r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("".concat(u),{methos:"GET",params:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=i()(o()().mark((function e(r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("".concat(c),{methos:"GET",params:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return(g=i()(o()().mark((function e(r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("".concat(u,"/").concat(r),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,r){return b.apply(this,arguments)}function b(){return(b=i()(o()().mark((function e(r,n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("".concat(u,"/").concat(r),{method:"PUT",data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return x.apply(this,arguments)}function x(){return(x=i()(o()().mark((function e(r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)(s,{method:"GET",params:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,r){return k.apply(this,arguments)}function k(){return(k=i()(o()().mark((function e(r,n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("".concat(s,"/").concat(r,"?cleanup=").concat(n.checked),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return E.apply(this,arguments)}function E(){return(E=i()(o()().mark((function e(r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)(s,{method:"POST",data:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return B.apply(this,arguments)}function B(){return(B=i()(o()().mark((function e(r){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.request)("".concat(s,"/").concat(r,"/reset"),{method:"POST"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},81851:function(e,r,n){n.r(r);var t=n(8445),o=n(62722),a=n(49824),i=n(63597),l=n(44336),u=n(58258),c=n(67581),s=n(38551),d=n(29687),f=n(23010),m=n(82930),h=n(32699),p=n.n(h),g=(n(50959),n(61555)),v=n(11527),b=d.Z.Column,S=[{label:"resources.table.total",key:"total",locale:!0,render:function(e){return(0,u.hy)(e,0)}},{label:"resources.table.used",key:"used",locale:!0,render:function(e){return(0,u.hy)(e,0)}},{label:"resources.table.allocated",key:"allocated",locale:!0,render:function(e){return(0,u.hy)(e,0)}}];r.default=function(){var e=(0,l.Z)({fetchAPI:g.oz,polling:!0,API:g.I7}),r=e.dataSource,n=e.queryParams,u=e.extraStatus,h=e.handlePageChange,x=e.handleTableChange,y=e.handleSearch,k=e.handleNameChange,w=(0,s.useIntl)();return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(c._z,{ghost:!0,header:{title:"GPUs",style:{paddingInline:"var(--layout-content-header-inlinepadding)"},breadcrumb:{}},extra:[],children:[(0,v.jsx)(o.f,{marginBottom:22,marginTop:30,buttonText:w.formatMessage({id:"resources.button.create"}),handleSearch:y,handleInputChange:k,showDeleteButton:!1,showPrimaryButton:!1,width:{input:300}}),(0,v.jsx)(m.ZP,{renderEmpty:function(e){if("Table"===e)return r.loading||!r.loadend||r.dataList.length?(0,v.jsx)("div",{}):(0,v.jsx)(f.Z,{image:f.Z.PRESENTED_IMAGE_SIMPLE})},children:(0,v.jsxs)(d.Z,{tableLayout:r.loadend?"auto":"fixed",dataSource:r.dataList,loading:r.loading,rowKey:"id",onChange:x,pagination:{showSizeChanger:!0,pageSize:n.perPage,current:n.page,total:r.total,hideOnSinglePage:10===n.perPage,onChange:h},children:[(0,v.jsx)(b,{title:w.formatMessage({id:"common.table.name"}),dataIndex:"name",width:240,render:function(e,r){return(0,v.jsx)(t.Z,{ghost:!0,maxWidth:240,children:e})}},"name"),(0,v.jsx)(b,{title:w.formatMessage({id:"resources.table.index"}),dataIndex:"index",render:function(e,r){return(0,v.jsx)("span",{children:r.index})}},"index"),(0,v.jsx)(b,{title:w.formatMessage({id:"resources.table.workername"}),dataIndex:"worker_name",width:200,render:function(e,r){return(0,v.jsx)("span",{style:{display:"flex",width:"100%"},children:(0,v.jsx)(t.Z,{ghost:!0,maxWidth:340,children:e})})}},"worker_name"),(0,v.jsx)(b,{title:w.formatMessage({id:"resources.table.vender"}),dataIndex:"vendor"},"vendor"),(0,v.jsx)(b,{title:"".concat(w.formatMessage({id:"resources.table.temperature"})," (°C)"),dataIndex:"temperature",render:function(e,r){return(0,v.jsx)("span",{children:e?p().round(e,1):"-"})}},"Temperature"),(0,v.jsx)(b,{title:w.formatMessage({id:"resources.table.gpuutilization"}),dataIndex:"gpuUtil",render:function(e,r){var n;return(0,v.jsx)(v.Fragment,{children:r.core?(0,v.jsx)(a.Z,{percent:p().round(null===(n=r.core)||void 0===n?void 0:n.utilization_rate,2)}):"-"})}},"gpuUtil"),(0,v.jsx)(b,{title:w.formatMessage({id:"resources.table.vramutilization"}),dataIndex:"VRAM",render:function(e,n,t){var o,l,c,s;return(0,v.jsx)(a.Z,{defaultOpen:0===t&&r.loadend&&u.firstLoad,percent:null!==(o=n.memory)&&void 0!==o&&o.used?p().round(null===(l=n.memory)||void 0===l?void 0:l.utilization_rate,0):100*p().round((null===(c=n.memory)||void 0===c?void 0:c.allocated)/(null===(s=n.memory)||void 0===s?void 0:s.total),0),label:(0,v.jsx)(i.Z,{fieldList:S,data:n.memory})})}},"VRAM")]})})]})})}}}]);