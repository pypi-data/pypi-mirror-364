# Email Sender

## Common Email SMTP Configuration and Authorization Code Setup

Below are the SMTP server parameters and authorization code setup methods for mainstream email providers (QQ, 163, Outlook, Gmail) for quick configuration.

| Email Type | SMTP Server        | Port | Encryption | Username        | Password Type   |
|------------|--------------------|------|------------|-----------------|-----------------|
| QQ Email   | smtp.qq.com        | 465  | SSL        | Full email address | Authorization code |
| 163 Email  | smtp.163.com       | 465  | SSL        | Full email address | Authorization code |
| Gmail      | smtp.gmail.com     | 587  | TLS        | Full email address | App Password    |

---

### QQ Email
1. Log in to QQ Email web version, click "Settings" > "Account" in the top right corner.
2. Under "POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV Services", check "Enable SMTP Service" and save.
3. Follow the prompts for mobile verification to get the authorization code (this code is the SMTP login password).
4. When configuring email client, use the full email address as username and authorization code as password.
- Official documentation: [QQ Email Help Center](https://service.mail.qq.com/)
- Microsoft official guide for connecting QQ Email to Outlook (including authorization code setup): [View](https://support.microsoft.com/en-us/office/add-a-qqmail-account-to-outlook-34ef1254-0d07-405a-856f-0409c7c905eb)

### 163 Email
1. Log in to 163 Email web version, click "Settings" > "POP3/SMTP/IMAP".
2. Enable "SMTP Service", follow prompts for verification if required.
3. Get the authorization code (some accounts require mobile verification), this code is the SMTP login password.
4. When configuring email client, use the full email address as username and authorization code as password.
- Official help center: [NetEase Email Help](https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2c9926ce59ec02fa9)
- Reference blog: [Mailbird 163 Email Configuration](https://www.getmailbird.com/setup/access-163-com-via-imap-smtp)

### Gmail
1. Log in to your Google Account at [Google Account Settings](https://myaccount.google.com).
2. Navigate to "Security" > "2-Step Verification" and enable 2-Factor Authentication if not already enabled.
3. Go to "Security" > "App passwords" and generate a new app password:
   - Select "Mail" as the app type
   - Choose your device or enter a custom name
   - Copy the generated 16-character password (without spaces)
4. When configuring email client, use your full Gmail address as username and the generated App Password as password.
- Official documentation: [Google Account Help - App passwords](https://support.google.com/accounts/answer/185833)
- Gmail SMTP settings: [Gmail IMAP and SMTP settings](https://support.google.com/mail/answer/7126229)

---

### FAQ

**Q1: What is an authorization code/app-specific password?**
A: An authorization code/app-specific password is a special password generated by email service providers to enhance security, used for third-party applications (such as email clients, automation scripts) to log into the mailbox. It cannot be replaced by regular login passwords.

**Q2: Why use authorization codes/app-specific passwords?**
A: After enabling two-factor authentication, regular passwords cannot be directly used for SMTP and other third-party services. Authorization codes/app-specific passwords must be used to ensure account security.

**Q3: What to do if authorization code/app-specific password is lost?**
A: You can regenerate new authorization codes/app-specific passwords in the mailbox security settings at any time, and the old ones can be revoked.

**Q4: What are common reasons for configuration failures?**
A: Common reasons include not enabling SMTP service, not using authorization codes/app-specific passwords, incorrect port/encryption configuration, restricted mailbox login, etc.

For specific issues, it's recommended to consult the official help centers of respective email providers or contact email service customer support.

---

The `EmailSender` module provides a complete and easy-to-use email sending solution with built-in support for multiple mainstream email service providers.

## Sender Base Class

All concrete senders inherit from the `EmailSender` abstract base class.

::: email_widget.email_sender.EmailSender
    options:
        show_root_heading: true
        show_source: false
        heading_level: 3
        filters:
          - "!^_"
          - "!^.*args$"
          - "!^.*kwargs$"

## Factory Function

For convenience, we recommend using the `create_email_sender` factory function to create sender instances.

::: email_widget.email_sender.create_email_sender
    options:
        show_root_heading: true
        show_source: false
        heading_level: 3
        filters:
          - "!^_"
          - "!^.*args$"
          - "!^.*kwargs$"

## Concrete Implementations

Below are specific implementation classes for different email service providers. Usually you only need to use them through the factory function.

### QQEmailSender

::: email_widget.email_sender.QQEmailSender
    options:
        show_root_heading: false
        heading_level: 4
        filters:
          - "!^_"
          - "!^.*args$"
          - "!^.*kwargs$"

### NetEaseEmailSender

::: email_widget.email_sender.NetEaseEmailSender
    options:
        show_root_heading: false
        heading_level: 4
        filters:
          - "!^_"
          - "!^.*args$"
          - "!^.*kwargs$"

### GmailEmailSender

::: email_widget.email_sender.GmailEmailSender
    options:
        show_root_heading: false
        heading_level: 4
        filters:
          - "!^_"
          - "!^.*args$"
          - "!^.*kwargs$"