{"version":3,"file":"lib_index_js.bd2bf34c972293cca254.js","mappings":"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","sources":["webpack://jupyterlab_logtalk_codemirror_extension/./src/index.ts"],"sourcesContent":["\nimport {\n  JupyterFrontEnd,\n  JupyterFrontEndPlugin\n} from '@jupyterlab/application';\n\nimport {\n  IEditorLanguageRegistry\n} from '@jupyterlab/codemirror';\n\nimport { StreamLanguage, StreamParser, LanguageSupport } from '@codemirror/language';\n\n// Comprehensive Logtalk stream parser for CodeMirror 6\n// Based on the official Logtalk language support from LogtalkDotOrg/logtalk3\nconst logtalkStreamParser: StreamParser<any> = {\n  startState() {\n    return {\n      inComment: false,\n      inString: false,\n      stringDelim: null\n    };\n  },\n\n  token(stream, state) {\n    // Handle block comments\n    if (state.inComment) {\n      if (stream.match(/\\*\\//)) {\n        state.inComment = false;\n        return \"comment\";\n      }\n      stream.next();\n      return \"comment\";\n    }\n\n    // Handle strings\n    if (state.inString) {\n      if (stream.match(state.stringDelim)) {\n        state.inString = false;\n        state.stringDelim = null;\n        return \"string\";\n      }\n      if (stream.match(/\\\\./)) {\n        return \"string\";\n      }\n      stream.next();\n      return \"string\";\n    }\n\n    // Start of block comment\n    if (stream.match(/\\/\\*/)) {\n      state.inComment = true;\n      return \"comment\";\n    }\n\n    // Line comment\n    if (stream.match(/%.*$/)) {\n      return \"comment\";\n    }\n\n    // Quoted atom\n    if (stream.match(/'/)) {\n      state.inString = true;\n      state.stringDelim = \"'\";\n      return \"string\";\n    }\n\n    // Double-quoted term\n    if (stream.match(/\"/)) {\n      state.inString = true;\n      state.stringDelim = '\"';\n      return \"string\";\n    }\n\n    // Entity opening directives\n    if (stream.match(/:-\\s(?:object|protocol|category|module)(?=\\()/)) {\n      return \"keyword\";\n    }\n\n    // End entity directives\n    if (stream.match(/:-\\send_(?:object|protocol|category)(?=\\.)/)) {\n      return \"keyword\";\n    }\n\n    // Entity relations\n    if (stream.match(/\\b(?:complements|extends|instantiates|imports|implements|specializes)(?=\\()/)) {\n      return \"keyword\";\n    }\n\n    // Other directives\n    if (stream.match(/:-\\s(?:else|endif|built_in|dynamic|synchronized|threaded)(?=\\.)/)) {\n      return \"keyword\";\n    }\n    if (stream.match(/:-\\s(?:calls|coinductive|elif|encoding|ensure_loaded|export|if|include|initialization|info|reexport|set_(?:logtalk|prolog)_flag|uses)(?=\\()/)) {\n      return \"keyword\";\n    }\n    if (stream.match(/:-\\s(?:alias|info|dynamic|discontiguous|meta_(?:non_terminal|predicate)|mode|multifile|public|protected|private|op|uses|use_module|synchronized)(?=\\()/)) {\n      return \"keyword\";\n    }\n\n    // Message sending operator\n    if (stream.match(/::/)) {\n      return \"operator\";\n    }\n\n    // External call operators\n    if (stream.match(/[{}]/)) {\n      return \"operator\";\n    }\n\n    // Mode operators\n    if (stream.match(/[?@]/)) {\n      return \"operator\";\n    }\n\n    // Comparison operators\n    if (stream.match(/@(?:=<|<|>|>=)|==|\\\\==/)) {\n      return \"operator\";\n    }\n    if (stream.match(/=<|[<>]=?|=:=|=\\\\=/)) {\n      return \"operator\";\n    }\n\n    // Bitwise operators\n    if (stream.match(/<<|>>|\\/\\\\|\\\\\\/|\\\\/)) {\n      return \"operator\";\n    }\n\n    // Arithmetic operators\n    if (stream.match(/\\*\\*|[+\\-*\\/]|\\/\\//)) {\n      return \"operator\";\n    }\n\n    // Evaluable functions\n    if (stream.match(/\\b(?:e|pi|div|mod|rem)\\b(?![_!(^~])/)) {\n      return \"builtin\";\n    }\n\n    // Misc operators\n    if (stream.match(/:-|!|\\\\+|[,;]|-->|->|=|\\\\=|\\.|\\.\\.|\\^|\\bas\\b|\\bis\\b/)) {\n      return \"operator\";\n    }\n\n    // Built-in predicates - evaluable functions\n    if (stream.match(/\\b(?:abs|acos|asin|atan|atan2|ceiling|cos|div|exp|float(?:_(?:integer|fractional)_part)?|floor|log|max|min|mod|rem|round|sign|sin|sqrt|tan|truncate|xor)(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Control predicates\n    if (stream.match(/\\b(?:true|fail|false|repeat|(?:instantiation|system)_error)\\b(?![_!(^~])/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\b(?:uninstantiation|type|domain|consistency|existence|permission|representation|evaluation|resource|syntax)_error(?=\\()/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\b(?:call|catch|ignore|throw|once)(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Event handlers\n    if (stream.match(/\\b(after|before)(?=\\()/)) {\n      return \"builtin\";\n    }\n    \n    // Message forwarding handler\n    if (stream.match(/\\bforward(?=\\()/)) {\n      return \"builtin\";\n    }\n    // Execution-context methods\n    if (stream.match(/\\b(context|parameter|this|se(lf|nder))(?=\\()/)) {\n      return \"builtin\";\n    }\n    // Reflection\n    if (stream.match(/\\b(current_predicate|predicate_property)(?=\\()/)) {\n      return \"builtin\";\n    }\n    // DCGs and term expansion\n    if (stream.match(/\\b(expand_(goal|term)|(goal|term)_expansion|phrase)(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Entity creation and destruction\n    if (stream.match(/\\b(abolish|c(reate|urrent))_(object|protocol|category)(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Entity properties\n    if (stream.match(/\\b(object|protocol|category)_property(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Entity relations\n    if (stream.match(/\\bco(mplements_object|nforms_to_protocol)(?=\\()/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\bextends_(object|protocol|category)(?=\\()/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\bimp(lements_protocol|orts_category)(?=\\()/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\b(instantiat|specializ)es_class(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Events\n    if (stream.match(/\\b(current_event|(abolish|define)_events)(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Flags\n    if (stream.match(/\\b(create|current|set)_logtalk_flag(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Compiling, loading, and library paths\n    if (stream.match(/\\blogtalk_(compile|l(ibrary_path|oad|oad_context)|make(_target_action)?)(?=\\()/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\blogtalk_make\\b/)) {\n      return \"builtin\";\n    }\n\n    // Database\n    if (stream.match(/\\b(clause|retract(all)?)(?=\\()/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\ba(bolish|ssert(a|z))(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // All solutions\n    if (stream.match(/\\b((bag|set)of|f(ind|or)all)(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Multi-threading predicates\n    if (stream.match(/\\bthreaded(_(ca(ll|ncel)|once|ignore|exit|peek|wait|notify))?(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Engine predicates\n    if (stream.match(/\\bthreaded_engine(_(create|destroy|self|next|next_reified|yield|post|fetch))?(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Term unification\n    if (stream.match(/\\b(subsumes_term|unify_with_occurs_check)(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Term creation and decomposition\n    if (stream.match(/\\b(functor|arg|copy_term|numbervars|term_variables)(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Stream selection and control\n    if (stream.match(/\\b(curren|se)t_(in|out)put(?=\\()/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\b(open|close)(?=[(])(?=\\()/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\bflush_output(?=[(])(?=\\()/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\b(at_end_of_stream|flush_output)\\b/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\b(stream_property|at_end_of_stream|set_stream_position)(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Character and byte input/output\n    if (stream.match(/\\b(?:(?:get|peek|put)_(?:char|code|byte)|nl)(?=\\()/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\bnl\\b/)) {\n      return \"builtin\";\n    }\n\n    // Term input/output\n    if (stream.match(/\\bread(_term)?(?=\\()/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\bwrite(q|_(canonical|term))?(?=\\()/)) {\n      return \"builtin\";\n    }\n      if (stream.match(/\\b(current_)?op(?=\\()/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\b(current_)?char_conversion(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Atom/term processing\n    if (stream.match(/\\b(?:atom_(?:length|chars|concat|codes)|sub_atom|char_code|number_(?:char|code)s)(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Term testing\n    if (stream.match(/\\b(?:var|atom(ic)?|integer|float|callable|compound|nonvar|number|ground|acyclic_term)(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Term comparison\n    if (stream.match(/\\bcompare(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Sorting\n    if (stream.match(/\\b(key)?sort(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Implementation defined hooks functions\n    if (stream.match(/\\b(se|curren)t_prolog_flag(?=\\()/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\bhalt\\b/)) {\n      return \"builtin\";\n    }\n    if (stream.match(/\\bhalt(?=\\()/)) {\n      return \"builtin\";\n    }\n\n    // Numbers\n    if (stream.match(/\\b(?:0b[01]+|0o[0-7]+|0x[0-9a-fA-F]+)\\b/)) {\n      return \"number\";\n    }\n    if (stream.match(/(?<=^|\\s)0'(?:\\\\.|.)/)) {\n      return \"number\";\n    }\n    if (stream.match(/\\b\\d+\\.?\\d*(?:[eE][+-]?\\d+)?\\b/)) {\n      return \"number\";\n    }\n\n    // Variables\n    if (stream.match(/\\b[A-Z_][A-Za-z0-9_]*\\b/)) {\n      return \"variable\";\n    }\n\n    // Skip whitespace\n    if (stream.match(/\\s+/)) {\n      return null;\n    }\n\n    // Default: consume one character\n    stream.next();\n    return null;\n  }\n};\n\n\n// Create the Logtalk language definition for JupyterLab 4\nconst logtalkLanguage = {\n  name: 'logtalk',\n  displayName: 'Logtalk',\n  mime: ['text/x-logtalk'],\n  extensions: ['lgt', 'logtalk'],\n  load: async (): Promise<LanguageSupport> => {\n    const streamLanguage = StreamLanguage.define(logtalkStreamParser);\n    return new LanguageSupport(streamLanguage, [\n      streamLanguage.data.of({\n        commentTokens: { line: \"%\", block: { open: \"/*\", close: \"*/\" } },\n        closeBrackets: { brackets: [\"(\", \"[\", \"{\", \"'\", '\"'] },\n        indentOnInput: /^\\s*(?:\\}|end_(?:object|protocol|category)\\.)/\n      })\n    ]);\n  }\n};\n\nconst plugin: JupyterFrontEndPlugin<void> = {\n  id: 'jupyterlab_logtalk_codemirror_extension:plugin',\n  description: 'A JupyterLab extension for Logtalk syntax highlighting.',\n  autoStart: true,\n  requires: [IEditorLanguageRegistry],\n  activate: (_app: JupyterFrontEnd, languages: IEditorLanguageRegistry) => {\n    // Register the Logtalk language\n    languages.addLanguage(logtalkLanguage);\n    console.log('JupyterLab extension jupyterlab_logtalk_codemirror_extension is activated!');\n  }\n};\n\nexport default plugin;\n"],"names":[],"sourceRoot":""}