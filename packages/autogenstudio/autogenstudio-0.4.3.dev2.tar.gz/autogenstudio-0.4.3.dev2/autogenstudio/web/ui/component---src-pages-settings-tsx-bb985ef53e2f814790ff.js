/*! For license information please see component---src-pages-settings-tsx-bb985ef53e2f814790ff.js.LICENSE.txt */
"use strict";(self.webpackChunkautogentstudio=self.webpackChunkautogentstudio||[]).push([[512],{418:function(e,t,a){a.d(t,{A:function(){return n}});const n=(0,a(1788).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1325:function(e,t,a){a.d(t,{C:function(){return r}});var n=a(1511),s=a(7134),l=a(1806);const i={show_llm_call_events:!1,expanded_messages_by_default:!1,show_agent_flow_by_default:!1,human_input_timeout_minutes:3},r=(0,n.v)()((0,s.Zr)(((e,t)=>({serverSettings:null,isLoading:!1,error:null,uiSettings:i,initializeSettings:async a=>{if(!t().isLoading)try{e({isLoading:!0,error:null});const t=await l.Y.getSettings(a),n=(e=>e&&e.config&&e.config.ui?e.config.ui:i)(t);e({serverSettings:t,uiSettings:n,isLoading:!1})}catch(n){console.error("Failed to load settings:",n),e({error:"Failed to load settings",isLoading:!1,uiSettings:i})}},updateUISettings:a=>{const{uiSettings:n}=t(),s={...n,...a};e({uiSettings:s})},resetUISettings:async()=>(e({uiSettings:i}),Promise.resolve())})),{name:"ags-app-settings-0",partialize:e=>({uiSettings:e.uiSettings})}))},1806:function(e,t,a){a.d(t,{Y:function(){return l}});var n=a(7387);let s=function(e){function t(){return e.apply(this,arguments)||this}(0,n.A)(t,e);var a=t.prototype;return a.getSettings=async function(e){const t=await fetch(`${this.getBaseUrl()}/settings/?user_id=${e}`,{headers:this.getHeaders()}),a=await t.json();if(!a.status)throw new Error(a.message||"Failed to fetch settings");return a.data},a.updateSettings=async function(e,t){const a={...e,user_id:e.user_id||t};console.log("settingsData",a);const n=await fetch(`${this.getBaseUrl()}/settings/`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(a)}),s=await n.json();if(!s.status)throw new Error(s.message||"Failed to update settings");return s.data},t}(a(3838).y);const l=new s},2716:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var n=a(6540),s=a(2504),l=a(6161),i=a(1788);const r=(0,i.A)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),c=(0,i.A)("Variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]);var o=a(1325),d=a(7977),m=a(9910),u=a(9644);const g=e=>{let{isOpen:t,sections:a,currentSection:s,onToggle:l,onSelectSection:i}=e;return t?n.createElement("div",{className:"h-full border-r border-secondary"},n.createElement("div",{className:"flex items-center justify-between pt-0 p-4 pl-2 pr-2 border-b border-secondary"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("span",{className:"text-primary font-medium"},"Settings"),n.createElement("span",{className:"px-2 py-0.5 text-xs bg-accent/10 text-accent rounded"},a.length)),n.createElement(d.A,{title:"Close Sidebar"},n.createElement("button",{onClick:l,className:"p-2 rounded-md hover:bg-secondary hover:text-accent text-secondary transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-opacity-50"},n.createElement(u.A,{strokeWidth:1.5,className:"h-6 w-6"})))),n.createElement("div",{className:"overflow-y-auto h-[calc(100%-64px)]"},a.map((e=>n.createElement("div",{key:e.id,className:"relative"},n.createElement("div",{className:"absolute top-1 left-0.5 z-50 h-[calc(100%-8px)] w-1 bg-opacity-80 rounded \n                "+(s.id===e.id?"bg-accent":"bg-tertiary")}),n.createElement("div",{className:"group ml-1 flex flex-col p-3 rounded-l cursor-pointer hover:bg-secondary \n                "+(s.id===e.id?"border-accent bg-secondary":"border-transparent"),onClick:()=>i(e)},n.createElement("div",{className:"flex items-center gap-2"},n.createElement(e.icon,{className:"w-4 h-4"}),n.createElement("span",{className:"text-sm"},e.title)))))))):n.createElement("div",{className:"h-full border-r border-secondary"},n.createElement("div",{className:"p-2 -ml-2"},n.createElement(d.A,{title:`Settings (${a.length})`},n.createElement("button",{onClick:l,className:"p-2 rounded-md hover:bg-secondary hover:text-accent text-secondary transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-opacity-50"},n.createElement(m.A,{strokeWidth:1.5,className:"h-6 w-6"})))))};var f=a(2744),p=a(9036),h=a(2941),y=a(9492),b=a(8852),v=a(418),E=a(1806);const x=e=>{let{checked:t,onChange:a,label:s,description:l,disabled:i=!1}=e;return n.createElement("div",{className:"flex justify-between items-start p-4 hover:bg-secondary/5 rounded transition-colors"},n.createElement("div",{className:"flex flex-col gap-1"},n.createElement("label",{className:"font-medium"},s),l&&n.createElement("span",{className:"text-sm text-secondary"},l)),n.createElement("div",{className:"relative"},n.createElement("input",{type:"checkbox",checked:t,onChange:e=>a(e.target.checked),disabled:i,className:"sr-only",id:`toggle-${s.replace(/\s+/g,"-").toLowerCase()}`}),n.createElement("label",{htmlFor:`toggle-${s.replace(/\s+/g,"-").toLowerCase()}`,className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-opacity-50 cursor-pointer ${i?"opacity-50 cursor-not-allowed":""} ${t?"bg-accent":"bg-gray-300"}`},n.createElement("span",{className:"inline-block w-4 h-4 transform bg-white rounded-full transition-transform "+(t?"translate-x-6":"translate-x-1")}))))},_=e=>{let{value:t,onChange:a,label:s,description:l,disabled:i=!1,min:r=1,max:c=30,suffix:o=""}=e;return n.createElement("div",{className:"flex justify-between items-start p-4 hover:bg-secondary rounded transition-colors"},n.createElement("div",{className:"flex flex-col gap-1"},n.createElement("label",{className:"font-medium"},s),l&&n.createElement("span",{className:"text-sm text-secondary"},l)),n.createElement("div",{className:"flex items-center gap-2"},n.createElement("input",{type:"number",value:t,onChange:e=>{const t=parseInt(e.target.value);!isNaN(t)&&t>=r&&t<=c&&a(t)},disabled:i,min:r,max:c,className:"w-16 px-2 py-1 text-sm border border-secondary rounded focus:border-accent focus:ring-1 focus:ring-accent outline-none disabled:opacity-50 bg-primary"}),o&&n.createElement("span",{className:"text-sm text-secondary"},o)))};var w=e=>{var t,a,s;let{userId:l}=e;const{serverSettings:i,uiSettings:r,initializeSettings:c}=(0,o.C)(),{0:m,1:u}=(0,n.useState)({show_llm_call_events:!1,expanded_messages_by_default:!1,show_agent_flow_by_default:!1,human_input_timeout_minutes:3}),{0:g,1:f}=(0,n.useState)(!1),{0:w,1:N}=(0,n.useState)(!1),[S,k]=p.Ay.useMessage();(0,n.useEffect)((()=>{u(r)}),[r]);const C=(e,t)=>{u((a=>({...a,[e]:t}))),f(!0)};return n.createElement("div",{className:" "},k,n.createElement("div",{className:"flex justify-between items-center mb-4"},n.createElement("h3",{className:"text-lg font-medium"},"UI Settings"),n.createElement("div",{className:"space-x-2 inline-flex"},n.createElement(d.A,{title:"Reset to defaults"},n.createElement(h.Ay,{icon:n.createElement(y.A,{className:"w-4 h-4"}),onClick:async()=>{try{if(N(!0),!i)return S.error("Settings not loaded"),void N(!1);const e={show_llm_call_events:!1,expanded_messages_by_default:!1,show_agent_flow_by_default:!1,human_input_timeout_minutes:3};u(e);const t={...i,config:{...i.config,ui:e},created_at:void 0,updated_at:void 0};console.log("Updated settings:",t),await E.Y.updateSettings(t,l),await c(l),f(!1),S.success("UI settings reset successfully")}catch(e){console.error("Failed to reset UI settings:",e),S.error("Failed to reset UI settings")}finally{N(!1)}},disabled:w},"Reset")),n.createElement(d.A,{title:g?"Save your changes":"No unsaved changes"},n.createElement(h.Ay,{type:"primary",icon:n.createElement("div",{className:"relative"},n.createElement(b.A,{className:"w-4 h-4"}),g&&n.createElement("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})),onClick:async()=>{try{if(N(!0),!i)return S.error("Settings not loaded"),void N(!1);const e={...i,config:{...i.config,ui:m},created_at:void 0,updated_at:void 0};await E.Y.updateSettings(e,l),await c(l),f(!1),S.success("UI settings saved successfully")}catch(e){console.error("Failed to save UI settings:",e),S.error("Failed to save UI settings")}finally{N(!1)}},disabled:!g||w,loading:w},"Save")))),n.createElement("div",{className:"space-y-0 rounded border border-secondary"},n.createElement(x,{checked:m.show_llm_call_events,onChange:e=>C("show_llm_call_events",e),label:"Show LLM Events",description:"Display detailed LLM call logs in the message thread",disabled:w}),n.createElement(x,{checked:null!==(t=m.expanded_messages_by_default)&&void 0!==t&&t,onChange:e=>C("expanded_messages_by_default",e),label:"Expand Messages by Default",description:"Automatically expand message threads when they load",disabled:w}),n.createElement(x,{checked:null!==(a=m.show_agent_flow_by_default)&&void 0!==a&&a,onChange:e=>C("show_agent_flow_by_default",e),label:"Show Agent Flow by Default",description:"Display the agent flow diagram automatically",disabled:w}),n.createElement(_,{value:null!==(s=m.human_input_timeout_minutes)&&void 0!==s?s:3,onChange:e=>C("human_input_timeout_minutes",e),label:"Human Input Timeout",description:"How long to wait for user input before timing out (1-30 minutes)",disabled:w,min:1,max:30,suffix:"minutes"})),n.createElement("div",{className:"mt-4 hidden text-xs text-secondary"},n.createElement(v.A,{strokeWidth:1.5,className:"inline-block mr-1 h-4 w-4"})," ","These settings are automatically saved and synced across browser sessions"))};const N=()=>{const{0:e,1:t}=(0,n.useState)((()=>{if("undefined"!=typeof window){const e=localStorage.getItem("settingsSidebar");return null===e||JSON.parse(e)}return!0})),{user:a}=(0,n.useContext)(f.v),s=(null==a?void 0:a.id)||"",{serverSettings:i,resetUISettings:d,initializeSettings:m,isLoading:u}=(0,o.C)();if((0,n.useEffect)((()=>{s&&m(s)}),[s,m]),(0,n.useEffect)((()=>{"undefined"!=typeof window&&localStorage.setItem("settingsSidebar",JSON.stringify(e))}),[e]),u)return n.createElement("div",{className:"p-8 text-center"},"Loading settings...");null==i||i.config.default_model_client;const p=[{key:"ui",label:n.createElement("span",{className:"flex items-center gap-2"},n.createElement(r,{className:"w-4 h-4"}),"UI Settings"),children:n.createElement(w,{userId:s})}];return n.createElement("div",{className:"relative flex h-full w-full"},n.createElement("div",{className:"absolute left-0 top-0 h-full transition-all duration-200 ease-in-out "+(e?"w-64":"w-12")},n.createElement(g,{isOpen:e,sections:[{id:"settings",title:"Settings",icon:c,content:()=>n.createElement(n.Fragment,null)}],currentSection:{id:"settings",title:"Settings",icon:c,content:()=>n.createElement(n.Fragment,null)},onToggle:()=>t(!e),onSelectSection:()=>{}})),n.createElement("div",{className:"flex-1 transition-all max-w-5xl -mr-6 duration-200 "+(e?"ml-64":"ml-12")},n.createElement("div",{className:"p-4 pt-2"},n.createElement("div",{className:"flex items-center gap-2 mb-4 text-sm"},n.createElement("span",{className:"text-primary font-medium"},"Settings")),n.createElement("div",{className:"flex items-center gap-2 mb-8 text-sm"},n.createElement("span",{className:"text-secondary"},"Manage your settings and preferences")),n.createElement("div",{className:"  rounded-lg shadow-sm"},n.createElement(l.A,{defaultActiveKey:"ui",items:p,size:"large",className:"settings-tabs"})))))};var S=e=>{let{data:t}=e;return n.createElement(s.A,{meta:t.site.siteMetadata,title:"Home",link:"/settings"},n.createElement("main",{style:{height:"100%"},className:" h-full "},n.createElement(N,null)))}},5974:function(e,t,a){function n(e,t,a){const{focusElCls:n,focus:s,borderElCls:l}=a,i=l?"> *":"",r=["hover",s?"focus":null,"active"].filter(Boolean).map((e=>`&:${e} ${i}`)).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[r]:{zIndex:2}},n?{[`&${n}`]:{zIndex:2}}:{}),{[`&[disabled] ${i}`]:{zIndex:0}})}}function s(e,t,a){const{borderElCls:n}=a,s=n?`> ${n}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${s}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${s}, &${e}-sm ${s}, &${e}-lg ${s}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${s}, &${e}-sm ${s}, &${e}-lg ${s}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function l(e,t={focus:!0}){const{componentCls:a}=e,l=`${a}-compact`;return{[l]:Object.assign(Object.assign({},n(e,l,t)),s(a,l,t))}}a.d(t,{G:function(){return l}})},8852:function(e,t,a){a.d(t,{A:function(){return n}});const n=(0,a(1788).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},9492:function(e,t,a){a.d(t,{A:function(){return n}});const n=(0,a(1788).A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])}}]);
//# sourceMappingURL=component---src-pages-settings-tsx-bb985ef53e2f814790ff.js.map