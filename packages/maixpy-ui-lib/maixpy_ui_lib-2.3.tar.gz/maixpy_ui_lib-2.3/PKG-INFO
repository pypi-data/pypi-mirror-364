Metadata-Version: 2.4
Name: maixpy-ui-lib
Version: 2.3
Summary: A lightweight UI component library for MaixPy.
Project-URL: Homepage, https://github.com/aristorechina/MaixPy-UI-Lib/
Project-URL: Repository, https://github.com/aristorechina/MaixPy-UI-Lib/
Project-URL: Bug Tracker, https://github.com/aristorechina/MaixPy-UI-Lib/issues
Author: Aristore, levi_jia, HYKMAX
License-Expression: Apache-2.0
License-File: LICENSE
Keywords: embedded,gui,maixpy,micropython,ui
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Topic :: Software Development :: Embedded Systems
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.8
Requires-Dist: maixpy
Description-Content-Type: text/markdown

# MaixPy-UI-Libï¼šä¸€æ¬¾ä¸º MaixPy å¼€å‘çš„è½»é‡çº§ UI ç»„ä»¶åº“

[![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)](https://github.com/aristorechina/MaixPy-UI-Lib/blob/main/LICENSE) [![Version](https://img.shields.io/badge/version-2.3-brightgreen.svg)](https://github.com/aristorechina/MaixPy-UI-Lib)

æœ¬é¡¹ç›®æ˜¯ä¸€æ¬¾ä¸º MaixPy å¼€å‘çš„è½»é‡çº§ UI ç»„ä»¶åº“ï¼Œéµå¾ª `Apache 2.0` åè®®ã€‚

æ¬¢è¿ç»™æœ¬é¡¹ç›®æprï¼Œè¦æ˜¯è§‰å¾—å¥½ç”¨çš„è¯è¯·ç»™æœ¬é¡¹ç›®ç‚¹ä¸ªstarâ­

---

## ğŸ–¼ï¸åŠŸèƒ½å±•ç¤º

ä»¥ä¸‹ç”»é¢å‡æˆªå–è‡ªæœ¬é¡¹ç›®çš„ `main.py`

![button](https://raw.githubusercontent.com/aristorechina/MaixPy-UI-Lib/main/pics/button.jpg)

![switch](https://raw.githubusercontent.com/aristorechina/MaixPy-UI-Lib/main/pics/switch.jpg)

![slider](https://raw.githubusercontent.com/aristorechina/MaixPy-UI-Lib/main/pics/slider.jpg)

![radiobutton](https://raw.githubusercontent.com/aristorechina/MaixPy-UI-Lib/main/pics/radiobutton.jpg)

![checkbox](https://raw.githubusercontent.com/aristorechina/MaixPy-UI-Lib/main/pics/checkbox.jpg)

---

## ğŸ“¦ å®‰è£…

`pip install maixpy-ui-lib`

---

## ğŸš€å¿«é€Ÿä¸Šæ‰‹

æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»“åº“ä¸­çš„ç¤ºä¾‹ç¨‹åº `examples/demo.py` æ¥å¿«é€Ÿç†Ÿæ‚‰æœ¬é¡¹ç›®çš„åŸºæœ¬åŠŸèƒ½å’Œä½¿ç”¨æ–¹æ³•ã€‚

---

## ğŸ“–ç»„ä»¶è¯¦è§£

### 1. æŒ‰é’® (Button)

æŒ‰é’®æ˜¯æœ€åŸºæœ¬çš„äº¤äº’ç»„ä»¶ï¼Œç”¨äºè§¦å‘ä¸€ä¸ªæ“ä½œã€‚

#### ä½¿ç”¨æ–¹å¼
1.  åˆ›å»ºä¸€ä¸ª `ButtonManager` å®ä¾‹ã€‚
2.  åˆ›å»º `Button` å®ä¾‹ï¼Œå®šä¹‰å…¶çŸ©å½¢åŒºåŸŸã€æ ‡ç­¾æ–‡æœ¬å’Œå›è°ƒå‡½æ•°ã€‚
3.  ä½¿ç”¨ `manager.add_button()` å°†æŒ‰é’®å®ä¾‹æ·»åŠ åˆ°ç®¡ç†å™¨ä¸­ã€‚
4.  åœ¨ä¸»å¾ªç¯ä¸­ï¼Œè°ƒç”¨ `manager.handle_events(img)` æ¥å¤„ç†è§¦æ‘¸äº‹ä»¶å¹¶ç»˜åˆ¶æŒ‰é’®ã€‚

#### ç¤ºä¾‹

```python
from maix import display, camera, app, touchscreen, image
from maixpy_ui import Button, ButtonManager
import time

# 1. åˆå§‹åŒ–ç¡¬ä»¶
disp = display.Display()
ts = touchscreen.TouchScreen()
cam = camera.Camera()

# 2. å®šä¹‰å›è°ƒå‡½æ•°
# å½“æŒ‰é’®è¢«ç‚¹å‡»æ—¶ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¢«è°ƒç”¨
def on_button_click():
    print("Hello, World! The button was clicked.")
    # ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰§è¡Œä»»ä½•æ“ä½œï¼Œæ¯”å¦‚åˆ‡æ¢é¡µé¢ã€æ‹ç…§ç­‰

# 3. åˆå§‹åŒ–UI
# åˆ›å»ºä¸€ä¸ªæŒ‰é’®ç®¡ç†å™¨
btn_manager = ButtonManager(ts, disp)

# åˆ›å»ºä¸€ä¸ªæŒ‰é’®å®ä¾‹
# rect: [x, y, å®½åº¦, é«˜åº¦]
# label: æŒ‰é’®ä¸Šæ˜¾ç¤ºçš„æ–‡å­—
# callback: ç‚¹å‡»æ—¶è°ƒç”¨çš„å‡½æ•°
hello_button = Button(
    rect=[240, 200, 160, 80],
    label="Click Me",
    text_scale=2.0,
    callback=on_button_click,
    bg_color=(0, 120, 220),       # è“è‰²èƒŒæ™¯
    pressed_color=(0, 80, 180),   # æŒ‰ä¸‹æ—¶æ·±è“è‰²
    text_color=(255, 255, 255)    # ç™½è‰²æ–‡å­—
)

# å°†æŒ‰é’®æ·»åŠ åˆ°ç®¡ç†å™¨
btn_manager.add_button(hello_button)

# 4. ä¸»å¾ªç¯
print("Button example running. Press the button on the screen.")
while not app.need_exit():
    img = cam.read()
    
    # åœ¨æ¯ä¸€å¸§ä¸­ï¼Œè®©ç®¡ç†å™¨å¤„ç†äº‹ä»¶å¹¶ç»˜åˆ¶æŒ‰é’®
    btn_manager.handle_events(img)
    
    disp.show(img)
    time.sleep(0.02) # é™ä½CPUä½¿ç”¨ç‡
```

#### `Button` ç±»
åˆ›å»ºä¸€ä¸ªå¯äº¤äº’çš„æŒ‰é’®ç»„ä»¶ã€‚è¯¥ç»„ä»¶å¯ä»¥å“åº”è§¦æ‘¸äº‹ä»¶ï¼Œå¹¶åœ¨æŒ‰ä¸‹æ—¶æ”¹å˜å¤–è§‚ï¼Œé‡Šæ”¾æ—¶æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚

##### æ„é€ å‡½æ•°: `__init__`
|        å‚æ•°        |          ç±»å‹          |                    æè¿°                     |      é»˜è®¤å€¼       |
| :----------------: | :--------------------: | :-----------------------------------------: | :---------------: |
|       `rect`       |    `Sequence[int]`     | æŒ‰é’®çš„ä½ç½®å’Œå°ºå¯¸ `[x, y, w, h]`ã€‚**å¿…éœ€**ã€‚ |         -         |
|      `label`       |         `str`          |        æŒ‰é’®ä¸Šæ˜¾ç¤ºçš„æ–‡æœ¬ã€‚**å¿…éœ€**ã€‚         |         -         |
|     `callback`     |   `Callable | None`    |    å½“æŒ‰é’®è¢«ç‚¹å‡»æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚**å¿…éœ€**ã€‚     |         -         |
|     `bg_color`     | `Sequence[int] | None` |            èƒŒæ™¯é¢œè‰² (R, G, B)ã€‚             |  `(50, 50, 50)`   |
|  `pressed_color`   | `Sequence[int] | None` |       æŒ‰ä¸‹çŠ¶æ€çš„èƒŒæ™¯é¢œè‰² (R, G, B)ã€‚        |  `(0, 120, 220)`  |
|    `text_color`    |    `Sequence[int]`     |            æ–‡æœ¬é¢œè‰² (R, G, B)ã€‚             | `(255, 255, 255)` |
|   `border_color`   |    `Sequence[int]`     |            è¾¹æ¡†é¢œè‰² (R, G, B)ã€‚             | `(200, 200, 200)` |
| `border_thickness` |         `int`          |             è¾¹æ¡†åšåº¦ï¼ˆåƒç´ ï¼‰ã€‚              |        `2`        |
|    `text_scale`    |        `float`         |              æ–‡æœ¬çš„ç¼©æ”¾æ¯”ä¾‹ã€‚               |       `1.5`       |
|       `font`       |      `str | None`      |            ä½¿ç”¨çš„å­—ä½“æ–‡ä»¶è·¯å¾„ã€‚             |      `None`       |
|     `align_h`      |         `str`          | æ°´å¹³å¯¹é½æ–¹å¼ ('left', 'center', 'right')ã€‚  |    `'center'`     |
|     `align_v`      |         `str`          | å‚ç›´å¯¹é½æ–¹å¼ ('top', 'center', 'bottom')ã€‚  |    `'center'`     |

##### æ–¹æ³• (Methods)
|        æ–¹æ³•         |                             å‚æ•°                             |             æè¿°             |
| :-----------------: | :----------------------------------------------------------: | :--------------------------: |
|     `draw(img)`     |     `img` (`maix.image.Image`): å°†è¦ç»˜åˆ¶æŒ‰é’®çš„ç›®æ ‡å›¾åƒã€‚     |   åœ¨æŒ‡å®šçš„å›¾åƒä¸Šç»˜åˆ¶æŒ‰é’®ã€‚   |
| `handle_event(...)` | `x` (`int`): è§¦æ‘¸ç‚¹çš„ X åæ ‡ã€‚<br>`y` (`int`): è§¦æ‘¸ç‚¹çš„ Y åæ ‡ã€‚<br>`pressed` (`bool|int`): è§¦æ‘¸å±æ˜¯å¦è¢«æŒ‰ä¸‹ã€‚<br>`img_w` (`int`): å›¾åƒç¼“å†²åŒºçš„å®½åº¦ã€‚<br>`img_h` (`int`): å›¾åƒç¼“å†²åŒºçš„é«˜åº¦ã€‚<br>`disp_w` (`int`): æ˜¾ç¤ºå±çš„å®½åº¦ã€‚<br>`disp_h` (`int`): æ˜¾ç¤ºå±çš„é«˜åº¦ã€‚ | å¤„ç†è§¦æ‘¸äº‹ä»¶å¹¶æ›´æ–°æŒ‰é’®çŠ¶æ€ã€‚ |

#### `ButtonManager` ç±»
ç®¡ç†ä¸€ç»„æŒ‰é’®çš„äº‹ä»¶å¤„ç†å’Œç»˜åˆ¶ã€‚

##### æ„é€ å‡½æ•°: `__init__`
| å‚æ•°   | ç±»å‹                      | æè¿°             |
| :----: | :-----------------------: | :--------------: |
| `ts`   | `touchscreen.TouchScreen` | è§¦æ‘¸å±è®¾å¤‡å®ä¾‹ã€‚**å¿…éœ€**ã€‚ |
| `disp` | `display.Display`         | æ˜¾ç¤ºè®¾å¤‡å®ä¾‹ã€‚**å¿…éœ€**ã€‚   |

##### æ–¹æ³• (Methods)
|         æ–¹æ³•         |                       å‚æ•°                       |                æè¿°                |
| :------------------: | :----------------------------------------------: | :--------------------------------: |
| `add_button(button)` |   `button` (`Button`): è¦æ·»åŠ çš„ Button å®ä¾‹ã€‚    |      å‘ç®¡ç†å™¨ä¸­æ·»åŠ ä¸€ä¸ªæŒ‰é’®ã€‚      |
| `handle_events(img)` | `img` (`maix.image.Image`): ç»˜åˆ¶æŒ‰é’®çš„ç›®æ ‡å›¾åƒã€‚ | å¤„ç†æ‰€æœ‰å—ç®¡æŒ‰é’®çš„äº‹ä»¶å¹¶è¿›è¡Œç»˜åˆ¶ã€‚ |

---

### 2. æ»‘å— (Slider)

æ»‘å—å…è®¸ç”¨æˆ·åœ¨ä¸€ä¸ªè¿ç»­çš„èŒƒå›´å†…é€‰æ‹©ä¸€ä¸ªå€¼ã€‚

#### ä½¿ç”¨æ–¹å¼
1.  åˆ›å»ºä¸€ä¸ª `SliderManager` å®ä¾‹ã€‚
2.  åˆ›å»º `Slider` å®ä¾‹ï¼Œå®šä¹‰å…¶åŒºåŸŸã€æ•°å€¼èŒƒå›´å’Œå›è°ƒå‡½æ•°ã€‚
3.  ä½¿ç”¨ `manager.add_slider()` æ·»åŠ æ»‘å—ã€‚
4.  åœ¨ä¸»å¾ªç¯ä¸­ï¼Œè°ƒç”¨ `manager.handle_events(img)`ã€‚

#### ç¤ºä¾‹
```python
from maix import display, camera, app, touchscreen, image
from maixpy_ui import Slider, SliderManager
import time

# 1. åˆå§‹åŒ–ç¡¬ä»¶
disp = display.Display()
ts = touchscreen.TouchScreen()
cam = camera.Camera()

# å…¨å±€å˜é‡ï¼Œç”¨äºå­˜å‚¨æ»‘å—çš„å€¼
current_brightness = 128 

# 2. å®šä¹‰å›è°ƒå‡½æ•°
# å½“æ»‘å—çš„å€¼æ”¹å˜æ—¶ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¢«è°ƒç”¨
def on_slider_update(value):
    global current_brightness
    current_brightness = value
    print(f"Slider value updated to: {value}")

# 3. åˆå§‹åŒ–UI
slider_manager = SliderManager(ts, disp)

brightness_slider = Slider(
    rect=[50, 230, 540, 20],
    scale=2.0,
    min_val=0,
    max_val=255,
    default_val=current_brightness,
    callback=on_slider_update,
    label="Slider"
)

slider_manager.add_slider(brightness_slider)

# 4. ä¸»å¾ªç¯
print("Slider example running. Drag the slider.")
title_color = image.Color.from_rgb(255, 255, 255)

while not app.need_exit():
    img = cam.read()
    
    # å®æ—¶æ˜¾ç¤ºæ»‘å—çš„å€¼
    img.draw_string(20, 20, f"Value: {current_brightness}", scale=2.0, color=title_color)
    
    # å¤„ç†æ»‘å—äº‹ä»¶å¹¶ç»˜åˆ¶
    slider_manager.handle_events(img)
    
    disp.show(img)
    time.sleep(0.02)
```

#### `Slider` ç±»
åˆ›å»ºä¸€ä¸ªå¯æ‹–åŠ¨çš„æ»‘å—ç»„ä»¶ï¼Œç”¨äºåœ¨ä¸€å®šèŒƒå›´å†…é€‰æ‹©ä¸€ä¸ªå€¼ã€‚

##### æ„é€ å‡½æ•°: `__init__`
|          å‚æ•°          |       ç±»å‹        |                    æè¿°                     |      é»˜è®¤å€¼       |
| :--------------------: | :---------------: | :-----------------------------------------: | :---------------: |
|         `rect`         |  `Sequence[int]`  | æ»‘å—çš„ä½ç½®å’Œå°ºå¯¸ `[x, y, w, h]`ã€‚**å¿…éœ€**ã€‚ |         -         |
|        `scale`         |      `float`      |            æ»‘å—çš„æ•´ä½“ç¼©æ”¾æ¯”ä¾‹ã€‚             |       `1.0`       |
|       `min_val`        |       `int`       |               æ»‘å—çš„æœ€å°å€¼ã€‚                |        `0`        |
|       `max_val`        |       `int`       |               æ»‘å—çš„æœ€å¤§å€¼ã€‚                |       `100`       |
|     `default_val`      |       `int`       |               æ»‘å—çš„é»˜è®¤å€¼ã€‚                |       `50`        |
|       `callback`       | `Callable | None` |   å€¼æ”¹å˜æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œæ¥æ”¶æ–°å€¼ä½œä¸ºå‚æ•°ã€‚    |      `None`       |
|        `label`         |       `str`       |            æ»‘å—ä¸Šæ–¹çš„æ ‡ç­¾æ–‡æœ¬ã€‚             |       `""`        |
|     `track_color`      |  `Sequence[int]`  |          æ»‘è½¨èƒŒæ™¯é¢œè‰² (R, G, B)ã€‚           |  `(60, 60, 60)`   |
|    `progress_color`    |  `Sequence[int]`  |         æ»‘è½¨è¿›åº¦æ¡é¢œè‰² (R, G, B)ã€‚          |  `(0, 120, 220)`  |
|     `handle_color`     |  `Sequence[int]`  |          æ»‘å—æ‰‹æŸ„é¢œè‰² (R, G, B)ã€‚           | `(255, 255, 255)` |
| `handle_border_color`  |  `Sequence[int]`  |        æ»‘å—æ‰‹æŸ„è¾¹æ¡†é¢œè‰² (R, G, B)ã€‚         | `(100, 100, 100)` |
| `handle_pressed_color` |  `Sequence[int]`  |         æŒ‰ä¸‹æ—¶æ‰‹æŸ„é¢œè‰² (R, G, B)ã€‚          | `(220, 220, 255)` |
|     `label_color`      |  `Sequence[int]`  |          æ ‡ç­¾æ–‡æœ¬é¢œè‰² (R, G, B)ã€‚           | `(200, 200, 200)` |
|   `tooltip_bg_color`   |  `Sequence[int]`  |       æ‹–åŠ¨æ—¶æç¤ºæ¡†èƒŒæ™¯è‰² (R, G, B)ã€‚        |    `(0, 0, 0)`    |
|  `tooltip_text_color`  |  `Sequence[int]`  |      æ‹–åŠ¨æ—¶æç¤ºæ¡†æ–‡æœ¬é¢œè‰² (R, G, B)ã€‚       | `(255, 255, 255)` |
| `show_tooltip_on_drag` |   `bool | int`    |        æ˜¯å¦åœ¨æ‹–åŠ¨æ—¶æ˜¾ç¤ºæ•°å€¼æç¤ºæ¡†ã€‚         |      `True`       |

##### æ–¹æ³• (Methods)
|        æ–¹æ³•         |                             å‚æ•°                             |             æè¿°             |
| :-----------------: | :----------------------------------------------------------: | :--------------------------: |
|     `draw(img)`     |     `img` (`maix.image.Image`): å°†è¦ç»˜åˆ¶æ»‘å—çš„ç›®æ ‡å›¾åƒã€‚     |   åœ¨æŒ‡å®šçš„å›¾åƒä¸Šç»˜åˆ¶æ»‘å—ã€‚   |
| `handle_event(...)` | `x` (`int`): è§¦æ‘¸ç‚¹çš„ X åæ ‡ã€‚<br>`y` (`int`): è§¦æ‘¸ç‚¹çš„ Y åæ ‡ã€‚<br>`pressed` (`bool|int`): è§¦æ‘¸å±æ˜¯å¦è¢«æŒ‰ä¸‹ã€‚<br>`img_w` (`int`): å›¾åƒç¼“å†²åŒºçš„å®½åº¦ã€‚<br>`img_h` (`int`): å›¾åƒç¼“å†²åŒºçš„é«˜åº¦ã€‚<br>`disp_w` (`int`): æ˜¾ç¤ºå±çš„å®½åº¦ã€‚<br>`disp_h` (`int`): æ˜¾ç¤ºå±çš„é«˜åº¦ã€‚ | å¤„ç†è§¦æ‘¸äº‹ä»¶å¹¶æ›´æ–°æ»‘å—çŠ¶æ€ã€‚ |

#### `SliderManager` ç±»
ç®¡ç†ä¸€ç»„æ»‘å—çš„äº‹ä»¶å¤„ç†å’Œç»˜åˆ¶ã€‚

##### æ„é€ å‡½æ•°: `__init__`
| å‚æ•°   | ç±»å‹                      | æè¿°             |
| :----: | :-----------------------: | :--------------: |
| `ts`   | `touchscreen.TouchScreen` | è§¦æ‘¸å±è®¾å¤‡å®ä¾‹ã€‚**å¿…éœ€**ã€‚ |
| `disp` | `display.Display`         | æ˜¾ç¤ºè®¾å¤‡å®ä¾‹ã€‚**å¿…éœ€**ã€‚   |

##### æ–¹æ³• (Methods)
|         æ–¹æ³•         |                       å‚æ•°                       |                æè¿°                |
| :------------------: | :----------------------------------------------: | :--------------------------------: |
| `add_slider(slider)` |   `slider` (`Slider`): è¦æ·»åŠ çš„ Slider å®ä¾‹ã€‚    |      å‘ç®¡ç†å™¨ä¸­æ·»åŠ ä¸€ä¸ªæ»‘å—ã€‚      |
| `handle_events(img)` | `img` (`maix.image.Image`): ç»˜åˆ¶æ»‘å—çš„ç›®æ ‡å›¾åƒã€‚ | å¤„ç†æ‰€æœ‰å—ç®¡æ»‘å—çš„äº‹ä»¶å¹¶è¿›è¡Œç»˜åˆ¶ã€‚ |

---

### 3. å¼€å…³ (Switch)

ä¸€ä¸ªå…·æœ‰â€œå¼€â€å’Œâ€œå…³â€ä¸¤ç§çŠ¶æ€çš„åˆ‡æ¢æ§ä»¶ã€‚

#### ä½¿ç”¨æ–¹å¼
1.  åˆ›å»ºä¸€ä¸ª `SwitchManager` å®ä¾‹ã€‚
2.  åˆ›å»º `Switch` å®ä¾‹ï¼Œå®šä¹‰å…¶ä½ç½®ã€åˆå§‹çŠ¶æ€å’Œå›è°ƒå‡½æ•°ã€‚
3.  ä½¿ç”¨ `manager.add_switch()` æ·»åŠ å¼€å…³ã€‚
4.  åœ¨ä¸»å¾ªç¯ä¸­ï¼Œè°ƒç”¨ `manager.handle_events(img)`ã€‚

#### ç¤ºä¾‹
```python
from maix import display, camera, app, touchscreen, image
from maixpy_ui import Switch, SwitchManager
import time

# 1. åˆå§‹åŒ–ç¡¬ä»¶
disp = display.Display()
ts = touchscreen.TouchScreen()
cam = camera.Camera()

# å…¨å±€å˜é‡ï¼Œç”¨äºå­˜å‚¨å¼€å…³çŠ¶æ€
is_light_on = False

# 2. å®šä¹‰å›è°ƒå‡½æ•°
def on_switch_toggle(is_on):
    global is_light_on
    is_light_on = is_on
    status = "ON" if is_on else "OFF"
    print(f"Switch toggled. Light is now {status}.")

# 3. åˆå§‹åŒ–UI
switch_manager = SwitchManager(ts, disp)

light_switch = Switch(
    position=[280, 190],
    scale=2.0,
    is_on=is_light_on,
    callback=on_switch_toggle
)

switch_manager.add_switch(light_switch)

# 4. ä¸»å¾ªç¯
print("Switch example running. Tap the switch.")
title_color = image.Color.from_rgb(255, 255, 255)
status_on_color = image.Color.from_rgb(30, 200, 30)
status_off_color = image.Color.from_rgb(80, 80, 80)

while not app.need_exit():
    img = cam.read()
    
    # æ ¹æ®å¼€å…³çŠ¶æ€æ˜¾ç¤ºä¸€ä¸ªçŠ¶æ€æŒ‡ç¤ºç¯
    status_text = "Light: ON" if is_light_on else "Light: OFF"
    status_color = status_on_color if is_light_on else status_off_color
    img.draw_string(20, 20, status_text, scale=1.5, color=title_color)
    img.draw_rect(310, 280, 50, 50, color=status_color, thickness=-1)
    
    switch_manager.handle_events(img)
    
    disp.show(img)
    time.sleep(0.02)
```

#### `Switch` ç±»
åˆ›å»ºä¸€ä¸ªå¼€å…³ï¼ˆSwitchï¼‰ç»„ä»¶ï¼Œç”¨äºåœ¨å¼€/å…³ä¸¤ç§çŠ¶æ€ä¹‹é—´åˆ‡æ¢ã€‚

##### æ„é€ å‡½æ•°: `__init__`
|           å‚æ•°           |       ç±»å‹        |                         æè¿°                         |      é»˜è®¤å€¼       |
| :----------------------: | :---------------: | :--------------------------------------------------: | :---------------: |
|        `position`        |  `Sequence[int]`  |        å¼€å…³çš„å·¦ä¸Šè§’åæ ‡ `[x, y]`ã€‚**å¿…éœ€**ã€‚         |         -         |
|         `scale`          |      `float`      |                 å¼€å…³çš„æ•´ä½“ç¼©æ”¾æ¯”ä¾‹ã€‚                 |       `1.0`       |
|         `is_on`          |   `bool | int`    |             å¼€å…³çš„åˆå§‹çŠ¶æ€ï¼ŒTrue ä¸ºå¼€ã€‚              |      `False`      |
|        `callback`        | `Callable | None` | çŠ¶æ€åˆ‡æ¢æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªå¸ƒå°”å€¼å‚æ•°è¡¨ç¤ºæ–°çŠ¶æ€ã€‚ |      `None`       |
|        `on_color`        |  `Sequence[int]`  |           å¼€å¯çŠ¶æ€ä¸‹çš„èƒŒæ™¯é¢œè‰² (R, G, B)ã€‚           |  `(30, 200, 30)`  |
|       `off_color`        |  `Sequence[int]`  |           å…³é—­çŠ¶æ€ä¸‹çš„èƒŒæ™¯é¢œè‰² (R, G, B)ã€‚           | `(100, 100, 100)` |
|      `handle_color`      |  `Sequence[int]`  |                æ‰‹æŸ„çš„é¢œè‰² (R, G, B)ã€‚                | `(255, 255, 255)` |
|  `handle_pressed_color`  |  `Sequence[int]`  |             æŒ‰ä¸‹æ—¶æ‰‹æŸ„çš„é¢œè‰² (R, G, B)ã€‚             | `(220, 220, 255)` |
| `handle_radius_increase` |       `int`       |                æŒ‰ä¸‹æ—¶æ‰‹æŸ„åŠå¾„å¢åŠ é‡ã€‚                |        `2`        |

##### æ–¹æ³• (Methods)
|        æ–¹æ³•         |                             å‚æ•°                             |               æè¿°               |
| :-----------------: | :----------------------------------------------------------: | :------------------------------: |
|     `toggle()`      |                              -                               | åˆ‡æ¢å¼€å…³çš„çŠ¶æ€ï¼Œå¹¶æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚ |
|     `draw(img)`     |     `img` (`maix.image.Image`): å°†è¦ç»˜åˆ¶å¼€å…³çš„ç›®æ ‡å›¾åƒã€‚     |     åœ¨æŒ‡å®šçš„å›¾åƒä¸Šç»˜åˆ¶å¼€å…³ã€‚     |
| `handle_event(...)` | `x` (`int`): è§¦æ‘¸ç‚¹çš„ X åæ ‡ã€‚<br>`y` (`int`): è§¦æ‘¸ç‚¹çš„ Y åæ ‡ã€‚<br>`pressed` (`bool|int`): è§¦æ‘¸å±æ˜¯å¦è¢«æŒ‰ä¸‹ã€‚<br>`img_w` (`int`): å›¾åƒç¼“å†²åŒºçš„å®½åº¦ã€‚<br>`img_h` (`int`): å›¾åƒç¼“å†²åŒºçš„é«˜åº¦ã€‚<br>`disp_w` (`int`): æ˜¾ç¤ºå±çš„å®½åº¦ã€‚<br>`disp_h` (`int`): æ˜¾ç¤ºå±çš„é«˜åº¦ã€‚ |   å¤„ç†è§¦æ‘¸äº‹ä»¶å¹¶æ›´æ–°å¼€å…³çŠ¶æ€ã€‚   |

#### `SwitchManager` ç±»
ç®¡ç†ä¸€ç»„å¼€å…³çš„äº‹ä»¶å¤„ç†å’Œç»˜åˆ¶ã€‚

##### æ„é€ å‡½æ•°: `__init__`
| å‚æ•°   | ç±»å‹                      | æè¿°             |
| :----: | :-----------------------: | :--------------: |
| `ts`   | `touchscreen.TouchScreen` | è§¦æ‘¸å±è®¾å¤‡å®ä¾‹ã€‚**å¿…éœ€**ã€‚ |
| `disp` | `display.Display`         | æ˜¾ç¤ºè®¾å¤‡å®ä¾‹ã€‚**å¿…éœ€**ã€‚   |

##### æ–¹æ³• (Methods)
|         æ–¹æ³•         |                       å‚æ•°                       |                æè¿°                |
| :------------------: | :----------------------------------------------: | :--------------------------------: |
| `add_switch(switch)` |   `switch` (`Switch`): è¦æ·»åŠ çš„ Switch å®ä¾‹ã€‚    |      å‘ç®¡ç†å™¨ä¸­æ·»åŠ ä¸€ä¸ªå¼€å…³ã€‚      |
| `handle_events(img)` | `img` (`maix.image.Image`): ç»˜åˆ¶å¼€å…³çš„ç›®æ ‡å›¾åƒã€‚ | å¤„ç†æ‰€æœ‰å—ç®¡å¼€å…³çš„äº‹ä»¶å¹¶è¿›è¡Œç»˜åˆ¶ã€‚ |

---

### 4. å¤é€‰æ¡† (Checkbox)

å…è®¸ç”¨æˆ·ä»ä¸€ç»„é€‰é¡¹ä¸­è¿›è¡Œå¤šé¡¹é€‰æ‹©ã€‚

#### ä½¿ç”¨æ–¹å¼
1.  åˆ›å»ºä¸€ä¸ª `CheckboxManager` å®ä¾‹ã€‚
2.  åˆ›å»ºå¤šä¸ª `Checkbox` å®ä¾‹ï¼Œæ¯ä¸ªéƒ½æœ‰ç‹¬ç«‹çš„å›è°ƒå’ŒçŠ¶æ€ã€‚
3.  ä½¿ç”¨ `manager.add_checkbox()` æ·»åŠ å®ƒä»¬ã€‚
4.  åœ¨ä¸»å¾ªç¯ä¸­ï¼Œè°ƒç”¨ `manager.handle_events(img)`ã€‚

#### ç¤ºä¾‹
```python
from maix import display, camera, app, touchscreen, image
from maixpy_ui import Checkbox, CheckboxManager
import time

# 1. åˆå§‹åŒ–ç¡¬ä»¶
disp = display.Display()
ts = touchscreen.TouchScreen()
cam = camera.Camera()

# å…¨å±€å­—å…¸ï¼Œç”¨äºå­˜å‚¨æ¯ä¸ªå¤é€‰æ¡†çš„çŠ¶æ€
options = {'Checkbox A': True, 'Checkbox B': False}

# 2. å®šä¹‰å›è°ƒå‡½æ•° (ä½¿ç”¨é—­åŒ…æ¥åŒºåˆ†æ˜¯å“ªä¸ªå¤é€‰æ¡†è¢«ç‚¹å‡»)
def create_checkbox_callback(key):
    def on_check_change(is_checked):
        options[key] = is_checked
        print(f"Option '{key}' is now {'checked' if is_checked else 'unchecked'}.")
    return on_check_change

# 3. åˆå§‹åŒ–UI
checkbox_manager = CheckboxManager(ts, disp)

checkbox_a = Checkbox(
    position=[80, 150],
    label="Checkbox A",
    is_checked=options['Checkbox A'],
    callback=create_checkbox_callback('Checkbox A'),
    scale=2.0
)
checkbox_b = Checkbox(
    position=[80, 300],
    label="Checkbox B",
    is_checked=options['Checkbox B'],
    callback=create_checkbox_callback('Checkbox B'),
    scale=2.0
)

checkbox_manager.add_checkbox(checkbox_a)
checkbox_manager.add_checkbox(checkbox_b)

# 4. ä¸»å¾ªç¯
print("Checkbox example running. Tap the checkboxes.")
title_color = image.Color.from_rgb(255, 255, 255)
while not app.need_exit():
    img = cam.read()
    
    # æ˜¾ç¤ºå½“å‰çŠ¶æ€
    a_status = "ON" if options['Checkbox A'] else "OFF"
    b_status = "ON" if options['Checkbox B'] else "OFF"
    img.draw_string(20, 20, f"Checkbox A: {a_status}, Checkbox B: {b_status}", scale=1.5, color=title_color)
    
    checkbox_manager.handle_events(img)
    
    disp.show(img)
    time.sleep(0.02)
```

#### `Checkbox` ç±»
åˆ›å»ºä¸€ä¸ªå¤é€‰æ¡†ï¼ˆCheckboxï¼‰ç»„ä»¶ï¼Œå¯ç‹¬ç«‹é€‰ä¸­æˆ–å–æ¶ˆã€‚

##### æ„é€ å‡½æ•°: `__init__`
|        å‚æ•°         |       ç±»å‹        |                         æè¿°                         |      é»˜è®¤å€¼       |
| :-----------------: | :---------------: | :--------------------------------------------------: | :---------------: |
|     `position`      |  `Sequence[int]`  |       å¤é€‰æ¡†çš„å·¦ä¸Šè§’åæ ‡ `[x, y]`ã€‚**å¿…éœ€**ã€‚        |         -         |
|       `label`       |       `str`       |           å¤é€‰æ¡†æ—è¾¹çš„æ ‡ç­¾æ–‡æœ¬ã€‚**å¿…éœ€**ã€‚           |         -         |
|       `scale`       |      `float`      |                å¤é€‰æ¡†çš„æ•´ä½“ç¼©æ”¾æ¯”ä¾‹ã€‚                |       `1.0`       |
|    `is_checked`     |   `bool | int`    |           å¤é€‰æ¡†çš„åˆå§‹çŠ¶æ€ï¼ŒTrue ä¸ºé€‰ä¸­ã€‚            |      `False`      |
|     `callback`      | `Callable | None` | çŠ¶æ€åˆ‡æ¢æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªå¸ƒå°”å€¼å‚æ•°è¡¨ç¤ºæ–°çŠ¶æ€ã€‚ |      `None`       |
|     `box_color`     |  `Sequence[int]`  |            æœªé€‰ä¸­æ—¶æ–¹æ¡†çš„é¢œè‰² (R, G, B)ã€‚            | `(200, 200, 200)` |
| `box_checked_color` |  `Sequence[int]`  |             é€‰ä¸­æ—¶æ–¹æ¡†çš„é¢œè‰² (R, G, B)ã€‚             |  `(0, 120, 220)`  |
|    `check_color`    |  `Sequence[int]`  |          é€‰ä¸­æ ‡è®°ï¼ˆå¯¹å‹¾ï¼‰çš„é¢œè‰² (R, G, B)ã€‚          | `(255, 255, 255)` |
|    `text_color`     |  `Sequence[int]`  |              æ ‡ç­¾æ–‡æœ¬çš„é¢œè‰² (R, G, B)ã€‚              | `(200, 200, 200)` |
|   `box_thickness`   |       `int`       |                   æ–¹æ¡†è¾¹æ¡†çš„åšåº¦ã€‚                   |        `2`        |

##### æ–¹æ³• (Methods)
|        æ–¹æ³•         |                             å‚æ•°                             |                æè¿°                |
| :-----------------: | :----------------------------------------------------------: | :--------------------------------: |
|     `toggle()`      |                              -                               | åˆ‡æ¢å¤é€‰æ¡†çš„é€‰ä¸­çŠ¶æ€ï¼Œå¹¶æ‰§è¡Œå›è°ƒã€‚ |
|     `draw(img)`     |    `img` (`maix.image.Image`): å°†è¦ç»˜åˆ¶å¤é€‰æ¡†çš„ç›®æ ‡å›¾åƒã€‚    |     åœ¨æŒ‡å®šçš„å›¾åƒä¸Šç»˜åˆ¶å¤é€‰æ¡†ã€‚     |
| `handle_event(...)` | `x` (`int`): è§¦æ‘¸ç‚¹çš„ X åæ ‡ã€‚<br>`y` (`int`): è§¦æ‘¸ç‚¹çš„ Y åæ ‡ã€‚<br>`pressed` (`bool|int`): è§¦æ‘¸å±æ˜¯å¦è¢«æŒ‰ä¸‹ã€‚<br>`img_w` (`int`): å›¾åƒç¼“å†²åŒºçš„å®½åº¦ã€‚<br>`img_h` (`int`): å›¾åƒç¼“å†²åŒºçš„é«˜åº¦ã€‚<br>`disp_w` (`int`): æ˜¾ç¤ºå±çš„å®½åº¦ã€‚<br>`disp_h` (`int`): æ˜¾ç¤ºå±çš„é«˜åº¦ã€‚ |   å¤„ç†è§¦æ‘¸äº‹ä»¶å¹¶æ›´æ–°å¤é€‰æ¡†çŠ¶æ€ã€‚   |

#### `CheckboxManager` ç±»
ç®¡ç†ä¸€ç»„å¤é€‰æ¡†çš„äº‹ä»¶å¤„ç†å’Œç»˜åˆ¶ã€‚

##### æ„é€ å‡½æ•°: `__init__`
| å‚æ•°   | ç±»å‹                      | æè¿°             |
| :----: | :-----------------------: | :--------------: |
| `ts`   | `touchscreen.TouchScreen` | è§¦æ‘¸å±è®¾å¤‡å®ä¾‹ã€‚**å¿…éœ€**ã€‚ |
| `disp` | `display.Display`         | æ˜¾ç¤ºè®¾å¤‡å®ä¾‹ã€‚**å¿…éœ€**ã€‚   |

##### æ–¹æ³• (Methods)
|           æ–¹æ³•           |                        å‚æ•°                        |                 æè¿°                 |
| :----------------------: | :------------------------------------------------: | :----------------------------------: |
| `add_checkbox(checkbox)` | `checkbox` (`Checkbox`): è¦æ·»åŠ çš„ Checkbox å®ä¾‹ã€‚  |      å‘ç®¡ç†å™¨ä¸­æ·»åŠ ä¸€ä¸ªå¤é€‰æ¡†ã€‚      |
|   `handle_events(img)`   | `img` (`maix.image.Image`): ç»˜åˆ¶å¤é€‰æ¡†çš„ç›®æ ‡å›¾åƒã€‚ | å¤„ç†æ‰€æœ‰å—ç®¡å¤é€‰æ¡†çš„äº‹ä»¶å¹¶è¿›è¡Œç»˜åˆ¶ã€‚ |

---

### 5. å•é€‰æ¡† (RadioButton)

å…è®¸ç”¨æˆ·ä»ä¸€ç»„äº’æ–¥çš„é€‰é¡¹ä¸­åªé€‰æ‹©ä¸€é¡¹ã€‚

#### ä½¿ç”¨æ–¹å¼
1.  åˆ›å»ºä¸€ä¸ª `RadioManager` å®ä¾‹ã€‚**æ³¨æ„**ï¼š`RadioManager` æ„é€ æ—¶éœ€è¦æ¥æ”¶ `default_value` å’Œä¸€ä¸ªå…¨å±€ `callback`ã€‚
2.  åˆ›å»º `RadioButton` å®ä¾‹ï¼Œæ¯ä¸ªæŒ‰é’®å¿…é¡»æœ‰å”¯ä¸€çš„ `value`ã€‚
3.  ä½¿ç”¨ `manager.add_radio()` æ·»åŠ å®ƒä»¬ã€‚
4.  åœ¨ä¸»å¾ªç¯ä¸­ï¼Œè°ƒç”¨ `manager.handle_events(img)`ã€‚ç®¡ç†å™¨ä¼šè‡ªåŠ¨å¤„ç†äº’æ–¥é€»è¾‘ã€‚

#### ç¤ºä¾‹
```python
from maix import display, camera, app, touchscreen, image
from maixpy_ui import RadioButton, RadioManager
import time

# 1. åˆå§‹åŒ–ç¡¬ä»¶
disp = display.Display()
ts = touchscreen.TouchScreen()
cam = camera.Camera()

# å…¨å±€å˜é‡ï¼Œå­˜å‚¨å½“å‰é€‰æ‹©çš„æ¨¡å¼
current_mode = None

# 2. å®šä¹‰å›è°ƒå‡½æ•°
# è¿™ä¸ªå›è°ƒç”± RadioManager è°ƒç”¨ï¼Œä¼ å…¥è¢«é€‰ä¸­é¡¹çš„ value
def on_mode_change(selected_value):
    global current_mode
    current_mode = selected_value
    print(f"Mode changed to: {selected_value}")

# 3. åˆå§‹åŒ–UI
# åˆ›å»º RadioManagerï¼Œå¹¶ä¼ å…¥é»˜è®¤å€¼å’Œå›è°ƒ
radio_manager = RadioManager(ts, disp, 
                           default_value=current_mode, 
                           callback=on_mode_change)

# åˆ›å»ºä¸‰ä¸ª RadioButton å®ä¾‹ï¼Œæ³¨æ„å®ƒä»¬çš„ value æ˜¯å”¯ä¸€çš„
radio_a = RadioButton(position=[80, 100], label="Mode A", value="Mode A", scale=2.0)
radio_b = RadioButton(position=[80, 200], label="Mode B", value="Mode B", scale=2.0)
radio_c = RadioButton(position=[80, 300], label="Mode C", value="Mode C", scale=2.0)

# å°†å®ƒä»¬éƒ½æ·»åŠ åˆ°ç®¡ç†å™¨ä¸­
radio_manager.add_radio(radio_a)
radio_manager.add_radio(radio_b)
radio_manager.add_radio(radio_c)

# 4. ä¸»å¾ªç¯
print("Radio button example running. Select a mode.")
title_color = image.Color.from_rgb(255, 255, 255)
while not app.need_exit():
    img = cam.read()
    
    img.draw_string(20, 20, f"Current: {current_mode}", scale=1.8, color=title_color)
    
    radio_manager.handle_events(img)
    
    disp.show(img)
    time.sleep(0.02)
```

#### `RadioButton` ç±»
åˆ›å»ºä¸€ä¸ªå•é€‰æ¡†ï¼ˆRadioButtonï¼‰é¡¹ã€‚é€šå¸¸ä¸ `RadioManager` ç»“åˆä½¿ç”¨ã€‚

##### æ„é€ å‡½æ•°: `__init__`
| å‚æ•°                    | ç±»å‹            | æè¿°                              | é»˜è®¤å€¼            |
| :---------------------: | :-------------: | :-------------------------------: | :---------------: |
| `position`              | `Sequence[int]` | å•é€‰æ¡†åœ†åœˆçš„å·¦ä¸Šè§’åæ ‡ `[x, y]`ã€‚**å¿…éœ€**ã€‚ | -               |
| `label`                 | `str`           | æŒ‰é’®æ—è¾¹çš„æ ‡ç­¾æ–‡æœ¬ã€‚**å¿…éœ€**ã€‚              | -               |
| `value`                 | `any`           | ä¸æ­¤å•é€‰æ¡†å…³è”çš„å”¯ä¸€å€¼ã€‚**å¿…éœ€**ã€‚          | -               |
| `scale`                 | `float`         | ç»„ä»¶çš„æ•´ä½“ç¼©æ”¾æ¯”ä¾‹ã€‚              | `1.0`             |
| `circle_color`          | `Sequence[int]` | æœªé€‰ä¸­æ—¶åœ†åœˆçš„é¢œè‰² (R, G, B)ã€‚    | `(200, 200, 200)` |
| `circle_selected_color` | `Sequence[int]` | é€‰ä¸­æ—¶åœ†åœˆçš„é¢œè‰² (R, G, B)ã€‚      | `(0, 120, 220)`   |
| `dot_color`             | `Sequence[int]` | é€‰ä¸­æ—¶ä¸­å¿ƒåœ†ç‚¹çš„é¢œè‰² (R, G, B)ã€‚  | `(255, 255, 255)` |
| `text_color`            | `Sequence[int]` | æ ‡ç­¾æ–‡æœ¬çš„é¢œè‰² (R, G, B)ã€‚        | `(200, 200, 200)` |
| `circle_thickness`      | `int`           | åœ†åœˆè¾¹æ¡†çš„åšåº¦ã€‚                  | `2`               |

##### æ–¹æ³• (Methods)
|    æ–¹æ³•     |                          å‚æ•°                          |            æè¿°            |
| :---------: | :----------------------------------------------------: | :------------------------: |
| `draw(img)` | `img` (`maix.image.Image`): å°†è¦ç»˜åˆ¶å•é€‰æ¡†çš„ç›®æ ‡å›¾åƒã€‚ | åœ¨æŒ‡å®šçš„å›¾åƒä¸Šç»˜åˆ¶å•é€‰æ¡†ã€‚ |

#### `RadioManager` ç±»
ç®¡ç†ä¸€ä¸ªå•é€‰æ¡†ç»„ï¼Œç¡®ä¿åªæœ‰ä¸€ä¸ªæŒ‰é’®èƒ½è¢«é€‰ä¸­ã€‚

##### æ„é€ å‡½æ•°: `__init__`
|      å‚æ•°       |           ç±»å‹            |                        æè¿°                        | é»˜è®¤å€¼ |
| :-------------: | :-----------------------: | :------------------------------------------------: | :----: |
|      `ts`       | `touchscreen.TouchScreen` |             è§¦æ‘¸å±è®¾å¤‡å®ä¾‹ã€‚**å¿…éœ€**ã€‚             |   -    |
|     `disp`      |     `display.Display`     |              æ˜¾ç¤ºè®¾å¤‡å®ä¾‹ã€‚**å¿…éœ€**ã€‚              |   -    |
| `default_value` |           `any`           |                é»˜è®¤é€‰ä¸­çš„æŒ‰é’®çš„å€¼ã€‚                | `None` |
|   `callback`    |     `Callable | None`     | é€‰ä¸­é¡¹æ”¹å˜æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œæ¥æ”¶æ–°é€‰ä¸­é¡¹çš„å€¼ä½œä¸ºå‚æ•°ã€‚ | `None` |

##### æ–¹æ³• (Methods)
|         æ–¹æ³•         |                         å‚æ•°                         |               æè¿°               |
| :------------------: | :--------------------------------------------------: | :------------------------------: |
|  `add_radio(radio)`  | `radio` (`RadioButton`): è¦æ·»åŠ çš„ RadioButton å®ä¾‹ã€‚ |    å‘ç®¡ç†å™¨ä¸­æ·»åŠ ä¸€ä¸ªå•é€‰æ¡†ã€‚    |
| `handle_events(img)` |  `img` (`maix.image.Image`): ç»˜åˆ¶å•é€‰æ¡†çš„ç›®æ ‡å›¾åƒã€‚  | å¤„ç†æ‰€æœ‰å•é€‰æ¡†çš„äº‹ä»¶å¹¶è¿›è¡Œç»˜åˆ¶ã€‚ |

---

### 6. åˆ†è¾¨ç‡é€‚é…å™¨ (ResolutionAdapter)

ä¸€ä¸ªè¾…åŠ©å·¥å…·ç±»ï¼Œç”¨äºè‡ªåŠ¨é€‚é…ä¸åŒåˆ†è¾¨ç‡çš„å±å¹•ï¼Œä»¥ä¿æŒUIå¸ƒå±€çš„ä¸€è‡´æ€§ã€‚

#### ä½¿ç”¨æ–¹å¼

1.  åˆ›å»ºä¸€ä¸ª `ResolutionAdapter` å®ä¾‹ï¼Œå¹¶æŒ‡å®šç›®æ ‡å±å¹•å°ºå¯¸å’Œå¯é€‰çš„è®¾è®¡åŸºç¡€åˆ†è¾¨ç‡ã€‚
2.  åŸºäºæ‚¨çš„è®¾è®¡åŸºç¡€åˆ†è¾¨ç‡ï¼Œå®šä¹‰ç»„ä»¶çš„åŸå§‹ `rect`ã€`position` ç­‰å‚æ•°ã€‚
3.  è°ƒç”¨ `adapter.scale_rect()` ç­‰æ–¹æ³•ï¼Œå°†åŸå§‹å‚æ•°è½¬æ¢ä¸ºé€‚é…åçš„å€¼ã€‚
4.  ä½¿ç”¨è½¬æ¢åçš„å€¼æ¥åˆ›å»ºæ‚¨çš„UIç»„ä»¶ã€‚

#### ç¤ºä¾‹

```python
from maix import display, camera, app, touchscreen
from maixpy_ui import Button, ButtonManager, ResolutionAdapter
import time

# 1. åˆå§‹åŒ–ç¡¬ä»¶
disp = display.Display()
ts = touchscreen.TouchScreen()
# cam = camera.Camera(640,480)
cam = camera.Camera(320,240)

# 2. åˆ›å»ºåˆ†è¾¨ç‡é€‚é…å™¨ï¼Œå¹¶æ˜ç¡®æŒ‡å®šæˆ‘ä»¬çš„è®¾è®¡æ˜¯åŸºäº 640x480 çš„
adapter = ResolutionAdapter(
    display_width=cam.width(), 
    display_height=cam.height(),
    base_width=640,
    base_height=480
)

# 3. åŸºäº 640x480 çš„ç”»å¸ƒæ¥å®šä¹‰ç»„ä»¶å‚æ•°
original_rect = [160, 200, 320, 80]
original_font_scale = 3.0 

# 4. ä½¿ç”¨é€‚é…å™¨è½¬æ¢å‚æ•°
scaled_rect = adapter.scale_rect(original_rect)
scaled_font_size = adapter.scale_value(original_font_scale) 

# 5. ä½¿ç”¨ç¼©æ”¾åçš„å€¼åˆ›å»ºç»„ä»¶
btn_manager = ButtonManager(ts, disp)
adapted_button = Button(
    rect=scaled_rect,
    label="Big Button",
    text_scale=scaled_font_size,
    callback=lambda: print("Adapted button clicked!")
)
btn_manager.add_button(adapted_button)

# 6. ä¸»å¾ªç¯
print("ResolutionAdapter example running (640x480 base).")
while not app.need_exit():
    img = cam.read()
    btn_manager.handle_events(img)
    disp.show(img)
    time.sleep(0.02)
```

#### `ResolutionAdapter` ç±»

##### æ„é€ å‡½æ•°: `__init__`
|       å‚æ•°       | ç±»å‹  |             æè¿°             | é»˜è®¤å€¼ |
| :--------------: | :---: | :--------------------------: | :----: |
| `display_width`  | `int` | ç›®æ ‡æ˜¾ç¤ºå±çš„å®½åº¦ã€‚**å¿…éœ€**ã€‚ |   -    |
| `display_height` | `int` | ç›®æ ‡æ˜¾ç¤ºå±çš„é«˜åº¦ã€‚**å¿…éœ€**ã€‚ |   -    |
|   `base_width`   | `int` |      UIè®¾è®¡çš„åŸºå‡†å®½åº¦ã€‚      | `320`  |
|  `base_height`   | `int` |      UIè®¾è®¡çš„åŸºå‡†é«˜åº¦ã€‚      | `240`  |

##### æ–¹æ³• (Methods)
|            æ–¹æ³•             |                            å‚æ•°                             |                æè¿°                |     è¿”å›å€¼      |
| :-------------------------: | :---------------------------------------------------------: | :--------------------------------: | :-------------: |
|   `scale_position(x, y)`    |  `x` (`int`): åŸå§‹ X åæ ‡ã€‚<br>`y` (`int`): åŸå§‹ Y åæ ‡ã€‚   |      ç¼©æ”¾ä¸€ä¸ªåæ ‡ç‚¹ (x, y)ã€‚       | `Sequence[int]` |
| `scale_size(width, height)` | `width` (`int`): åŸå§‹å®½åº¦ã€‚<br>`height` (`int`): åŸå§‹é«˜åº¦ã€‚ |   ç¼©æ”¾ä¸€ä¸ªå°ºå¯¸ (width, height)ã€‚   | `Sequence[int]` |
|     `scale_rect(rect)`      |       `rect` (`list[int]`): åŸå§‹çŸ©å½¢ `[x, y, w, h]`ã€‚       |           ç¼©æ”¾ä¸€ä¸ªçŸ©å½¢ã€‚           | `Sequence[int]` |
|    `scale_value(value)`     |              `value` (`int|float`): åŸå§‹æ•°å€¼ã€‚              | ç¼©æ”¾ä¸€ä¸ªé€šç”¨æ•°å€¼ï¼Œå¦‚åŠå¾„ã€åšåº¦ç­‰ã€‚ |     `float`     |

### 7. é¡µé¢ä¸ UI ç®¡ç†å™¨ (Page and UIManager)

ç”¨äºæ„å»ºå¤šé¡µé¢åº”ç”¨ï¼Œå¹¶ç®¡ç†é¡µé¢é—´çš„æ ‘å‹å¯¼èˆªã€‚

#### ä½¿ç”¨æ–¹å¼
1.  åˆ›å»ºä¸€ä¸ªå…¨å±€çš„ `UIManager` å®ä¾‹ã€‚
2.  å®šä¹‰ç»§æ‰¿è‡ª `Page` çš„è‡ªå®šä¹‰é¡µé¢ç±»ï¼Œå¹¶åœ¨æ„é€ å‡½æ•°ä¸­ä¸ºé¡µé¢å‘½åã€‚
3.  åœ¨çˆ¶é¡µé¢ä¸­ï¼Œåˆ›å»ºå­é¡µé¢çš„å®ä¾‹ï¼Œå¹¶ä½¿ç”¨ `parent.add_child()` æ–¹æ³•æ¥æ„å»ºé¡µé¢æ ‘ã€‚
4.  ä½¿ç”¨ `ui_manager.set_root_page()` è®¾ç½®åº”ç”¨çš„æ ¹é¡µé¢ã€‚
5.  åœ¨é¡µé¢å†…éƒ¨ï¼Œé€šè¿‡ `self.ui_manager` è°ƒç”¨å¯¼èˆªæ–¹æ³•ï¼Œå¦‚ `navigate_to_child()`ã€`navigate_to_parent()`ã€`navigate_to_root()` ç­‰ã€‚
6.  åœ¨ä¸»å¾ªç¯ä¸­ï¼ŒæŒç»­è°ƒç”¨ `ui_manager.update(img)` æ¥é©±åŠ¨å½“å‰æ´»åŠ¨é¡µé¢çš„æ›´æ–°å’Œç»˜åˆ¶ã€‚

#### ç¤ºä¾‹

```python
from maix import display, camera, app, touchscreen, image
from maixpy_ui import Page, UIManager, Button, ButtonManager
import time

# --------------------------------------------------------------------------
# 1. åˆå§‹åŒ–ç¡¬ä»¶ & å…¨å±€èµ„æº
# --------------------------------------------------------------------------
disp = display.Display()
ts = touchscreen.TouchScreen()
screen_w, screen_h = disp.width(), disp.height()
cam = camera.Camera(screen_w, screen_h)

# é¢„åˆ›å»ºé¢œè‰²å¯¹è±¡
COLOR_WHITE = image.Color(255, 255, 255)
COLOR_GREY = image.Color(150, 150, 150)
COLOR_GREEN = image.Color(30, 200, 30)
COLOR_BLUE = image.Color(0, 120, 220)

def get_background():
    if cam:
        img = cam.read()
        if img: return img
    return image.new(size=(screen_w, screen_h), color=(10, 20, 30))

# --------------------------------------------------------------------------
# 2. å®šä¹‰é¡µé¢ç±»
# --------------------------------------------------------------------------

class BasePage(Page):
    """ä¸€ä¸ªåŒ…å«é€šç”¨åŠŸèƒ½çš„é¡µé¢åŸºç±»ï¼Œä¾‹å¦‚ç»˜åˆ¶è°ƒè¯•ä¿¡æ¯"""
    def draw_path_info(self, img: image.Image):
        """åœ¨å±å¹•å³ä¸‹è§’ç»˜åˆ¶å½“å‰çš„å¯¼èˆªè·¯å¾„"""
        info = self.ui_manager.get_navigation_info()
        path_str = " > ".join(info['current_path'])
        
        # è®¡ç®—æ–‡æœ¬å°ºå¯¸
        text_scale = 1.0
        text_size = image.string_size(path_str, scale=text_scale)
        
        # è®¡ç®—ç»˜åˆ¶ä½ç½®ï¼ˆå³ä¸‹è§’ï¼Œç•™å‡ºä¸€äº›è¾¹è·ï¼‰
        padding = 10
        text_x = screen_w - text_size.width() - padding
        text_y = screen_h - text_size.height() - padding
        
        # ç»˜åˆ¶æ–‡æœ¬
        img.draw_string(text_x, text_y, path_str, scale=text_scale, color=COLOR_GREY)
        
    def update(self, img: image.Image):
        """å­ç±»åº”è¯¥é‡å†™æ­¤æ–¹æ³•ï¼Œå¹¶åœ¨æœ«å°¾è°ƒç”¨ super().update(img) æ¥ç»˜åˆ¶è°ƒè¯•ä¿¡æ¯"""
        self.draw_path_info(img)

class PageA1(BasePage):
    """æœ€æ·±å±‚çš„é¡µé¢"""
    def __init__(self, ui_manager):
        super().__init__(ui_manager, name="page_a1")
        self.btn_manager = ButtonManager(ts, disp)
        self.btn_manager.add_button(Button([40, 150, 400, 80], "Back to Parent (-> Page A)", lambda: self.ui_manager.navigate_to_parent()))
        self.btn_manager.add_button(Button([40, 250, 400, 80], "Go Back in History", lambda: self.ui_manager.go_back()))
        self.btn_manager.add_button(Button([40, 350, 400, 80], "Go to Root (Home)", lambda: self.ui_manager.navigate_to_root(), bg_color=COLOR_GREEN))

    def update(self, img):
        img.draw_string(20, 20, "Page A.1 (Deepest)", scale=2.0, color=COLOR_WHITE)
        history = self.ui_manager.navigation_history
        prev_page_name = history[-1].name if history else "None"
        img.draw_string(20, 80, f"'Go Back' will return to '{prev_page_name}'.", scale=1.2, color=COLOR_GREY)
        self.btn_manager.handle_events(img)
        super().update(img) # è°ƒç”¨åŸºç±»çš„æ–¹æ³•æ¥ç»˜åˆ¶è·¯å¾„ä¿¡æ¯

class PageA(BasePage):
    """ä¸­é—´å±‚é¡µé¢ A"""
    def __init__(self, ui_manager):
        super().__init__(ui_manager, name="page_a")
        self.btn_manager = ButtonManager(ts, disp)
        self.btn_manager.add_button(Button([80, 150, 350, 80], "Go to Page A.1", lambda: self.ui_manager.navigate_to_child("page_a1")))
        self.btn_manager.add_button(Button([20, 400, 250, 80], "Back to Parent", lambda: self.ui_manager.navigate_to_parent()))
        self.add_child(PageA1(self.ui_manager))

    def update(self, img):
        img.draw_string(20, 20, "Page A", scale=2.5, color=COLOR_WHITE)
        self.btn_manager.handle_events(img)
        super().update(img)

class PageB(BasePage):
    """ä¸­é—´å±‚é¡µé¢ B"""
    def __init__(self, ui_manager):
        super().__init__(ui_manager, name="page_b")
        self.btn_manager = ButtonManager(ts, disp)
        self.btn_manager.add_button(Button([80, 150, 350, 80], "Jump to Page A.1 by Path", lambda: self.ui_manager.navigate_to_path(["page_a", "page_a1"])))
        self.btn_manager.add_button(Button([20, 400, 250, 80], "Back to Parent", lambda: self.ui_manager.navigate_to_parent()))

    def update(self, img):
        img.draw_string(20, 20, "Page B", scale=2.5, color=COLOR_WHITE)
        img.draw_string(20, 80, "From here, we'll jump to A.1.", scale=1.2, color=COLOR_GREY)
        img.draw_string(20, 110, "This will make 'Go Back' and 'Back to Parent' different on the next page.", scale=1.2, color=COLOR_GREY)
        self.btn_manager.handle_events(img)
        super().update(img)

class RootPage(BasePage):
    """æ ¹é¡µé¢"""
    def __init__(self, ui_manager):
        super().__init__(ui_manager, name="root")
        self.btn_manager = ButtonManager(ts, disp)
        self.btn_manager.add_button(Button([80, 150, 350, 80], "Path 1: Go to Page A", lambda: self.ui_manager.navigate_to_child("page_a")))
        self.btn_manager.add_button(Button([80, 300, 350, 80], "Path 2: Go to Page B", lambda: self.ui_manager.navigate_to_child("page_b")))
        self.add_child(PageA(self.ui_manager))
        self.add_child(PageB(self.ui_manager))

    def update(self, img):
        img.draw_string(20, 20, "Root Page (Home)", scale=2.5, color=COLOR_WHITE)
        img.draw_string(20, 80, "Try both paths to see how 'Go Back' behaves differently.", scale=1.2, color=COLOR_GREY)
        self.btn_manager.handle_events(img)
        super().update(img) # è°ƒç”¨åŸºç±»çš„æ–¹æ³•æ¥ç»˜åˆ¶è·¯å¾„ä¿¡æ¯

# --------------------------------------------------------------------------
# 3. ä¸»ç¨‹åºé€»è¾‘
# --------------------------------------------------------------------------
if __name__ == "__main__":
    ui_manager = UIManager()
    root_page = RootPage(ui_manager)
    ui_manager.set_root_page(root_page)

    print("Navigation demo with persistent path display running.")

    while not app.need_exit():
        img = get_background()
        ui_manager.update(img)
        disp.show(img)
        time.sleep(0.02)
```

#### `Page` ç±»
é¡µé¢ï¼ˆPageï¼‰çš„åŸºç±»ï¼Œæ”¯æŒæ ‘å‹çˆ¶å­èŠ‚ç‚¹ç»“æ„ã€‚æ‰€æœ‰å…·ä½“çš„UIé¡µé¢éƒ½åº”ç»§æ‰¿æ­¤ç±»ã€‚

##### æ„é€ å‡½æ•°: `__init__`
|    å‚æ•°    |    ç±»å‹     |                     æè¿°                      | é»˜è®¤å€¼ |
| :--------: | :---------: | :-------------------------------------------: | :----: |
| `ui_manager` | `UIManager` |      ç”¨äºé¡µé¢å¯¼èˆªçš„ UIManager å®ä¾‹ã€‚**å¿…éœ€**ã€‚      |   -    |
|   `name`   |    `str`    | é¡µé¢çš„å”¯ä¸€åç§°æ ‡è¯†ç¬¦ï¼Œç”¨äºåœ¨çˆ¶é¡µé¢ä¸­æŸ¥æ‰¾ã€‚ |  `""`  |

##### æ–¹æ³• (Methods)
|        æ–¹æ³•         |                      å‚æ•°                      |                           æè¿°                           |      è¿”å›å€¼      |
| :-----------------: | :--------------------------------------------: | :------------------------------------------------------: | :--------------: |
| `add_child(page)`   |      `page` (`Page`): è¦æ·»åŠ çš„å­é¡µé¢å®ä¾‹ã€‚       |   å°†ä¸€ä¸ªé¡µé¢æ·»åŠ ä¸ºå½“å‰é¡µé¢çš„å­èŠ‚ç‚¹ï¼Œä»¥æ„å»ºé¡µé¢æ ‘ã€‚   |        -         |
| `remove_child(page)` |     `page` (`Page`): è¦ç§»é™¤çš„å­é¡µé¢å®ä¾‹ã€‚      |                     ä»å½“å‰é¡µé¢ç§»é™¤ä¸€ä¸ªå­èŠ‚ç‚¹ã€‚                     |      `bool`      |
| `get_child(name)`   |           `name` (`str`): å­é¡µé¢çš„åç§°ã€‚           |            æ ¹æ®åç§°è·å–å­é¡µé¢ï¼Œç”¨äºè‡ªå®šä¹‰å¯¼èˆªé€»è¾‘ã€‚            |  `Page \| None`  |
|     `on_enter()`      |                       -                        |     å½“é¡µé¢è¿›å…¥è§†å›¾æ—¶è°ƒç”¨ã€‚å­ç±»å¯é‡å†™ä»¥å®ç°åˆå§‹åŒ–é€»è¾‘ã€‚     |        -         |
|      `on_exit()`      |                       -                        |     å½“é¡µé¢ç¦»å¼€è§†å›¾æ—¶è°ƒç”¨ã€‚å­ç±»å¯é‡å†™ä»¥å®ç°æ¸…ç†é€»è¾‘ã€‚     |        -         |
| `on_child_enter()`  |      `child` (`Page`): è¿›å…¥è§†å›¾çš„å­é¡µé¢ã€‚      |   å½“æ­¤é¡µé¢çš„ä¸€ä¸ªå­é¡µé¢è¿›å…¥è§†å›¾æ—¶è°ƒç”¨ã€‚çˆ¶é¡µé¢å¯é‡å†™ã€‚   |        -         |
| `on_child_exit()`   |      `child` (`Page`): ç¦»å¼€è§†å›¾çš„å­é¡µé¢ã€‚      |   å½“æ­¤é¡µé¢çš„ä¸€ä¸ªå­é¡µé¢ç¦»å¼€è§†å›¾æ—¶è°ƒç”¨ã€‚çˆ¶é¡µé¢å¯é‡å†™ã€‚   |        -         |
|     `update(img)`     | `img` (`maix.image.Image`): ç”¨äºç»˜åˆ¶çš„å›¾åƒç¼“å†²åŒºã€‚ | æ¯å¸§è°ƒç”¨çš„æ›´æ–°å’Œç»˜åˆ¶æ–¹æ³•ã€‚**å­ç±»å¿…é¡»é‡å†™æ­¤æ–¹æ³•**ã€‚ |        -         |

#### `UIManager` ç±»
UI ç®¡ç†å™¨ï¼ŒåŸºäºæ ‘å‹é¡µé¢ç»“æ„æä¾›çµæ´»çš„å¯¼èˆªåŠŸèƒ½ã€‚

##### æ„é€ å‡½æ•°: `__init__`
|   å‚æ•°    |    ç±»å‹     |             æè¿°             | é»˜è®¤å€¼ |
| :-------: | :---------: | :--------------------------: | :----: |
| `root_page` | `Page | None` | æ ¹é¡µé¢å®ä¾‹ï¼Œå¦‚æœä¸ºNoneåˆ™éœ€è¦åç»­è®¾ç½®ã€‚ | `None` |

##### æ–¹æ³• (Methods)
|           æ–¹æ³•           |                            å‚æ•°                            |                             æè¿°                             |      è¿”å›å€¼      |
| :----------------------: | :--------------------------------------------------------: | :----------------------------------------------------------: | :--------------: |
|   `set_root_page(page)`    |            `page` (`Page`): æ–°çš„æ ¹é¡µé¢å®ä¾‹ã€‚             |           è®¾ç½®æˆ–é‡ç½®UIç®¡ç†å™¨çš„æ ¹é¡µé¢ï¼Œå¹¶æ¸…ç©ºå†å²ã€‚           |        -         |
|   `get_current_page()`   |                             -                              |                     è·å–å½“å‰æ´»åŠ¨çš„é¡µé¢ã€‚                     |  `Page \| None`  |
| `navigate_to_child(name)`  |               `name` (`str`): å­é¡µé¢çš„åç§°ã€‚               |             å¯¼èˆªåˆ°å½“å‰é¡µé¢çš„æŒ‡å®šåç§°çš„å­é¡µé¢ã€‚             |      `bool`      |
|  `navigate_to_parent()`  |                             -                              |                 å¯¼èˆªåˆ°å½“å‰é¡µé¢çš„çˆ¶é¡µé¢ã€‚                 |      `bool`      |
|   `navigate_to_root()`   |                             -                              |                 ç›´æ¥å¯¼èˆªåˆ°æ ‘çš„æ ¹é¡µé¢ã€‚                 |      `bool`      |
|  `navigate_to_path(path)`  | `path` (`List[str]`): ä»æ ¹é¡µé¢å¼€å§‹çš„ç»å¯¹è·¯å¾„ã€‚ |                   æ ¹æ®ç»å¯¹è·¯å¾„å¯¼èˆªåˆ°æŒ‡å®šé¡µé¢ã€‚                   |      `bool`      |
|       `go_back()`        |                             -                              |             è¿”å›åˆ°å¯¼èˆªå†å²è®°å½•ä¸­çš„å‰ä¸€ä¸ªé¡µé¢ã€‚             |      `bool`      |
|    `get_navigation_info()`     |                             -                              | è·å–åŒ…å«å½“å‰è·¯å¾„ã€å†å²æ·±åº¦ç­‰ä¿¡æ¯çš„å­—å…¸ï¼Œç”¨äºè°ƒè¯•æˆ–æ˜¾ç¤ºã€‚ |      `dict`      |
|      `update(img)`       |     `img` (`maix.image.Image`): ç”¨äºç»˜åˆ¶çš„å›¾åƒç¼“å†²åŒºã€‚     |     æ›´æ–°å½“å‰æ´»åŠ¨é¡µé¢çš„çŠ¶æ€ã€‚æ­¤æ–¹æ³•åº”åœ¨ä¸»å¾ªç¯ä¸­æ¯å¸§è°ƒç”¨ã€‚     |        -         |
---

## âš–ï¸è®¸å¯åè®®

æœ¬é¡¹ç›®åŸºäº **Apache License, Version 2.0** è®¸å¯ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚é˜…ä»£ç æ–‡ä»¶ä¸­çš„è®¸å¯è¯è¯´æ˜ã€‚
