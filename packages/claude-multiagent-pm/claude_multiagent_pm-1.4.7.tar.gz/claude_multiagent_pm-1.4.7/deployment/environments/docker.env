# Claude Multi-Agent PM Framework - Docker Environment Configuration
# ===================================================================

# =============================================
# FRAMEWORK PATHS (DOCKER - M01-043)
# =============================================

# Claude Multi-Agent PM Root Directory for Docker (UPDATED)
# In containers, use standardized paths
# Default container path: /app/claude-multiagent-pm
CLAUDE_MULTIAGENT_PM_ROOT=/app/claude-multiagent-pm

# Container-specific paths (NEW variable names)
CLAUDE_MULTIAGENT_PM_DATA_PATH=/app/data
CLAUDE_MULTIAGENT_PM_LOGS_PATH=/app/logs
CLAUDE_MULTIAGENT_PM_CONFIG_PATH=/app/config

# LEGACY COMPATIBILITY (will be deprecated in v4.0)
# CLAUDE_PM_ROOT=/app/claude-pm
# CLAUDE_PM_DATA_PATH=/app/data
# CLAUDE_PM_LOGS_PATH=/app/logs
# CLAUDE_PM_CONFIG_PATH=/app/config

# =============================================
# ENVIRONMENT SETTINGS
# =============================================

# Environment type
ENVIRONMENT=docker
DEBUG=false
VERBOSE=true

# Logging configuration (container-friendly) (NEW variable names)
CLAUDE_MULTIAGENT_PM_LOG_LEVEL=INFO
CLAUDE_MULTIAGENT_PM_LOG_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Legacy support (will be deprecated in v4.0)
# CLAUDE_PM_LOG_LEVEL=INFO
# CLAUDE_PM_LOG_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# =============================================
# CONTAINER SERVICE CONFIGURATION
# =============================================

# Health monitoring (docker-optimized) (NEW variable names)
CLAUDE_MULTIAGENT_PM_ENABLE_HEALTH_MONITORING=true
CLAUDE_MULTIAGENT_PM_HEALTH_CHECK_INTERVAL=30
CLAUDE_MULTIAGENT_PM_ENABLE_METRICS=true
CLAUDE_MULTIAGENT_PM_METRICS_INTERVAL=60

# Service management (container-optimized) (NEW variable names)
CLAUDE_MULTIAGENT_PM_GRACEFUL_SHUTDOWN_TIMEOUT=30
CLAUDE_MULTIAGENT_PM_STARTUP_TIMEOUT=120

# Legacy support (will be deprecated in v4.0)
# CLAUDE_PM_ENABLE_HEALTH_MONITORING=true
# CLAUDE_PM_HEALTH_CHECK_INTERVAL=30
# CLAUDE_PM_ENABLE_METRICS=true
# CLAUDE_PM_METRICS_INTERVAL=60
# CLAUDE_PM_GRACEFUL_SHUTDOWN_TIMEOUT=30
# CLAUDE_PM_STARTUP_TIMEOUT=120

# =============================================
# MEM0AI INTEGRATION (DOCKER COMPOSE)
# =============================================

# mem0AI Service Configuration (service discovery)
MEM0AI_HOST=mem0ai-service
MEM0AI_PORT=8002
MEM0AI_TIMEOUT=30

# mem0AI Service Authentication
MEM0AI_API_KEY=REPLACE_WITH_DOCKER_API_KEY

# Security Configuration (container network)
MEM0AI_USE_TLS=false
MEM0AI_VERIFY_SSL=false
MEM0AI_AUTH_RETRY_ATTEMPTS=3
MEM0AI_AUTH_RETRY_DELAY=1.0

# =============================================
# DOCKER FEATURES
# =============================================

# Container orchestration (NEW variable names)
CLAUDE_MULTIAGENT_PM_ENABLE_ALERTING=true
CLAUDE_MULTIAGENT_PM_ALERT_THRESHOLD=60

# Docker mode settings (NEW variable names)
CLAUDE_MULTIAGENT_PM_DEBUG=false
CLAUDE_MULTIAGENT_PM_VERBOSE=true

# Legacy support (will be deprecated in v4.0)
# CLAUDE_PM_ENABLE_ALERTING=true
# CLAUDE_PM_ALERT_THRESHOLD=60
# CLAUDE_PM_DEBUG=false
# CLAUDE_PM_VERBOSE=true

# =============================================
# CONTAINER NETWORKING
# =============================================

# Dashboard (container port)
CLAUDE_PM_DASHBOARD_PORT=7001

# API endpoints (container port)  
CLAUDE_PM_API_PORT=8001

# Health check endpoint
CLAUDE_PM_HEALTH_ENDPOINT=/health

# Service discovery
CLAUDE_PM_SERVICE_DISCOVERY=docker

# =============================================
# CONTAINER MONITORING
# =============================================

# Container monitoring
CLAUDE_PM_CONTAINER_METRICS=true
CLAUDE_PM_DOCKER_STATS=true

# Logging (container-optimized)
CLAUDE_PM_LOG_TO_STDOUT=true
CLAUDE_PM_LOG_JSON_FORMAT=true

# =============================================
# FEATURE FLAGS (DOCKER)
# =============================================

# Container-optimized features
CLAUDE_PM_EXPERIMENTAL_FEATURES=false
CLAUDE_PM_LANGGRAPH_ENABLED=true
CLAUDE_PM_MULTI_AGENT_PARALLEL=true

# Performance tuning (container resources)
CLAUDE_PM_MAX_WORKERS=2
CLAUDE_PM_MEMORY_LIMIT=512MB
CLAUDE_PM_TASK_TIMEOUT=300

# =============================================
# CONTAINER SECURITY
# =============================================

# Container security
CLAUDE_PM_SECURITY_MODE=container
CLAUDE_PM_CORS_ENABLED=true
CLAUDE_PM_CORS_ORIGINS=*

# Session configuration (stateless)
CLAUDE_PM_SESSION_SECRET=REPLACE_WITH_CONTAINER_SECRET
CLAUDE_PM_SESSION_TIMEOUT=3600

# Container user
CLAUDE_PM_RUN_AS_USER=1000
CLAUDE_PM_RUN_AS_GROUP=1000

# =============================================
# VOLUME CONFIGURATION
# =============================================

# Persistent volumes
CLAUDE_PM_PERSISTENT_DATA=true
CLAUDE_PM_DATA_VOLUME=/app/data
CLAUDE_PM_LOGS_VOLUME=/app/logs

# Backup volumes
CLAUDE_PM_BACKUP_VOLUME=/app/backups

# =============================================
# CONTAINER HEALTH CHECKS
# =============================================

# Docker health check configuration
CLAUDE_PM_HEALTH_CHECK_ENABLED=true
CLAUDE_PM_HEALTH_CHECK_PATH=/health
CLAUDE_PM_HEALTH_CHECK_INTERVAL=30s
CLAUDE_PM_HEALTH_CHECK_TIMEOUT=10s
CLAUDE_PM_HEALTH_CHECK_RETRIES=3

# =============================================
# RESOURCE LIMITS
# =============================================

# Container resource limits
CLAUDE_PM_MAX_MEMORY=512m
CLAUDE_PM_MAX_CPU=0.5
CLAUDE_PM_MAX_PIDS=100

# Java/Python specific
CLAUDE_PM_JVM_HEAP_SIZE=256m
CLAUDE_PM_PYTHON_MEMORY_LIMIT=256MB

# =============================================
# ENVIRONMENT VARIABLES MAPPING
# =============================================

# Map host environment to container
# These are set by docker-compose or Kubernetes

# Database URLs (if using external DB)
# DATABASE_URL=${DATABASE_URL}
# REDIS_URL=${REDIS_URL}

# External service URLs
# EXTERNAL_API_URL=${EXTERNAL_API_URL}

# =============================================
# DEVELOPMENT OVERRIDES (DOCKER)
# =============================================

# Development overrides for local docker
CLAUDE_PM_DEV_MODE=false
CLAUDE_PM_HOT_RELOAD=false
CLAUDE_PM_DEBUG_PORT=5678

# Volume mounts for development
CLAUDE_PM_DEV_VOLUME_SOURCE=./
CLAUDE_PM_DEV_VOLUME_TARGET=/app

# =============================================
# MULTI-STAGE BUILD CONFIGURATION
# =============================================

# Build stage configuration
CLAUDE_PM_BUILD_ENV=production
CLAUDE_PM_INSTALL_DEV_DEPS=false
CLAUDE_PM_RUN_TESTS=true

# Runtime configuration
CLAUDE_PM_RUNTIME_USER=claude-pm
CLAUDE_PM_RUNTIME_GROUP=claude-pm

# =============================================
# DOCKER COMPOSE SERVICES
# =============================================

# Service dependencies (for docker-compose)
DEPENDS_ON_MEM0AI=true
DEPENDS_ON_DATABASE=false
DEPENDS_ON_REDIS=false

# Service scaling
CLAUDE_PM_REPLICAS=1
CLAUDE_PM_AUTO_SCALING=false

# =============================================
# CONTAINER PLATFORM SPECIFIC
# =============================================

# Docker Swarm configuration
CLAUDE_PM_SWARM_MODE=false
CLAUDE_PM_SWARM_REPLICAS=1

# Kubernetes configuration
CLAUDE_PM_K8S_MODE=false
CLAUDE_PM_K8S_NAMESPACE=claude-pm
CLAUDE_PM_K8S_SERVICE_ACCOUNT=claude-pm

# =============================================
# DOCKER NOTES
# =============================================

# 1. Use this configuration with docker-compose.yml
# 2. Set appropriate resource limits for your container platform
# 3. Configure persistent volumes for data storage
# 4. Use service discovery for inter-container communication
# 5. Enable health checks for container orchestration
# 6. Consider multi-stage builds for optimized images
# 7. Use secrets management for sensitive data
# 8. Configure log aggregation for production use
# 9. Test container startup and shutdown procedures
# 10. Validate CLAUDE_MULTIAGENT_PM_ROOT path handling in containers