{"version":3,"file":"3162.ca26c0fcd819b80d.js","sources":["webpack://knx-frontend/./homeassistant-frontend/src/components/ha-form/ha-form-select.ts"],"sourcesContent":["import memoizeOne from \"memoize-one\";\nimport type { TemplateResult } from \"lit\";\nimport { html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport type { HomeAssistant } from \"../../types\";\nimport type {\n  HaFormElement,\n  HaFormSelectData,\n  HaFormSelectSchema,\n} from \"./types\";\nimport type { SelectSelector } from \"../../data/selector\";\nimport \"../ha-selector/ha-selector-select\";\n\n@customElement(\"ha-form-select\")\nexport class HaFormSelect extends LitElement implements HaFormElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public schema!: HaFormSelectSchema;\n\n  @property({ attribute: false }) public data!: HaFormSelectData;\n\n  @property() public label?: string;\n\n  @property() public helper?: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  private _selectSchema = memoizeOne(\n    (options): SelectSelector => ({\n      select: {\n        options: options.map((option) => ({\n          value: option[0],\n          label: option[1],\n        })),\n      },\n    })\n  );\n\n  protected render(): TemplateResult {\n    return html`\n      <ha-selector-select\n        .hass=${this.hass}\n        .schema=${this.schema}\n        .value=${this.data}\n        .label=${this.label}\n        .helper=${this.helper}\n        .disabled=${this.disabled}\n        .required=${this.schema.required}\n        .selector=${this._selectSchema(this.schema.options)}\n        @value-changed=${this._valueChanged}\n      ></ha-selector-select>\n    `;\n  }\n\n  private _valueChanged(ev: CustomEvent) {\n    ev.stopPropagation();\n    let value: string | undefined = ev.detail.value;\n\n    if (value === this.data) {\n      return;\n    }\n\n    if (value === \"\") {\n      value = undefined;\n    }\n\n    fireEvent(this, \"value-changed\", {\n      value,\n    });\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-form-select\": HaFormSelect;\n  }\n}\n"],"names":["HaFormSelect","LitElement","render","html","hass","schema","data","label","helper","disabled","required","_selectSchema","options","_valueChanged","ev","stopPropagation","value","detail","undefined","fireEvent","args","memoizeOne","select","map","option","attribute","type","Boolean"],"mappings":"oMAeO,MAAPA,UAAAC,EAAAA,GAwBYC,MAAAA,GACR,OAAAC,EAAAA,EAAA;;gBAEU,KAAAC;kBACE,KAAAC;iBACD,KAAAC;iBACA,KAAAC;kBACC,KAAAC;oBACE,KAAAC;oBACA,KAAAJ,OAAAK;oBACA,KAAAC,cAAA,KAAAN,OAAAO;yBACK,KAAAC;;KAGrB,CAEQA,aAAAA,CAAAC,GACNA,EAAAC,kBACA,IAAAC,EAAAF,EAAAG,OAAAD,MAEAA,IAAA,KAAAV,OAIA,KAAAU,IACEA,OAAAE,IAGFC,EAAAA,EAAAA,GAAA,sBACEH,UAEJ,C,kBAvDK,SAAAI,GAAA,KAAAX,UAAA,OAAAE,eAAAU,EAAAA,EAAAA,IAAAT,IAAA,CAeDU,OAAA,CACEV,QAAAA,EAAAW,KAAAC,IAAA,CACER,MAAAQ,EAAA,GACAjB,MAAAiB,EAAA,W,8BAjBIC,WAAA,K,uDAEAA,WAAA,K,yDAEAA,WAAA,K,4KAMAC,KAAAC,W"}