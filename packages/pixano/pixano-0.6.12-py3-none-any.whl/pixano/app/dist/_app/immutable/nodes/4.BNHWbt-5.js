var bs=Object.defineProperty;var $s=(l,e,t)=>e in l?bs(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var R=(l,e,t)=>$s(l,typeof e!="symbol"?e+"":e,t);import{n as G,T as ws,s as Y,H as X,I as Be,J as Ue,K as Ke,L as We,M as Je,m as Yt,N as _t,k as ue,d as w,i as F,o as q,v as Ve,y as he,F as rt,q as lt,Q as Ie,a as pe,f as ne,t as re,D as Qe,w as v,c as M,e as j,h as A,r as De,U as Zt,aa as gt,b as I,A as te,g as P,j as z,z as Ge,O as ae,ab as nt,G as be,B as ke,C as Ee,x as mt,ac as bt,ad as me,ae as vs,E as xt}from"../chunks/BeJwflgO.js";import{n as ks,l as Es,o as Cs,p as ys,S as Z,i as x,d as O,t as C,a as k,m as H,e as V,b as N,g as J,c as Q,f as Se,j as Is,k as Ss}from"../chunks/CXBIDK6p.js";import{G as Ts,g as ce,f as Te,e as le,I as Oe,J as Ds,K as qe,L as je,d as de,M as Fs,w as Rs,A as Ms}from"../chunks/B81L-OfO.js";import{g as As}from"../chunks/CyVEvHZA.js";import{C as js,a as Bs,b as Os,W as es}from"../chunks/CXVjQPh2.js";import{B as ts,T as Hs,P as Ns}from"../chunks/fM4OTL4z.js";import{d as W,r as ye,w as ie}from"../chunks/C13LPUBZ.js";import{a as ss,q as Ls}from"../chunks/DPkO8WLB.js";import{I as ns,c as Ps,a as zs,d as Vs,b as Gs,e as qs,f as Us,g as Ks,h as Ws,i as Js,L as Qs}from"../chunks/8RsWtykp.js";import{H as Xs}from"../chunks/_l3qLYZn.js";import{g as Ys}from"../chunks/BQqikIAS.js";import{p as Zs}from"../chunks/CPVtFGAp.js";function xs(l,e,t,s){if(!e)return G;const n=l.getBoundingClientRect();if(e.left===n.left&&e.right===n.right&&e.top===n.top&&e.bottom===n.bottom)return G;const{delay:r=0,duration:o=300,easing:i=ws,start:a=ks()+r,end:c=a+o,tick:u=G,css:g}=t(l,{from:e,to:n},s);let h=!0,b=!1,$;function f(){g&&($=ys(l,0,1,o,r,i,g)),r||(b=!0)}function d(){g&&Cs(l,$),h=!1}return Es(_=>{if(!b&&_>=a&&(b=!0),b&&_>=c&&(u(1,0),d()),!h)return!1;if(b){const m=_-a,p=0+1*i(m/o);u(p,1-p)}return!0}),f(),u(0,1),d}function en(l){const e=getComputedStyle(l);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:s}=e,n=l.getBoundingClientRect();l.style.position="absolute",l.style.width=t,l.style.height=s,rs(l,n)}}function rs(l,e){const t=l.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const s=getComputedStyle(l),n=s.transform==="none"?"":s.transform;l.style.transform=`${n} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}async function tn(l,e=1,t=100,s,n,r){let o,i,a="";s&&s.model!==""&&s.search!==""&&(a=`&query=${encodeURIComponent(s.search)}&embedding_table=${s.model}`);let c="";n&&n!==""&&(c=`&where=${encodeURIComponent(n)}`);let u="";r&&r.col!==""&&["asc","desc"].includes(r.order)&&(u=`&sortcol=${encodeURIComponent(r.col)}&order=${r.order}`);try{const g=await fetch(`/browser/${l}?skip=${(e-1)*t}&limit=${t}${a}${c}${u}`);g.ok?(i=await g.json(),o=new Ts(i)):(o={},console.log("api.getBrowser -",g.status,g.statusText,await g.text()))}catch(g){o={},console.log("api.getBrowser -",g)}return o}function sn(l){let e;const t=l[2].default,s=Ue(t,l,l[3],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,r){s&&s.m(n,r),e=!0},p(n,r){s&&s.p&&(!e||r&8)&&Ke(s,t,n,n[3],e?Je(t,n[3],r,null):We(n[3]),null)},i(n){e||(k(s,n),e=!0)},o(n){C(s,n),e=!1},d(n){s&&s.d(n)}}}function nn(l){let e,t;const s=[{name:"chevrons-down"},l[1],{iconNode:l[0]}];let n={$$slots:{default:[sn]},$$scope:{ctx:l}};for(let r=0;r<s.length;r+=1)n=X(n,s[r]);return e=new ns({props:n}),{c(){N(e.$$.fragment)},l(r){V(e.$$.fragment,r)},m(r,o){H(e,r,o),t=!0},p(r,[o]){const i=o&3?ce(s,[s[0],o&2&&Te(r[1]),o&1&&{iconNode:r[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function rn(l,e,t){let{$$slots:s={},$$scope:n}=e;const r=[["path",{d:"m7 6 5 5 5-5"}],["path",{d:"m7 13 5 5 5-5"}]];return l.$$set=o=>{t(1,e=X(X({},e),Be(o))),"$$scope"in o&&t(3,n=o.$$scope)},e=Be(e),[r,e,s,n]}class ln extends Z{constructor(e){super(),x(this,e,rn,nn,Y,{})}}function on(l){let e;const t=l[2].default,s=Ue(t,l,l[3],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,r){s&&s.m(n,r),e=!0},p(n,r){s&&s.p&&(!e||r&8)&&Ke(s,t,n,n[3],e?Je(t,n[3],r,null):We(n[3]),null)},i(n){e||(k(s,n),e=!0)},o(n){C(s,n),e=!1},d(n){s&&s.d(n)}}}function an(l){let e,t;const s=[{name:"chevrons-up"},l[1],{iconNode:l[0]}];let n={$$slots:{default:[on]},$$scope:{ctx:l}};for(let r=0;r<s.length;r+=1)n=X(n,s[r]);return e=new ns({props:n}),{c(){N(e.$$.fragment)},l(r){V(e.$$.fragment,r)},m(r,o){H(e,r,o),t=!0},p(r,[o]){const i=o&3?ce(s,[s[0],o&2&&Te(r[1]),o&1&&{iconNode:r[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function cn(l,e,t){let{$$slots:s={},$$scope:n}=e;const r=[["path",{d:"m17 11-5-5-5 5"}],["path",{d:"m17 18-5-5-5 5"}]];return l.$$set=o=>{t(1,e=X(X({},e),Be(o))),"$$scope"in o&&t(3,n=o.$$scope)},e=Be(e),[r,e,s,n]}class fn extends Z{constructor(e){super(),x(this,e,cn,an,Y,{})}}function un({fallback:l,...e}){const t=new Map,s=new Map;function n(o,i,a){const{delay:c=0,duration:u=y=>Math.sqrt(y)*30,easing:g=ss}=X(X({},e),a),h=o.getBoundingClientRect(),b=i.getBoundingClientRect(),$=h.left-b.left,f=h.top-b.top,d=h.width/b.width,_=h.height/b.height,m=Math.sqrt($*$+f*f),p=getComputedStyle(i),S=p.transform==="none"?"":p.transform,E=+p.opacity;return{delay:c,duration:Yt(u)?u(m):u,easing:g,css:(y,D)=>`
				opacity: ${y*E};
				transform-origin: top left;
				transform: ${S} translate(${D*$}px,${D*f}px) scale(${y+(1-y)*d}, ${y+(1-y)*_});
			`}}function r(o,i,a){return(c,u)=>(o.set(u.key,c),()=>{if(i.has(u.key)){const g=i.get(u.key);return i.delete(u.key),n(g,c,u)}return o.delete(u.key),l&&l(c,u,a)})}return[r(s,t,!1),r(t,s,!0)]}const dn=!1,hn=!1,Fl=Object.freeze(Object.defineProperty({__proto__:null,prerender:dn,ssr:hn},Symbol.toStringTag,{value:"Module"})),ls=l=>{const e=Object.entries(l),t=e.map(([s])=>s);return W(e.map(([,s])=>s),s=>Object.fromEntries(s.map((n,r)=>[t[r],n])))},pn=l=>l&1,_n=l=>({}),$t=l=>({...l[0]});function gn(l){let e;const t=l[3].default,s=Ue(t,l,l[2],$t);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,r){s&&s.m(n,r),e=!0},p(n,[r]){s&&s.p&&(!e||r&5)&&Ke(s,t,n,n[2],pn(r)||!e?We(n[2]):Je(t,n[2],r,_n),$t)},i(n){e||(k(s,n),e=!0)},o(n){C(s,n),e=!1},d(n){s&&s.d(n)}}}function mn(l,e,t){const s=[];let n=_t(e,s),r,{$$slots:o={},$$scope:i}=e;const a=ls(n);return ue(l,a,c=>t(0,r=c)),l.$$set=c=>{e=X(X({},e),Be(c)),t(4,n=_t(e,s)),"$$scope"in c&&t(2,i=c.$$scope)},[r,a,i,o]}class He extends Z{constructor(e){super(),x(this,e,mn,gn,Y,{})}}function wt(l,e,t){const s=l.slice();return s[5]=e[t],s}function bn(l){let e,t,s;const n=[l[2]??{}];var r=l[1].component;function o(i,a){let c={$$slots:{default:[wn]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)c=X(c,n[u]);return a!==void 0&&a&4&&(c=X(c,ce(n,[Te(i[2]??{})]))),{props:c}}return r&&(e=Ve(r,o(l)),l[4](e)),{c(){e&&N(e.$$.fragment),t=q()},l(i){e&&V(e.$$.fragment,i),t=q()},m(i,a){e&&H(e,i,a),F(i,t,a),s=!0},p(i,a){if(a&2&&r!==(r=i[1].component)){if(e){J();const c=e;C(c.$$.fragment,1,0,()=>{O(c,1)}),Q()}r?(e=Ve(r,o(i,a)),i[4](e),N(e.$$.fragment),k(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else if(r){const c=a&4?ce(n,[Te(i[2]??{})]):{};a&258&&(c.$$scope={dirty:a,ctx:i}),e.$set(c)}},i(i){s||(e&&k(e.$$.fragment,i),s=!0)},o(i){e&&C(e.$$.fragment,i),s=!1},d(i){i&&w(t),l[4](null),e&&O(e,i)}}}function $n(l){let e,t,s;const n=[l[2]??{}];var r=l[1].component;function o(i,a){let c={};for(let u=0;u<n.length;u+=1)c=X(c,n[u]);return a!==void 0&&a&4&&(c=X(c,ce(n,[Te(i[2]??{})]))),{props:c}}return r&&(e=Ve(r,o(l)),l[3](e)),{c(){e&&N(e.$$.fragment),t=q()},l(i){e&&V(e.$$.fragment,i),t=q()},m(i,a){e&&H(e,i,a),F(i,t,a),s=!0},p(i,a){if(a&2&&r!==(r=i[1].component)){if(e){J();const c=e;C(c.$$.fragment,1,0,()=>{O(c,1)}),Q()}r?(e=Ve(r,o(i,a)),i[3](e),N(e.$$.fragment),k(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else if(r){const c=a&4?ce(n,[Te(i[2]??{})]):{};e.$set(c)}},i(i){s||(e&&k(e.$$.fragment,i),s=!0)},o(i){e&&C(e.$$.fragment,i),s=!1},d(i){i&&w(t),l[3](null),e&&O(e,i)}}}function vt(l){let e,t;return e=new it({props:{of:l[5]}}),{c(){N(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,n){H(e,s,n),t=!0},p(s,n){const r={};n&2&&(r.of=s[5]),e.$set(r)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function wn(l){let e,t,s=le(l[1].children),n=[];for(let o=0;o<s.length;o+=1)n[o]=vt(wt(l,s,o));const r=o=>C(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=q()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);e=q()},m(o,i){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(o,i);F(o,e,i),t=!0},p(o,i){if(i&2){s=le(o[1].children);let a;for(a=0;a<s.length;a+=1){const c=wt(o,s,a);n[a]?(n[a].p(c,i),k(n[a],1)):(n[a]=vt(c),n[a].c(),k(n[a],1),n[a].m(e.parentNode,e))}for(J(),a=s.length;a<n.length;a+=1)r(a);Q()}},i(o){if(!t){for(let i=0;i<s.length;i+=1)k(n[i]);t=!0}},o(o){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)C(n[i]);t=!1},d(o){o&&w(e),rt(n,o)}}}function vn(l){let e,t,s,n;const r=[$n,bn],o=[];function i(a,c){return a[1].children.length===0?0:1}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),s=q()},l(a){t.l(a),s=q()},m(a,c){o[e].m(a,c),F(a,s,c),n=!0},p(a,[c]){let u=e;e=i(a),e===u?o[e].p(a,c):(J(),C(o[u],1,1,()=>{o[u]=null}),Q(),t=o[e],t?t.p(a,c):(t=o[e]=r[e](a),t.c()),k(t,1),t.m(s.parentNode,s))},i(a){n||(k(t),n=!0)},o(a){C(t),n=!1},d(a){a&&w(s),o[e].d(a)}}}function kn(l,e,t){let{instance:s=void 0}=e,{config:n}=e,{props:r=void 0}=e;function o(a){he[a?"unshift":"push"](()=>{s=a,t(0,s)})}function i(a){he[a?"unshift":"push"](()=>{s=a,t(0,s)})}return l.$$set=a=>{"instance"in a&&t(0,s=a.instance),"config"in a&&t(1,n=a.config),"props"in a&&t(2,r=a.props)},[s,n,r,o,i]}class os extends Z{constructor(e){super(),x(this,e,kn,vn,Y,{instance:0,config:1,props:2})}}const ot=l=>(l==null?void 0:l.subscribe)instanceof Function,En=ye(void 0);function Cn(l){let e,t,s;function n(o){l[3](o)}let r={config:l[0],props:l[0].props};return l[1]!==void 0&&(r.instance=l[1]),e=new os({props:r}),he.push(()=>Se(e,"instance",n)),{c(){N(e.$$.fragment)},l(o){V(e.$$.fragment,o)},m(o,i){H(e,o,i),s=!0},p(o,i){const a={};i&1&&(a.config=o[0]),i&1&&(a.props=o[0].props),!t&&i&2&&(t=!0,a.instance=o[1],Ie(()=>t=!1)),e.$set(a)},i(o){s||(k(e.$$.fragment,o),s=!0)},o(o){C(e.$$.fragment,o),s=!1},d(o){O(e,o)}}}function yn(l){let e,t;return e=new He({props:{props:l[0].props,$$slots:{default:[In,({props:s})=>({4:s}),({props:s})=>s?16:0]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,n){H(e,s,n),t=!0},p(s,n){const r={};n&1&&(r.props=s[0].props),n&51&&(r.$$scope={dirty:n,ctx:s}),e.$set(r)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function In(l){let e,t,s;function n(o){l[2](o)}let r={config:l[0],props:l[4]};return l[1]!==void 0&&(r.instance=l[1]),e=new os({props:r}),he.push(()=>Se(e,"instance",n)),{c(){N(e.$$.fragment)},l(o){V(e.$$.fragment,o)},m(o,i){H(e,o,i),s=!0},p(o,i){const a={};i&1&&(a.config=o[0]),i&16&&(a.props=o[4]),!t&&i&2&&(t=!0,a.instance=o[1],Ie(()=>t=!1)),e.$set(a)},i(o){s||(k(e.$$.fragment,o),s=!0)},o(o){C(e.$$.fragment,o),s=!1},d(o){O(e,o)}}}function Sn(l){let e,t,s,n,r;const o=[yn,Cn],i=[];function a(c,u){return u&1&&(e=null),e==null&&(e=!!ot(c[0].props)),e?0:1}return t=a(l,-1),s=i[t]=o[t](l),{c(){s.c(),n=q()},l(c){s.l(c),n=q()},m(c,u){i[t].m(c,u),F(c,n,u),r=!0},p(c,[u]){let g=t;t=a(c,u),t===g?i[t].p(c,u):(J(),C(i[g],1,1,()=>{i[g]=null}),Q(),s=i[t],s?s.p(c,u):(s=i[t]=o[t](c),s.c()),k(s,1),s.m(n.parentNode,n))},i(c){r||(k(s),r=!0)},o(c){C(s),r=!1},d(c){c&&w(n),i[t].d(c)}}}function Tn(l,e,t){let{config:s}=e,n;lt(function(){return s.eventHandlers.forEach(([a,c])=>{const u=n.$$.callbacks[a]??[];u.push(c),t(1,n.$$.callbacks[a]=u,n)}),function(){s.eventHandlers.forEach(([c,u])=>{const g=n.$$.callbacks[c],h=g.findIndex(b=>b===u);g.splice(h,1)})}});function r(i){n=i,t(1,n)}function o(i){n=i,t(1,n)}return l.$$set=i=>{"config"in i&&t(0,s=i.config)},[s,n,r,o]}class Dn extends Z{constructor(e){super(),x(this,e,Tn,Sn,Y,{config:0})}}function Fn(l){let e,t;return e=new Dn({props:{config:l[0]}}),{c(){N(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,n){H(e,s,n),t=!0},p(s,n){const r={};n&1&&(r.config=s[0]),e.$set(r)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function Rn(l){let e;return{c(){e=re(l[0])},l(t){e=ne(t,l[0])},m(t,s){F(t,e,s)},p(t,s){s&1&&pe(e,t[0])},i:G,o:G,d(t){t&&w(e)}}}function Mn(l){let e;return{c(){e=re(l[1])},l(t){e=ne(t,l[1])},m(t,s){F(t,e,s)},p(t,s){s&2&&pe(e,t[1])},i:G,o:G,d(t){t&&w(e)}}}function An(l){let e,t,s,n,r;const o=[Mn,Rn,Fn],i=[];function a(c,u){return u&1&&(e=null),e==null&&(e=!!ot(c[0])),e?0:typeof c[0]!="object"?1:2}return t=a(l,-1),s=i[t]=o[t](l),{c(){s.c(),n=q()},l(c){s.l(c),n=q()},m(c,u){i[t].m(c,u),F(c,n,u),r=!0},p(c,[u]){let g=t;t=a(c,u),t===g?i[t].p(c,u):(J(),C(i[g],1,1,()=>{i[g]=null}),Q(),s=i[t],s?s.p(c,u):(s=i[t]=o[t](c),s.c()),k(s,1),s.m(n.parentNode,n))},i(c){r||(k(s),r=!0)},o(c){C(s),r=!1},d(c){c&&w(n),i[t].d(c)}}}function jn(l,e,t){let s,{of:n}=e;const r=ot(n)?n:En;return ue(l,r,o=>t(1,s=o)),l.$$set=o=>{"of"in o&&t(0,n=o.of)},[n,s,r]}class it extends Z{constructor(e){super(),x(this,e,jn,An,Y,{of:0})}}class Bn{constructor(e,t){R(this,"component");R(this,"props");R(this,"eventHandlers",[]);R(this,"children",[]);this.component=e,this.props=t}on(e,t){return this.eventHandlers.push([e,t]),this}slot(...e){return this.children=e,this}}function On(l,e){return new Bn(l,e)}class is{constructor({header:e,footer:t,height:s,plugins:n}){R(this,"header");R(this,"footer");R(this,"height");R(this,"plugins");this.header=e,this.footer=t,this.height=s,this.plugins=n}isFlat(){return"__flat"in this}isData(){return"__data"in this}isDisplay(){return"__display"in this}isGroup(){return"__group"in this}}class as extends is{constructor({header:t,footer:s,plugins:n,id:r}){super({header:t,footer:s,plugins:n,height:1});R(this,"__flat",!0);R(this,"id");this.id=r??String(t)}}class Hn extends as{constructor({header:t,footer:s,plugins:n,cell:r,accessor:o,id:i}){super({header:t,footer:s,plugins:n,id:"Initialization not complete"});R(this,"__data",!0);R(this,"cell");R(this,"accessorKey");R(this,"accessorFn");if(this.cell=r,o instanceof Function?this.accessorFn=o:this.accessorKey=o,i===void 0&&this.accessorKey===void 0&&t===void 0)throw new Error("A column id, string accessor, or header is required");const a=typeof this.accessorKey=="string"?this.accessorKey:null;this.id=i??a??String(t)}getValue(t){if(this.accessorFn!==void 0)return this.accessorFn(t);if(this.accessorKey!==void 0)return t[this.accessorKey]}}class Nn extends as{constructor({header:t,footer:s,plugins:n,id:r,cell:o,data:i}){super({header:t,footer:s,plugins:n,id:r});R(this,"__display",!0);R(this,"cell");R(this,"data");this.cell=o,this.data=i}}class Ln extends is{constructor({header:t,footer:s,columns:n,plugins:r}){const o=Math.max(...n.map(i=>i.height))+1;super({header:t,footer:s,height:o,plugins:r});R(this,"__group",!0);R(this,"columns");R(this,"ids");this.columns=n,this.ids=cs(n)}}const cs=l=>l.flatMap(e=>e.isFlat()?[e.id]:e.isGroup()?e.ids:[]),fs=l=>l.flatMap(e=>e.isFlat()?[e]:e.isGroup()?fs(e.columns):[]),Pn=l=>{const e=new Map;return l.forEach(t=>{e.set(t,(e.get(t)??0)+1)}),e},zn=l=>Array.from(Pn(l).entries()).filter(([,e])=>e!==1).map(([e])=>e),Vn=l=>Object.entries(l).map(([e,t])=>`${e}:${t}`).join(";"),Gn=(l,e)=>l.style===void 0&&e.style===void 0?{...l,...e}:{...l,...e,style:{...typeof l.style=="object"?l.style:{},...typeof e.style=="object"?e.style:{}}},Pe=l=>l.style===void 0||typeof l.style!="object"?l:{...l,style:Vn(l.style)};class Xe{constructor({id:e}){R(this,"id");R(this,"attrsForName",{});R(this,"propsForName",{});R(this,"state");this.id=e}attrs(){return W(Object.values(this.attrsForName),e=>{let t={};return e.forEach(s=>{t=Gn(t,s)}),Pe(t)})}props(){return ls(this.propsForName)}injectState(e){this.state=e}applyHook(e,t){t.props!==void 0&&(this.propsForName[e]=t.props),t.attrs!==void 0&&(this.attrsForName[e]=t.attrs)}}class us extends Xe{constructor({id:t,row:s}){super({id:t});R(this,"row");this.row=s}attrs(){return W(super.attrs(),t=>({...t,role:"cell"}))}rowColId(){return`${this.row.id}:${this.column.id}`}dataRowColId(){if(this.row.isData())return`${this.row.dataId}:${this.column.id}`}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class at extends us{constructor({row:t,column:s,label:n,value:r}){super({id:s.id,row:t});R(this,"__data",!0);R(this,"column");R(this,"label");R(this,"value");this.column=s,this.label=n,this.value=r}render(){if(this.label===void 0)return`${this.value}`;if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new at({row:this.row,column:this.column,label:this.label,value:this.value})}}class ct extends us{constructor({row:t,column:s,label:n}){super({id:s.id,row:t});R(this,"__display",!0);R(this,"column");R(this,"label");this.column=s,this.label=n}render(){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new ct({row:this.row,column:this.column,label:this.label})}}const ve=l=>l!==void 0;class qn extends Xe{constructor({id:t,cells:s,cellForId:n,depth:r=0,parentRow:o}){super({id:t});R(this,"cells");R(this,"cellForId");R(this,"depth");R(this,"parentRow");R(this,"subRows");this.cells=s,this.cellForId=n,this.depth=r,this.parentRow=o}attrs(){return W(super.attrs(),t=>({...t,role:"row"}))}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class ft extends qn{constructor({id:t,dataId:s,original:n,cells:r,cellForId:o,depth:i=0,parentRow:a}){super({id:t,cells:r,cellForId:o,depth:i,parentRow:a});R(this,"__data",!0);R(this,"dataId");R(this,"original");this.dataId=s,this.original=n}clone({includeCells:t=!1,includeSubRows:s=!1}={}){var r;const n=new ft({id:this.id,dataId:this.dataId,cellForId:this.cellForId,cells:this.cells,original:this.original,depth:this.depth});if(t){const o=Object.fromEntries(Object.entries(n.cellForId).map(([a,c])=>{const u=c.clone();return u.row=n,[a,u]})),i=n.cells.map(({id:a})=>o[a]);n.cellForId=o,n.cells=i}if(s){const o=(r=this.subRows)==null?void 0:r.map(i=>i.clone({includeCells:t,includeSubRows:s}));n.subRows=o}else n.subRows=this.subRows;return n}}const Un=(l,e,{rowDataId:t}={})=>{const s=l.map((n,r)=>{const o=r.toString();return new ft({id:o,dataId:t!==void 0?t(n,r):o,original:n,cells:[],cellForId:{}})});return l.forEach((n,r)=>{const o=e.map(i=>{if(i.isData()){const a=i,c=a.getValue(n);return new at({row:s[r],column:a,label:i.cell,value:c})}if(i.isDisplay()){const a=i;return new ct({row:s[r],column:a,label:i.cell})}throw new Error("Unrecognized `FlatColumn` implementation")});s[r].cells=o,e.forEach((i,a)=>{s[r].cellForId[i.id]=o[a]})}),s},Kn=(l,e)=>{const t=l.map(s=>{const n=s.clone();return n.cells=[],n.cellForId={},n});return l.length===0||e.length===0?l:(l.forEach((s,n)=>{const r=s.cells.map(i=>{const a=i.clone();return a.row=t[n],a}),o=e.map(i=>r.find(a=>a.id===i)).filter(ve);t[n].cells=o,r.forEach(i=>{t[n].cellForId[i.id]=i})}),t)},ds=" ";class hs extends Xe{constructor({id:t,label:s,colspan:n,colstart:r}){super({id:t});R(this,"label");R(this,"colspan");R(this,"colstart");this.label=s,this.colspan=n,this.colstart=r}render(){if(this.label instanceof Function){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}return this.label}attrs(){return W(super.attrs(),t=>({...t,role:"columnheader",colspan:this.colspan}))}isFlat(){return"__flat"in this}isData(){return"__data"in this}isFlatDisplay(){return"__flat"in this&&"__display"in this}isGroup(){return"__group"in this}isGroupDisplay(){return"__group"in this&&"__display"in this}}class Ye extends hs{constructor({id:t,label:s,colstart:n}){super({id:t,label:s,colspan:1,colstart:n});R(this,"__flat",!0)}clone(){return new Ye({id:this.id,label:this.label,colstart:this.colstart})}}class ut extends Ye{constructor({id:t,label:s,accessorKey:n,accessorFn:r,colstart:o}){super({id:t,label:s,colstart:o});R(this,"__data",!0);R(this,"accessorKey");R(this,"accessorFn");this.accessorKey=n,this.accessorFn=r}clone(){return new ut({id:this.id,label:this.label,accessorFn:this.accessorFn,accessorKey:this.accessorKey,colstart:this.colstart})}}class Ze extends Ye{constructor({id:t,label:s=ds,colstart:n}){super({id:t,label:s,colstart:n});R(this,"__display",!0)}clone(){return new Ze({id:this.id,label:this.label,colstart:this.colstart})}}class xe extends hs{constructor({label:t,ids:s,allIds:n,colspan:r,colstart:o}){super({id:`[${s.join(",")}]`,label:t,colspan:r,colstart:o});R(this,"__group",!0);R(this,"ids");R(this,"allId");R(this,"allIds");this.ids=s,this.allId=`[${n.join(",")}]`,this.allIds=n}setIds(t){this.ids=t,this.id=`[${this.ids.join(",")}]`}pushId(t){this.ids=[...this.ids,t],this.id=`[${this.ids.join(",")}]`}clone(){return new xe({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}class dt extends xe{constructor({label:t=ds,ids:s,allIds:n,colspan:r=1,colstart:o}){super({label:t,ids:s,allIds:n,colspan:r,colstart:o});R(this,"__display",!0)}clone(){return new dt({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}const Wn=l=>l.reduce((e,t)=>e+t,0),ps=(l,e)=>{const t=[];for(let s=0;s<e;s++)t.push(Array(l).fill(null));return t},kt=l=>{const e=l.length;if(e===0)return l;const t=l[0].length,s=ps(e,t);for(let n=0;n<t;n++)for(let r=0;r<e;r++)s[n][r]=l[r][n];return s};class ht extends Xe{constructor({id:t,cells:s}){super({id:t});R(this,"cells");this.cells=s}attrs(){return W(super.attrs(),t=>({...t,role:"row"}))}clone(){return new ht({id:this.id,cells:this.cells})}}const Jn=(l,e=[])=>{const t=Qn(l);let s=kt(t);return s=Xn(s,e),Yn(s),Zn(kt(s))},Qn=l=>{const e=Wn(l.map(r=>r.isGroup()?r.ids.length:1)),t=Math.max(...l.map(r=>r.height)),s=ps(e,t);let n=0;return l.forEach(r=>{const o=t-r.height;_s(s,r,o,n),n+=r.isGroup()?r.ids.length:1}),s.map((r,o)=>r.map((i,a)=>{var u;if(i!==null)return i;if(o===t-1)return new Ze({id:a.toString(),colstart:a});const c=((u=s[t-1][a])==null?void 0:u.id)??a.toString();return new dt({ids:[],allIds:[c],colstart:a})}))},_s=(l,e,t,s)=>{if(e.isData()){l[l.length-1][s]=new ut({label:e.header,accessorFn:e.accessorFn,accessorKey:e.accessorKey,id:e.id,colstart:s});return}if(e.isDisplay()){l[l.length-1][s]=new Ze({id:e.id,label:e.header,colstart:s});return}if(e.isGroup()){for(let r=0;r<e.ids.length;r++)l[t][s+r]=new xe({label:e.header,colspan:1,allIds:e.ids,ids:[],colstart:s});let n=0;e.columns.forEach(r=>{_s(l,r,t+1,s+n),n+=r.isGroup()?r.ids.length:1});return}},Xn=(l,e)=>{if(e.length===0)return l;const t=[];return e.forEach((s,n)=>{const r=l.find(o=>{const i=o[o.length-1];if(!i.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");return i.id===s});r!==void 0&&t.push(r.map(o=>{const i=o.clone();return i.colstart=n,i}))}),t},Yn=l=>{l.forEach(e=>{const t=e[e.length-1];if(!t.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");e.forEach(s=>{s.isGroup()&&s.pushId(t.id)})})},Zn=l=>l.map((e,t)=>new ht({id:t.toString(),cells:xn(e)})),xn=l=>{if(l.length===0)return l;const e=[];let t=0,s=1;for(;t<l.length;){const n=l[t].clone();if(!n.isGroup()){e.push(n),t++;continue}s=t+1;const r=[...n.ids];for(;s<l.length;){const o=l[s];if(!o.isGroup()||n.allId!==o.allId)break;r.push(...o.ids),s++}n.setIds(r),n.colspan=s-t,e.push(n),t=s}return e},er=(l,e,{rowDataId:t}={})=>{const{data:s,plugins:n}=l,r=fs(e),o=ye(r),i=W([s,o],([T,L])=>Un(T,L,{rowDataId:t})),a=ie([]),c=ie(),u=ie([]),g=ie([]),h=ie({role:"table"}),b=ie({}),$=ie({role:"rowgroup"}),f={data:s,columns:e,flatColumns:r,tableAttrs:h,tableHeadAttrs:b,tableBodyAttrs:$,visibleColumns:a,headerRows:c,originalRows:i,rows:u,pageRows:g},d=Object.fromEntries(Object.entries(n).map(([T,L])=>{const U=Object.fromEntries(r.map(K=>{var fe;const oe=(fe=K.plugins)==null?void 0:fe[T];if(oe!==void 0)return[K.id,oe]}).filter(ve));return[T,L({pluginName:T,tableState:f,columnOptions:U})]})),_=Object.fromEntries(Object.entries(d).map(([T,L])=>[T,L.pluginState])),m={data:s,columns:e,flatColumns:r,tableAttrs:h,tableHeadAttrs:b,tableBodyAttrs:$,visibleColumns:a,headerRows:c,originalRows:i,rows:u,pageRows:g,pluginStates:_},p=Object.values(d).map(T=>T.deriveTableAttrs).filter(ve);let S=ye({role:"table"});p.forEach(T=>{S=T(S)});const E=W(S,T=>{const L=Pe(T);return h.set(L),L}),y=Object.values(d).map(T=>T.deriveTableBodyAttrs).filter(ve);let D=ye({});y.forEach(T=>{D=T(D)});const ee=W(D,T=>{const L=Pe(T);return b.set(L),L}),_e=Object.values(d).map(T=>T.deriveTableBodyAttrs).filter(ve);let se=ye({role:"rowgroup"});_e.forEach(T=>{se=T(se)});const et=W(se,T=>{const L=Pe(T);return $.set(L),L}),Fe=Object.values(d).map(T=>T.deriveFlatColumns).filter(ve);let ge=o;Fe.forEach(T=>{ge=T(ge)});const Ce=W(ge,T=>(a.set(T),T)),Ne=W([i,Ce],([T,L])=>Kn(T,L.map(U=>U.id))),Re=Object.values(d).map(T=>T.deriveRows).filter(ve);let Me=Ne;Re.forEach(T=>{Me=T(Me)});const Le=W(Me,T=>(T.forEach(L=>{L.injectState(m),L.cells.forEach(U=>{U.injectState(m)})}),Object.entries(d).forEach(([L,U])=>{T.forEach(K=>{var oe;((oe=U.hooks)==null?void 0:oe["tbody.tr"])!==void 0&&K.applyHook(L,U.hooks["tbody.tr"](K)),K.cells.forEach(fe=>{var $e;(($e=U.hooks)==null?void 0:$e["tbody.tr.td"])!==void 0&&fe.applyHook(L,U.hooks["tbody.tr.td"](fe))})})}),u.set(T),T)),tt=Object.values(d).map(T=>T.derivePageRows).filter(ve);let Ae=Le;tt.forEach(T=>{Ae=T(Ae)});const st=W(Ae,T=>(T.forEach(L=>{L.injectState(m),L.cells.forEach(U=>{U.injectState(m)})}),Object.entries(d).forEach(([L,U])=>{T.forEach(K=>{var oe;((oe=U.hooks)==null?void 0:oe["tbody.tr"])!==void 0&&K.applyHook(L,U.hooks["tbody.tr"](K)),K.cells.forEach(fe=>{var $e;(($e=U.hooks)==null?void 0:$e["tbody.tr.td"])!==void 0&&fe.applyHook(L,U.hooks["tbody.tr.td"](fe))})})}),g.set(T),T)),B=W(Ce,T=>{const L=Jn(e,T.map(U=>U.id));return L.forEach(U=>{U.injectState(m),U.cells.forEach(K=>{K.injectState(m)})}),Object.entries(d).forEach(([U,K])=>{L.forEach(oe=>{var fe;((fe=K.hooks)==null?void 0:fe["thead.tr"])!==void 0&&oe.applyHook(U,K.hooks["thead.tr"](oe)),oe.cells.forEach($e=>{var pt;((pt=K.hooks)==null?void 0:pt["thead.tr.th"])!==void 0&&$e.applyHook(U,K.hooks["thead.tr.th"]($e))})})}),c.set(L),L});return{tableAttrs:E,tableHeadAttrs:ee,tableBodyAttrs:et,visibleColumns:Ce,flatColumns:r,headerRows:B,originalRows:i,rows:Le,pageRows:st,pluginStates:_}};let tr=class{constructor(e,t){R(this,"data");R(this,"plugins");this.data=e,this.plugins=t}createColumns(e){const t=cs(e),s=zn(t);if(s.length!==0)throw new Error(`Duplicate column ids not allowed: "${s.join('", "')}"`);return e}column(e){return new Hn(e)}group(e){return new Ln(e)}display(e){return new Nn(e)}createViewModel(e,t){return er(this,e,t)}};const sr=(l,e={})=>new tr(l,e),nr=({initialColumnIdOrder:l=[],hideUnspecifiedColumns:e=!1}={})=>()=>{const t=ie(l);return{pluginState:{columnIdOrder:t},deriveFlatColumns:r=>W([r,t],([o,i])=>{const a=[...o],c=[];return i.forEach(u=>{const g=a.findIndex(h=>h.id===u);c.push(...a.splice(g,1))}),e||c.push(...a),c})}};ye(void 0);const rr=l=>l instanceof MouseEvent?l.shiftKey:!1,lr=({initialHiddenColumnIds:l=[]}={})=>()=>{const e=ie(l);return{pluginState:{hiddenColumnIds:e},deriveFlatColumns:n=>W([n,e],([r,o])=>o.length===0?r:r.filter(i=>!o.includes(i.id)))}},ze=(l,e)=>Array.isArray(l)&&Array.isArray(e)?or(l,e):typeof l=="number"&&typeof e=="number"?l-e:l<e?-1:l>e?1:0,or=(l,e)=>{const t=Math.min(l.length,e.length);for(let s=0;s<t;s++){const n=ze(l[s],e[s]);if(n!==0)return n}return 0},ir=["asc","desc",void 0],ar=l=>{const{subscribe:e,update:t,set:s}=ie(l);return{subscribe:e,update:t,set:s,toggleId:(o,{multiSort:i=!0,toggleOrder:a=ir}={})=>{t(c=>{const u=c.findIndex(d=>d.id===o),g=c[u],h=g==null?void 0:g.order,$=(a.findIndex(d=>d===h)+1)%a.length,f=a[$];return i?u===-1&&f!==void 0?[...c,{id:o,order:f}]:f===void 0?[...c.slice(0,u),...c.slice(u+1)]:[...c.slice(0,u),{id:o,order:f},...c.slice(u+1)]:f===void 0?[]:[{id:o,order:f}]})},clearId:o=>{t(i=>{const a=i.findIndex(c=>c.id===o);return a===-1?i:[...i.slice(0,a),...i.slice(a+1)]})}}},gs=(l,e,t)=>{const s=[...l];s.sort((n,r)=>{var o,i,a;for(const c of e){const u=((o=t[c.id])==null?void 0:o.invert)??!1,g=n.cellForId[c.id],h=r.cellForId[c.id];let b=0;const $=(i=t[c.id])==null?void 0:i.compareFn,f=(a=t[c.id])==null?void 0:a.getSortValue;if(!g.isData())return 0;const d=g.value,_=h.value;if($!==void 0)b=$(d,_);else if(f!==void 0){const m=f(d),p=f(_);b=ze(m,p)}else if(typeof d=="string"||typeof d=="number")b=ze(d,_);else if(d instanceof Date||_ instanceof Date){const m=d instanceof Date?d.getTime():0,p=_ instanceof Date?_.getTime():0;b=ze(m,p)}if(b!==0){let m=1;return c.order==="desc"&&(m*=-1),u&&(m*=-1),b*m}}return 0});for(let n=0;n<s.length;n++){const{subRows:r}=s[n];if(r===void 0)continue;const o=gs(r,e,t),i=s[n].clone();i.subRows=o,s[n]=i}return s},cr=({initialSortKeys:l=[],disableMultiSort:e=!1,isMultiSortEvent:t=rr,toggleOrder:s,serverSide:n=!1}={})=>({columnOptions:r})=>{const o=Object.entries(r).filter(([,g])=>g.disable===!0).map(([g])=>g),i=ar(l),a=ie([]);return{pluginState:{sortKeys:i,preSortedRows:a},deriveRows:g=>W([g,i],([h,b])=>(a.set(h),n?h:gs(h,b,r))),hooks:{"thead.tr.th":g=>{const h=o.includes(g.id);return{props:W(i,$=>{const f=$.find(m=>m.id===g.id),d=m=>{g.isData()&&(h||i.toggleId(g.id,{multiSort:e?!1:t(m),toggleOrder:s}))},_=()=>{g.isData()&&(o.includes(g.id)||i.clearId(g.id))};return{order:f==null?void 0:f.order,toggle:d,clear:_,disabled:h}})}},"tbody.tr.td":g=>({props:W(i,b=>{const $=b.find(f=>f.id===g.id);return{order:$==null?void 0:$.order}})})}}};function fr(l,{from:e,to:t},s={}){const n=getComputedStyle(l),r=n.transform==="none"?"":n.transform,[o,i]=n.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*o/t.width-(t.left+o),c=e.top+e.height*i/t.height-(t.top+i),{delay:u=0,duration:g=b=>Math.sqrt(b)*120,easing:h=ss}=s;return{delay:u,duration:Yt(g)?g(Math.sqrt(a*a+c*c)):g,easing:h,css:(b,$)=>{const f=$*a,d=$*c,_=b+$*e.width/t.width,m=b+$*e.height/t.height;return`transform: ${r} translate(${f}px, ${d}px) scale(${_}, ${m});`}}}function Et(l,e,t){const s=l.slice();return s[15]=e[t],s[17]=t,s}const ur=l=>({item:l&1,index:l&1}),Ct=l=>({item:l[15],index:l[17]});function yt(l){let e,t=[],s=new Map,n,r=le(l[0]);const o=i=>i[8](i[15]);for(let i=0;i<r.length;i+=1){let a=Et(l,r,i),c=o(a);s.set(c,t[i]=It(c,a))}return{c(){e=A("ul");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=M(i,"UL",{class:!0});var a=j(e);for(let c=0;c<t.length;c+=1)t[c].l(a);a.forEach(w),this.h()},h(){v(e,"class","svelte-s1iyrp")},m(i,a){F(i,e,a);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);n=!0},p(i,a){if(a&1523){r=le(i[0]),J();for(let c=0;c<t.length;c+=1)t[c].r();t=Oe(t,a,o,1,i,r,s,e,Ds,It,null,Et);for(let c=0;c<t.length;c+=1)t[c].a();Q()}},i(i){if(!n){for(let a=0;a<r.length;a+=1)k(t[a]);n=!0}},o(i){for(let a=0;a<t.length;a+=1)C(t[a]);n=!1},d(i){i&&w(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function dr(l){let e,t=l[8](l[15])+"",s;return{c(){e=A("p"),s=re(t)},l(n){e=M(n,"P",{});var r=j(e);s=ne(r,t),r.forEach(w)},m(n,r){F(n,e,r),I(e,s)},p(n,r){r&1&&t!==(t=n[8](n[15])+"")&&pe(s,t)},d(n){n&&w(e)}}}function It(l,e){let t,s,n,r,o,i,a,c=G,u,g,h;const b=e[11].default,$=Ue(b,e,e[10],Ct),f=$||dr(e);return{key:l,first:null,c(){t=A("li"),f&&f.c(),s=z(),this.h()},l(d){t=M(d,"LI",{"data-index":!0,"data-id":!0,draggable:!0,class:!0});var _=j(t);f&&f.l(_),s=P(_),_.forEach(w),this.h()},h(){v(t,"data-index",n=e[17]),v(t,"data-id",r=JSON.stringify(e[8](e[15]))),v(t,"draggable","true"),v(t,"class","svelte-s1iyrp"),gt(t,"over",e[8](e[15])===e[1]),this.first=t},m(d,_){F(d,t,_),f&&f.m(t,null),I(t,s),u=!0,g||(h=[te(t,"dragstart",e[4]),te(t,"dragover",e[5]),te(t,"dragleave",e[6]),te(t,"drop",e[7])],g=!0)},p(d,_){e=d,$?$.p&&(!u||_&1025)&&Ke($,b,e,e[10],u?Je(b,e[10],_,ur):We(e[10]),Ct):f&&f.p&&(!u||_&1)&&f.p(e,u?_:-1),(!u||_&1&&n!==(n=e[17]))&&v(t,"data-index",n),(!u||_&1&&r!==(r=JSON.stringify(e[8](e[15]))))&&v(t,"data-id",r),(!u||_&259)&&gt(t,"over",e[8](e[15])===e[1])},r(){a=t.getBoundingClientRect()},f(){en(t),c(),rs(t,a)},a(){c(),c=xs(t,a,fr,{duration:300})},i(d){u||(k(f,d),d&&Zt(()=>{u&&(i&&i.end(1),o=Ss(t,e[3],{key:e[8](e[15])}),o.start())}),u=!0)},o(d){C(f,d),o&&o.invalidate(),d&&(i=Is(t,e[2],{key:e[8](e[15])})),u=!1},d(d){d&&w(t),f&&f.d(d),d&&i&&i.end(),g=!1,De(h)}}}function hr(l){let e,t,s=l[0]&&l[0].length&&yt(l);return{c(){s&&s.c(),e=q()},l(n){s&&s.l(n),e=q()},m(n,r){s&&s.m(n,r),F(n,e,r),t=!0},p(n,[r]){n[0]&&n[0].length?s?(s.p(n,r),r&1&&k(s,1)):(s=yt(n),s.c(),k(s,1),s.m(e.parentNode,e)):s&&(J(),C(s,1,1,()=>{s=null}),Q())},i(n){t||(k(s),t=!0)},o(n){C(s),t=!1},d(n){n&&w(e),s&&s.d(n)}}}function pr(l,e,t){let{$$slots:s={},$$scope:n}=e;const[r,o]=un({duration:m=>Math.sqrt(m*200),fallback(m,p){const S=getComputedStyle(m),E=S.transform==="none"?"":S.transform;return{duration:600,easing:Ls,css:y=>`
					transform: ${E} scale(${y});
					opacity: ${y}
				`}}});let i=!1;const a=m=>m.dataset.index&&m.dataset||a(m.parentNode),c=m=>{m.dataTransfer.setData("source",m.target.dataset.index)},u=m=>{m.preventDefault();let p=a(m.target);i!==p.id&&t(1,i=JSON.parse(p.id))},g=m=>{let p=a(m.target);i===p.id&&t(1,i=!1)},h=m=>{t(1,i=!1),m.preventDefault();let p=a(m.target),S=m.dataTransfer.getData("source"),E=p.index;$({from:S,to:E})},b=Qe(),$=({from:m,to:p})=>{let S=[...d];S[m]=[S[p],S[p]=S[m]][0],b("sort",S)},f=m=>_?m[_]:m;let{list:d}=e,{key:_}=e;return l.$$set=m=>{"list"in m&&t(0,d=m.list),"key"in m&&t(9,_=m.key),"$$scope"in m&&t(10,n=m.$$scope)},[d,i,r,o,c,u,g,h,f,_,n,s]}class _r extends Z{constructor(e){super(),x(this,e,pr,hr,Y,{list:0,key:9})}}function gr(l){let e,t,s;return{c(){e=A("input"),this.h()},l(n){e=M(n,"INPUT",{type:!0,class:!0}),this.h()},h(){v(e,"type","checkbox"),e.disabled=!0,v(e,"class","px-4 pointer-events: none;")},m(n,r){F(n,e,r),e.checked=l[0],t||(s=te(e,"change",l[1]),t=!0)},p(n,[r]){r&1&&(e.checked=n[0])},i:G,o:G,d(n){n&&w(e),t=!1,s()}}}function mr(l,e,t){let{value:s}=e;function n(){s=this.checked,t(0,s)}return l.$$set=r=>{"value"in r&&t(0,s=r.value)},[s,n]}class br extends Z{constructor(e){super(),x(this,e,mr,gr,Y,{value:0})}}function $r(l){let e,t=l[0].toLocaleString("fr-FR")+"",s;return{c(){e=A("div"),s=re(t),this.h()},l(n){e=M(n,"DIV",{class:!0});var r=j(e);s=ne(r,t),r.forEach(w),this.h()},h(){v(e,"class","min-w-24 px-2")},m(n,r){F(n,e,r),I(e,s)},p:G,i:G,o:G,d(n){n&&w(e)}}}function wr(l,e,t){let{value:s}=e;const n=new Date(s);return l.$$set=r=>{"value"in r&&t(1,s=r.value)},[n,s]}class vr extends Z{constructor(e){super(),x(this,e,wr,$r,Y,{value:1})}}function kr(l){let e,t,s;return t=new Xs({props:{hist:l[0],minimal:!0}}),{c(){e=A("div"),N(t.$$.fragment),this.h()},l(n){e=M(n,"DIV",{class:!0});var r=j(e);V(t.$$.fragment,r),r.forEach(w),this.h()},h(){v(e,"class","mx-8 h-24")},m(n,r){F(n,e,r),H(t,e,null),s=!0},p(n,[r]){const o={};r&1&&(o.hist=n[0]),t.$set(o)},i(n){s||(k(t.$$.fragment,n),s=!0)},o(n){C(t.$$.fragment,n),s=!1},d(n){n&&w(e),O(t)}}}function Er(l,e,t){let{value:s}=e;return l.$$set=n=>{"value"in n&&t(0,s=n.value)},[s]}class Cr extends Z{constructor(e){super(),x(this,e,Er,kr,Y,{value:0})}}function yr(l){let e,t,s;return{c(){e=A("div"),t=A("img"),this.h()},l(n){e=M(n,"DIV",{class:!0});var r=j(e);t=M(r,"IMG",{class:!0,src:!0,alt:!0}),r.forEach(w),this.h()},h(){v(t,"class","h-full w-full object-cover rounded"),Ge(t.src,s=l[0])||v(t,"src",s),v(t,"alt",l[0]),v(e,"class","mx-8 h-20 aspect-square")},m(n,r){F(n,e,r),I(e,t)},p(n,[r]){r&1&&!Ge(t.src,s=n[0])&&v(t,"src",s),r&1&&v(t,"alt",n[0])},i:G,o:G,d(n){n&&w(e)}}}function Ir(l,e,t){let{value:s}=e;return l.$$set=n=>{"value"in n&&t(0,s=n.value)},[s]}class Sr extends Z{constructor(e){super(),x(this,e,Ir,yr,Y,{value:0})}}function Tr(l){let e,t;return{c(){e=A("div"),t=re(l[0]),this.h()},l(s){e=M(s,"DIV",{class:!0});var n=j(e);t=ne(n,l[0]),n.forEach(w),this.h()},h(){v(e,"class","min-w-16 px-2")},m(s,n){F(s,e,n),I(e,t)},p(s,[n]){n&1&&pe(t,s[0])},i:G,o:G,d(s){s&&w(e)}}}function Dr(l,e,t){let{value:s}=e;return l.$$set=n=>{"value"in n&&t(0,s=n.value)},[s]}class St extends Z{constructor(e){super(),x(this,e,Dr,Tr,Y,{value:0})}}function Fr(l){let e,t;return{c(){e=A("div"),t=re(l[0]),this.h()},l(s){e=M(s,"DIV",{class:!0});var n=j(e);t=ne(n,l[0]),n.forEach(w),this.h()},h(){v(e,"class","min-w-24 px-2")},m(s,n){F(s,e,n),I(e,t)},p(s,[n]){n&1&&pe(t,s[0])},i:G,o:G,d(s){s&&w(e)}}}function Rr(l,e,t){let{value:s}=e;return l.$$set=n=>{"value"in n&&t(0,s=n.value)},[s]}class Mr extends Z{constructor(e){super(),x(this,e,Rr,Fr,Y,{value:0})}}function Ar(l){let e,t,s,n,r;return{c(){e=A("div"),t=A("video"),this.h()},l(o){e=M(o,"DIV",{class:!0});var i=j(e);t=M(i,"VIDEO",{src:!0,class:!0}),j(t).forEach(w),i.forEach(w),this.h()},h(){Ge(t.src,s=l[0])||v(t,"src",s),t.loop=!0,t.muted=!0,v(t,"class","h-full w-full object-cover rounded"),v(e,"class","mx-8 h-20 aspect-square")},m(o,i){F(o,e,i),I(e,t),l[3](t),n||(r=[te(t,"mouseenter",l[2]),te(t,"mouseleave",l[2])],n=!0)},p(o,[i]){i&1&&!Ge(t.src,s=o[0])&&v(t,"src",s)},i:G,o:G,d(o){o&&w(e),l[3](null),n=!1,De(r)}}}function jr(l,e,t){let{value:s}=e,n,r=!1;function o(){r=!r,r?(t(1,n.playbackRate=4,n),n.play().catch(()=>console.error("video playback error"))):n.pause()}function i(a){he[a?"unshift":"push"](()=>{n=a,t(1,n)})}return l.$$set=a=>{"value"in a&&t(0,s=a.value)},[s,n,o,i]}class Br extends Z{constructor(e){super(),x(this,e,jr,Ar,Y,{value:0})}}const we=l=>e=>On(l,{value:e.value}),Or={image:we(Sr),int:we(St),float:we(St),bool:we(br),str:we(Mr),datetime:we(vr),video:we(Br),histogram:we(Cr)};function Tt(l,e,t){const s=l.slice();return s[35]=e[t],s}function Dt(l,e,t){const s=l.slice();return s[39]=e[t],s}function Ft(l,e,t){const s=l.slice();return s[43]=e[t],s}function Rt(l,e,t){const s=l.slice();return s[39]=e[t],s}function Mt(l){let e,t,s,n="Column settings",r,o,i="Drag and drop to re-order, toggle box for visibility.",a,c,u,g,h,b,$;return u=new _r({props:{list:l[4],$$slots:{default:[Hr,({item:f})=>({49:f}),({item:f})=>[0,f?262144:0]]},$$scope:{ctx:l}}}),u.$on("sort",l[16]),b=new ts({props:{class:"text-white",$$slots:{default:[Nr]},$$scope:{ctx:l}}}),b.$on("click",l[20]),{c(){e=A("div"),t=A("div"),s=A("span"),s.textContent=n,r=z(),o=A("span"),o.textContent=i,a=z(),c=A("div"),N(u.$$.fragment),g=z(),h=A("div"),N(b.$$.fragment),this.h()},l(f){e=M(f,"DIV",{class:!0});var d=j(e);t=M(d,"DIV",{class:!0});var _=j(t);s=M(_,"SPAN",{class:!0,"data-svelte-h":!0}),be(s)!=="svelte-1l2t5au"&&(s.textContent=n),r=P(_),o=M(_,"SPAN",{class:!0,"data-svelte-h":!0}),be(o)!=="svelte-1fvb8a3"&&(o.textContent=i),a=P(_),c=M(_,"DIV",{class:!0});var m=j(c);V(u.$$.fragment,m),m.forEach(w),g=P(_),h=M(_,"DIV",{class:!0});var p=j(h);V(b.$$.fragment,p),p.forEach(w),_.forEach(w),d.forEach(w),this.h()},h(){v(s,"class","text-3xl font-bold mb-4"),v(o,"class","text-sm italic text-gray-500 font-medium mb-3"),v(c,"class","flex flex-col space-y-2"),v(h,"class","my-6 flex justify-end items-end"),v(t,"class","px-12 pt-10 flex flex-col bg-white border border-slate-300 shadow-sm shadow-slate-300 rounded-lg"),v(e,"class","fixed w-full h-full z-20 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-500/30 backdrop:blur-lg flex items-center justify-center font-Montserrat")},m(f,d){F(f,e,d),I(e,t),I(t,s),I(t,r),I(t,o),I(t,a),I(t,c),H(u,c,null),I(t,g),I(t,h),H(b,h,null),$=!0},p(f,d){const _={};d[0]&16&&(_.list=f[4]),d[0]&4|d[1]&786432&&(_.$$scope={dirty:d,ctx:f}),u.$set(_);const m={};d[1]&524288&&(m.$$scope={dirty:d,ctx:f}),b.$set(m)},i(f){$||(k(u.$$.fragment,f),k(b.$$.fragment,f),$=!0)},o(f){C(u.$$.fragment,f),C(b.$$.fragment,f),$=!1},d(f){f&&w(e),O(u),O(b)}}}function Hr(l){let e,t,s,n,r,o=l[49]+"",i,a,c,u,g,h;function b(f){l[19](f,l[49])}let $={id:l[49]};return l[2][l[49]]!==void 0&&($.checked=l[2][l[49]]),t=new js({props:$}),he.push(()=>Se(t,"checked",b)),{c(){e=A("div"),N(t.$$.fragment),n=z(),r=A("label"),i=re(o),c=z(),u=Ee("svg"),g=Ee("path"),this.h()},l(f){e=M(f,"DIV",{class:!0});var d=j(e);V(t.$$.fragment,d),n=P(d),r=M(d,"LABEL",{for:!0,class:!0});var _=j(r);i=ne(_,o),_.forEach(w),c=P(d),u=ke(d,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var m=j(u);g=ke(m,"path",{d:!0,fill:!0}),j(g).forEach(w),m.forEach(w),d.forEach(w),this.h()},h(){v(r,"for",a=l[49]),v(r,"class","text-sm select-none grow cursor-pointer"),v(g,"d",Ps),v(g,"fill","grey"),v(u,"xmlns","http://www.w3.org/2000/svg"),v(u,"height","48"),v(u,"viewBox","0 -960 960 960"),v(u,"width","48"),v(u,"class","h-6 w-6 cursor-move"),v(e,"class","py-1 px-2 flex items-center space-x-2 border rounded-sm")},m(f,d){F(f,e,d),H(t,e,null),I(e,n),I(e,r),I(r,i),I(e,c),I(e,u),I(u,g),h=!0},p(f,d){l=f;const _={};d[1]&262144&&(_.id=l[49]),!s&&d[0]&4|d[1]&262144&&(s=!0,_.checked=l[2][l[49]],Ie(()=>s=!1)),t.$set(_),(!h||d[1]&262144)&&o!==(o=l[49]+"")&&pe(i,o),(!h||d[1]&262144&&a!==(a=l[49]))&&v(r,"for",a)},i(f){h||(k(t.$$.fragment,f),h=!0)},o(f){C(t.$$.fragment,f),h=!1},d(f){f&&w(e),O(t)}}}function Nr(l){let e;return{c(){e=re("Done")},l(t){e=ne(t,"Done")},m(t,s){F(t,e,s)},d(t){t&&w(e)}}}function At(l){let e,t,s,n;const r=[zr,Pr,Lr],o=[];function i(a,c){return a[48].sort.order==="asc"?0:a[48].sort.order==="desc"?1:2}return e=i(l),t=o[e]=r[e](l),{c(){t.c(),s=q()},l(a){t.l(a),s=q()},m(a,c){o[e].m(a,c),F(a,s,c),n=!0},p(a,c){let u=e;e=i(a),e!==u&&(J(),C(o[u],1,1,()=>{o[u]=null}),Q(),t=o[e],t||(t=o[e]=r[e](a),t.c()),k(t,1),t.m(s.parentNode,s))},i(a){n||(k(t),n=!0)},o(a){C(t),n=!1},d(a){a&&w(s),o[e].d(a)}}}function Lr(l){let e,t;return e=new Bs({props:{class:"opacity-20"}}),{c(){N(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,n){H(e,s,n),t=!0},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function Pr(l){let e,t;return e=new fn({}),{c(){N(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,n){H(e,s,n),t=!0},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function zr(l){let e,t;return e=new ln({}),{c(){N(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,n){H(e,s,n),t=!0},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function Vr(l){let e,t,s,n,r,o,i;s=new it({props:{of:l[39].render()}});let a=!l[1]&&!l[48].sort.disabled&&At(l),c=[l[42],{class:"relative py-4 px-2 font-semibold"}],u={};for(let h=0;h<c.length;h+=1)u=X(u,c[h]);function g(){return l[21](l[48],l[39])}return{c(){e=A("th"),t=A("span"),N(s.$$.fragment),n=z(),a&&a.c(),this.h()},l(h){e=M(h,"TH",{class:!0});var b=j(e);t=M(b,"SPAN",{class:!0});var $=j(t);V(s.$$.fragment,$),n=P($),a&&a.l($),$.forEach(w),b.forEach(w),this.h()},h(){v(t,"class","whitespace-nowrap flex items-center gap-1 justify-center"),ae(e,u)},m(h,b){F(h,e,b),I(e,t),H(s,t,null),I(t,n),a&&a.m(t,null),r=!0,o||(i=te(e,"click",g),o=!0)},p(h,b){l=h;const $={};b[0]&64&&($.of=l[39].render()),s.$set($),!l[1]&&!l[48].sort.disabled?a?(a.p(l,b),b[0]&2|b[1]&131072&&k(a,1)):(a=At(l),a.c(),k(a,1),a.m(t,null)):a&&(J(),C(a,1,1,()=>{a=null}),Q()),ae(e,u=ce(c,[b[1]&2048&&l[42],{class:"relative py-4 px-2 font-semibold"}]))},i(h){r||(k(s.$$.fragment,h),k(a),r=!0)},o(h){C(s.$$.fragment,h),C(a),r=!1},d(h){h&&w(e),O(s),a&&a.d(),o=!1,i()}}}function jt(l,e){let t,s,n;return s=new He({props:{props:e[39].props(),attrs:e[39].attrs(),$$slots:{default:[Vr,({props:r,attrs:o})=>({48:r,42:o}),({props:r,attrs:o})=>[0,(r?131072:0)|(o?2048:0)]]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=q(),N(s.$$.fragment),this.h()},l(r){t=q(),V(s.$$.fragment,r),this.h()},h(){this.first=t},m(r,o){F(r,t,o),H(s,r,o),n=!0},p(r,o){e=r;const i={};o[0]&64&&(i.props=e[39].props()),o[0]&64&&(i.attrs=e[39].attrs()),o[0]&66|o[1]&657408&&(i.$$scope={dirty:o,ctx:e}),s.$set(i)},i(r){n||(k(s.$$.fragment,r),n=!0)},o(r){C(s.$$.fragment,r),n=!1},d(r){r&&w(t),O(s,r)}}}function Gr(l){let e,t,s;return{c(){e=Ee("svg"),t=Ee("title"),s=Ee("path"),this.h()},l(n){e=ke(n,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var r=j(e);t=ke(r,"title",{}),j(t).forEach(w),s=ke(r,"path",{d:!0,fill:!0}),j(s).forEach(w),r.forEach(w),this.h()},h(){v(s,"d",Vs),v(s,"fill","#111"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"height","48"),v(e,"viewBox","0 -960 960 960"),v(e,"width","48"),v(e,"class","h-6 w-6")},m(n,r){F(n,e,r),I(e,t),I(e,s)},p:G,d(n){n&&w(e)}}}function qr(l){let e,t=[],s=new Map,n,r,o,i,a,c,u,g=le(l[43].cells);const h=f=>f[39].id;for(let f=0;f<g.length;f+=1){let d=Rt(l,g,f),_=h(d);s.set(_,t[f]=jt(_,d))}a=new ts({props:{variant:"ghost",$$slots:{default:[Gr]},$$scope:{ctx:l}}}),a.$on("click",l[22]);let b=[l[38],{class:"sticky top-0 bg-white shadow-sm shadow-slate-300 border-b border-b-slate-400"}],$={};for(let f=0;f<b.length;f+=1)$=X($,b[f]);return{c(){e=A("tr");for(let f=0;f<t.length;f+=1)t[f].c();n=z(),r=A("th"),o=z(),i=A("th"),N(a.$$.fragment),c=z(),this.h()},l(f){e=M(f,"TR",{class:!0});var d=j(e);for(let m=0;m<t.length;m+=1)t[m].l(d);n=P(d),r=M(d,"TH",{class:!0}),j(r).forEach(w),o=P(d),i=M(d,"TH",{class:!0});var _=j(i);V(a.$$.fragment,_),_.forEach(w),d.forEach(w),c=P(f),this.h()},h(){v(r,"class","w-full"),v(i,"class","pr-4"),ae(e,$)},m(f,d){F(f,e,d);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);I(e,n),I(e,r),I(e,o),I(e,i),H(a,i,null),F(f,c,d),u=!0},p(f,d){d[0]&16450|d[1]&133120&&(g=le(f[43].cells),J(),t=Oe(t,d,h,1,f,g,s,e,qe,jt,n,Rt),Q());const _={};d[1]&524288&&(_.$$scope={dirty:d,ctx:f}),a.$set(_),ae(e,$=ce(b,[d[1]&128&&f[38],{class:"sticky top-0 bg-white shadow-sm shadow-slate-300 border-b border-b-slate-400"}]))},i(f){if(!u){for(let d=0;d<g.length;d+=1)k(t[d]);k(a.$$.fragment,f),u=!0}},o(f){for(let d=0;d<t.length;d+=1)C(t[d]);C(a.$$.fragment,f),u=!1},d(f){f&&(w(e),w(c));for(let d=0;d<t.length;d+=1)t[d].d();O(a)}}}function Bt(l,e){let t,s,n;return s=new He({props:{rowAttrs:e[43].attrs(),$$slots:{default:[qr,({rowAttrs:r})=>({38:r}),({rowAttrs:r})=>[0,r?128:0]]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=q(),N(s.$$.fragment),this.h()},l(r){t=q(),V(s.$$.fragment,r),this.h()},h(){this.first=t},m(r,o){F(r,t,o),H(s,r,o),n=!0},p(r,o){e=r;const i={};o[0]&64&&(i.rowAttrs=e[43].attrs()),o[0]&74|o[1]&524416&&(i.$$scope={dirty:o,ctx:e}),s.$set(i)},i(r){n||(k(s.$$.fragment,r),n=!0)},o(r){C(s.$$.fragment,r),n=!1},d(r){r&&w(t),O(s,r)}}}function Ur(l){let e,t,s;t=new it({props:{of:l[39].render()}});let n=[l[42],{class:"px-2 border-b border-slate-300"}],r={};for(let o=0;o<n.length;o+=1)r=X(r,n[o]);return{c(){e=A("td"),N(t.$$.fragment),this.h()},l(o){e=M(o,"TD",{class:!0});var i=j(e);V(t.$$.fragment,i),i.forEach(w),this.h()},h(){ae(e,r)},m(o,i){F(o,e,i),H(t,e,null),s=!0},p(o,i){const a={};i[0]&256&&(a.of=o[39].render()),t.$set(a),ae(e,r=ce(n,[i[1]&2048&&o[42],{class:"px-2 border-b border-slate-300"}]))},i(o){s||(k(t.$$.fragment,o),s=!0)},o(o){C(t.$$.fragment,o),s=!1},d(o){o&&w(e),O(t)}}}function Ot(l,e){let t,s,n;return s=new He({props:{attrs:e[39].attrs(),$$slots:{default:[Ur,({attrs:r})=>({42:r}),({attrs:r})=>[0,r?2048:0]]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=q(),N(s.$$.fragment),this.h()},l(r){t=q(),V(s.$$.fragment,r),this.h()},h(){this.first=t},m(r,o){F(r,t,o),H(s,r,o),n=!0},p(r,o){e=r;const i={};o[0]&256&&(i.attrs=e[39].attrs()),o[0]&256|o[1]&526336&&(i.$$scope={dirty:o,ctx:e}),s.$set(i)},i(r){n||(k(s.$$.fragment,r),n=!0)},o(r){C(s.$$.fragment,r),n=!1},d(r){r&&w(t),O(s,r)}}}function Kr(l){let e,t=[],s=new Map,n,r,o,i,a=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 mx-auto p-1 ml-3 border rounded-full border-slate-300 transition-colors hover:bg-slate-200"><title>Open</title><path d="${zs}" fill="currentcolor"></path></svg>`,c,u,g,h,b=le(l[35].cells);const $=m=>m[39].id;for(let m=0;m<b.length;m+=1){let p=Dt(l,b,m),S=$(p);s.set(S,t[m]=Ot(S,p))}let f=[l[38],{class:"h-24 cursor-pointer hover:bg-slate-100"}],d={};for(let m=0;m<f.length;m+=1)d=X(d,f[m]);function _(){return l[23](l[35])}return{c(){e=A("tr");for(let m=0;m<t.length;m+=1)t[m].c();n=z(),r=A("td"),o=z(),i=A("td"),i.innerHTML=a,c=z(),this.h()},l(m){e=M(m,"TR",{class:!0});var p=j(e);for(let S=0;S<t.length;S+=1)t[S].l(p);n=P(p),r=M(p,"TD",{class:!0}),j(r).forEach(w),o=P(p),i=M(p,"TD",{class:!0,"data-svelte-h":!0}),be(i)!=="svelte-nb66sx"&&(i.innerHTML=a),p.forEach(w),c=P(m),this.h()},h(){v(r,"class","w-full border-b border-slate-300"),v(i,"class","border-b border-slate-300"),ae(e,d)},m(m,p){F(m,e,p);for(let S=0;S<t.length;S+=1)t[S]&&t[S].m(e,null);I(e,n),I(e,r),I(e,o),I(e,i),F(m,c,p),u=!0,g||(h=te(e,"click",_),g=!0)},p(m,p){l=m,p[0]&256|p[1]&2048&&(b=le(l[35].cells),J(),t=Oe(t,p,$,1,l,b,s,e,qe,Ot,n,Dt),Q()),ae(e,d=ce(f,[p[1]&128&&l[38],{class:"h-24 cursor-pointer hover:bg-slate-100"}]))},i(m){if(!u){for(let p=0;p<b.length;p+=1)k(t[p]);u=!0}},o(m){for(let p=0;p<t.length;p+=1)C(t[p]);u=!1},d(m){m&&(w(e),w(c));for(let p=0;p<t.length;p+=1)t[p].d();g=!1,h()}}}function Ht(l,e){let t,s,n;return s=new He({props:{rowAttrs:e[35].attrs(),$$slots:{default:[Kr,({rowAttrs:r})=>({38:r}),({rowAttrs:r})=>[0,r?128:0]]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=q(),N(s.$$.fragment),this.h()},l(r){t=q(),V(s.$$.fragment,r),this.h()},h(){this.first=t},m(r,o){F(r,t,o),H(s,r,o),n=!0},p(r,o){e=r;const i={};o[0]&256&&(i.rowAttrs=e[35].attrs()),o[0]&257|o[1]&524416&&(i.$$scope={dirty:o,ctx:e}),s.$set(i)},i(r){n||(k(s.$$.fragment,r),n=!0)},o(r){C(s.$$.fragment,r),n=!1},d(r){r&&w(t),O(s,r)}}}function Wr(l){let e,t,s,n,r=[],o=new Map,i,a,c=[],u=new Map,g,h=l[3]&&Mt(l),b=le(l[6]);const $=E=>E[43].id;for(let E=0;E<b.length;E+=1){let y=Ft(l,b,E),D=$(y);o.set(D,r[E]=Bt(D,y))}let f=le(l[8]);const d=E=>E[35].id;for(let E=0;E<f.length;E+=1){let y=Tt(l,f,E),D=d(y);u.set(D,c[E]=Ht(D,y))}let _=[l[7]],m={};for(let E=0;E<_.length;E+=1)m=X(m,_[E]);let p=[l[5],{class:"table-auto z-0 w-full text-center text-base text-slate-800"}],S={};for(let E=0;E<p.length;E+=1)S=X(S,p[E]);return{c(){h&&h.c(),e=z(),t=A("div"),s=A("table"),n=A("thead");for(let E=0;E<r.length;E+=1)r[E].c();i=z(),a=A("tbody");for(let E=0;E<c.length;E+=1)c[E].c();this.h()},l(E){h&&h.l(E),e=P(E),t=M(E,"DIV",{class:!0});var y=j(t);s=M(y,"TABLE",{class:!0});var D=j(s);n=M(D,"THEAD",{});var ee=j(n);for(let se=0;se<r.length;se+=1)r[se].l(ee);ee.forEach(w),i=P(D),a=M(D,"TBODY",{});var _e=j(a);for(let se=0;se<c.length;se+=1)c[se].l(_e);_e.forEach(w),D.forEach(w),y.forEach(w),this.h()},h(){ae(a,m),ae(s,S),v(t,"class","w-full overflow-y-auto rounded-sm bg-white border border-slate-300 shadow-sm shadow-slate-300 font-Montserrat")},m(E,y){h&&h.m(E,y),F(E,e,y),F(E,t,y),I(t,s),I(s,n);for(let D=0;D<r.length;D+=1)r[D]&&r[D].m(n,null);I(s,i),I(s,a);for(let D=0;D<c.length;D+=1)c[D]&&c[D].m(a,null);g=!0},p(E,y){E[3]?h?(h.p(E,y),y[0]&8&&k(h,1)):(h=Mt(E),h.c(),k(h,1),h.m(e.parentNode,e)):h&&(J(),C(h,1,1,()=>{h=null}),Q()),y[0]&16458|y[1]&133248&&(b=le(E[6]),J(),r=Oe(r,y,$,1,E,b,o,n,qe,Bt,null,Ft),Q()),y[0]&262401|y[1]&2176&&(f=le(E[8]),J(),c=Oe(c,y,d,1,E,f,u,a,qe,Ht,null,Tt),Q()),ae(a,m=ce(_,[y[0]&128&&E[7]])),ae(s,S=ce(p,[y[0]&32&&E[5],{class:"table-auto z-0 w-full text-center text-base text-slate-800"}]))},i(E){if(!g){k(h);for(let y=0;y<b.length;y+=1)k(r[y]);for(let y=0;y<f.length;y+=1)k(c[y]);g=!0}},o(E){C(h);for(let y=0;y<r.length;y+=1)C(r[y]);for(let y=0;y<c.length;y+=1)C(c[y]);g=!1},d(E){E&&(w(e),w(t)),h&&h.d(E);for(let y=0;y<r.length;y+=1)r[y].d();for(let y=0;y<c.length;y+=1)c[y].d()}}}function Jr(l,e,t){let s,n,r,o,i,a,c,{items:u}=e,{disableSort:g=!1}=e;const h=ie(u.rows),b=sr(h,{colOrder:nr(),hideCols:lr(),sort:cr({initialSortKeys:[{id:"created_at",order:"asc"}],disableMultiSort:!0,serverSide:!0})});let $=[],f=[],d=[];Object.values(u.columns).forEach(B=>{$.push(b.column({header:B.name.replace("_"," "),cell:Or[B.type],accessor:B.name,plugins:{sort:B.type==="image"?{disable:!0}:{disable:!1}}})),B.type==="image"||B.type==="video"?f.push(B.name):d.push(B.name)});let _=[...f,...d];const m=b.createColumns($),{headerRows:p,rows:S,tableAttrs:E,tableBodyAttrs:y,pluginStates:D}=b.createViewModel(m);ue(l,p,B=>t(6,i=B)),ue(l,S,B=>t(8,c=B)),ue(l,E,B=>t(5,o=B)),ue(l,y,B=>t(7,a=B));const{sortKeys:ee}=D.sort;ue(l,ee,B=>t(25,r=B));const _e=(B,T)=>{var U,K,oe;!(((oe=(K=(U=T==null?void 0:T.state)==null?void 0:U.columns[T==null?void 0:T.colstart].plugins)==null?void 0:K.sort)==null?void 0:oe.disable)===!0)&&!g&&(B.sort.toggle(),r.length===0&&ee.set([{id:"created_at",order:"asc"}]),Ce("colsort",r))},{columnIdOrder:se}=D.colOrder;ue(l,se,B=>t(4,n=B)),nt(se,n=[..._],n);const et=B=>{nt(se,n=B.detail,n)},{hiddenColumnIds:Fe}=D.hideCols;ue(l,Fe,B=>t(24,s=B));let ge=Object.fromEntries(n.map(B=>[B,!0]));const Ce=Qe();function Ne(B){Ce("selectItem",B)}let Re=!1;function Me(B,T){l.$$.not_equal(ge[T],B)&&(ge[T]=B,t(2,ge))}const Le=()=>{t(3,Re=!1)},tt=(B,T)=>_e(B,T),Ae=()=>{t(3,Re=!0)},st=B=>{Ne(u.rows[B.id].id)};return l.$$set=B=>{"items"in B&&t(0,u=B.items),"disableSort"in B&&t(1,g=B.disableSort)},l.$$.update=()=>{l.$$.dirty[0]&1&&h.set(u.rows),l.$$.dirty[0]&4&&nt(Fe,s=Object.entries(ge).filter(([,B])=>!B).map(([B])=>B),s)},[u,g,ge,Re,n,o,i,a,c,p,S,E,y,ee,_e,se,et,Fe,Ne,Me,Le,tt,Ae,st]}class Qr extends Z{constructor(e){super(),x(this,e,Jr,Wr,Y,{items:0,disableSort:1},null,[-1,-1])}}function Nt(l,e,t){const s=l.slice();return s[15]=e[t].type,s[16]=e[t].name,s}function Lt(l){let e,t=l[16]+"",s,n,r;return{c(){e=A("option"),s=re(t),n=z(),this.h()},l(o){e=M(o,"OPTION",{});var i=j(e);s=ne(i,t),n=P(i),i.forEach(w),this.h()},h(){e.__value=r=l[16],me(e,e.__value)},m(o,i){F(o,e,i),I(e,s),I(e,n)},p(o,i){i&1&&t!==(t=o[16]+"")&&pe(s,t),i&1&&r!==(r=o[16])&&(e.__value=r,me(e,e.__value))},d(o){o&&w(e)}}}function Pt(l){let e=l[6].includes(l[15])&&l[16]&&!l[16].startsWith(je),t,s=e&&Lt(l);return{c(){s&&s.c(),t=q()},l(n){s&&s.l(n),t=q()},m(n,r){s&&s.m(n,r),F(n,t,r)},p(n,r){r&1&&(e=n[6].includes(n[15])&&n[16]&&!n[16].startsWith(je)),e?s?s.p(n,r):(s=Lt(n),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(n){n&&w(t),s&&s.d(n)}}}function Xr(l){let e,t;return e=new Os({}),{c(){N(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,n){H(e,s,n),t=!0},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function Yr(l){let e,t,s,n,r,o,i,a,c,u,g,h,b,$=le(l[0]),f=[];for(let d=0;d<$.length;d+=1)f[d]=Pt(Nt(l,$,d));return u=new Hs({props:{tooltipContent:"Clear filter",$$slots:{default:[Xr]},$$scope:{ctx:l}}}),u.$on("click",l[8]),{c(){e=A("div"),t=A("span"),s=z(),n=A("select");for(let d=0;d<f.length;d+=1)f[d].c();r=A("option"),o=re("Free mode - enter a where clause"),i=z(),a=A("input"),c=z(),N(u.$$.fragment),this.h()},l(d){e=M(d,"DIV",{class:!0});var _=j(e);t=M(_,"SPAN",{class:!0}),j(t).forEach(w),s=P(_),n=M(_,"SELECT",{title:!0,class:!0,style:!0});var m=j(n);for(let S=0;S<f.length;S+=1)f[S].l(m);r=M(m,"OPTION",{});var p=j(r);o=ne(p,"Free mode - enter a where clause"),p.forEach(w),m.forEach(w),i=P(_),a=M(_,"INPUT",{type:!0,placeholder:!0,class:!0}),c=P(_),V(u.$$.fragment,_),_.forEach(w),this.h()},h(){v(t,"class","invisible absolute whitespace-nowrap px-2 font-normal"),r.__value=ms,me(r,r.__value),v(n,"title","Select column to filter on (equality), or Free mode"),v(n,"class","rounded-lg font-normal"),mt(n,"width",l[4]+"px"),l[1]===void 0&&Zt(()=>l[12].call(n)),v(a,"type","text"),v(a,"placeholder","filter value"),v(a,"class","h-10 pl-10 pr-4 rounded-lg border font-normal text-slate-800 placeholder-slate-500 bg-slate-50 border-slate-300 shadow-slate-300"),v(e,"class","flex justify-end gap-2 mr-4")},m(d,_){F(d,e,_),I(e,t),l[10](t),I(e,s),I(e,n);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(n,null);I(n,r),I(r,o),l[11](n),bt(n,l[1],!0),I(e,i),I(e,a),me(a,l[5]),I(e,c),H(u,e,null),g=!0,h||(b=[te(n,"change",l[12]),te(a,"input",l[13]),te(a,"change",l[7])],h=!0)},p(d,[_]){if(_&65){$=le(d[0]);let p;for(p=0;p<$.length;p+=1){const S=Nt(d,$,p);f[p]?f[p].p(S,_):(f[p]=Pt(S),f[p].c(),f[p].m(n,r))}for(;p<f.length;p+=1)f[p].d(1);f.length=$.length}(!g||_&16)&&mt(n,"width",d[4]+"px"),_&3&&bt(n,d[1]),_&32&&a.value!==d[5]&&me(a,d[5]);const m={};_&524288&&(m.$$scope={dirty:_,ctx:d}),u.$set(m)},i(d){g||(k(u.$$.fragment,d),g=!0)},o(d){C(u.$$.fragment,d),g=!1},d(d){d&&w(e),l[10](null),rt(f,d),l[11](null),O(u),h=!1,De(b)}}}const ms="!!!!FREE!!!!";function Zr(l,e,t){var m;let{columns:s=[]}=e,{handleFilter:n}=e,r,o,i=50;const a=["str","int","float"];let c="",u=((m=s.find(p=>a.includes(p.type)&&p.name))==null?void 0:m.name)??"";const g=()=>{var p;if(u===ms)n(c);else if(c==="")n("");else{const S=(p=s.find(E=>E.name===u))==null?void 0:p.type;n(S==="str"?`${u} = '${c}'`:`${u} = ${c}`)}},h=()=>{t(5,c=""),n("")};function b(){if(!o||!r)return;t(3,o.textContent=u,o);const p=o.getBoundingClientRect().width+10;t(4,i=Math.max(p,50))}lt(b);function $(p){he[p?"unshift":"push"](()=>{o=p,t(3,o)})}function f(p){he[p?"unshift":"push"](()=>{r=p,t(2,r)})}function d(){u=vs(this),t(1,u),t(0,s)}function _(){c=this.value,t(5,c)}return l.$$set=p=>{"columns"in p&&t(0,s=p.columns),"handleFilter"in p&&t(9,n=p.handleFilter)},l.$$.update=()=>{l.$$.dirty&2&&u&&b()},[s,u,r,o,i,c,a,g,h,n,$,f,d,_]}class xr extends Z{constructor(e){super(),x(this,e,Zr,Yr,Y,{columns:0,handleFilter:9})}}function zt(l,e,t){const s=l.slice();return s[9]=e[t],s}function el(l){let e,t,s,n,r,o,i,a,c,u,g,h=le(l[3]),b=[];for(let f=0;f<h.length;f+=1)b[f]=Vt(zt(l,h,f));let $=l[1]!==""&&Gt(l);return{c(){e=A("select");for(let f=0;f<b.length;f+=1)b[f].c();t=z(),s=A("div"),n=A("input"),o=z(),i=Ee("svg"),a=Ee("path"),c=z(),$&&$.c(),this.h()},l(f){e=M(f,"SELECT",{class:!0});var d=j(e);for(let p=0;p<b.length;p+=1)b[p].l(d);d.forEach(w),t=P(f),s=M(f,"DIV",{class:!0});var _=j(s);n=M(_,"INPUT",{type:!0,placeholder:!0,class:!0}),o=P(_),i=ke(_,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var m=j(i);a=ke(m,"path",{d:!0,fill:!0}),j(a).forEach(w),m.forEach(w),c=P(_),$&&$.l(_),_.forEach(w),this.h()},h(){v(e,"class","h-10 px-4 mx-4 border rounded bg-slate-50 border-slate-300"),v(n,"type","text"),v(n,"placeholder",r="Semantic search using "+l[0]),v(n,"class","h-10 pl-10 pr-4 rounded-full border text-slate-800 placeholder-slate-500 bg-slate-50 border-slate-300 shadow-slate-300 accent-main"),v(a,"d",Gs),v(a,"fill","currentcolor"),v(i,"xmlns","http://www.w3.org/2000/svg"),v(i,"height","48"),v(i,"viewBox","0 -960 960 960"),v(i,"width","48"),v(i,"class","absolute left-2 h-5 w-5 text-slate-800 pointer-events-none"),v(s,"class","relative flex items-center")},m(f,d){F(f,e,d);for(let _=0;_<b.length;_+=1)b[_]&&b[_].m(e,null);F(f,t,d),F(f,s,d),I(s,n),me(n,l[1]),I(s,o),I(s,i),I(i,a),I(s,c),$&&$.m(s,null),u||(g=[te(n,"input",l[7]),te(n,"change",l[4])],u=!0)},p(f,d){if(d&9){h=le(f[3]);let _;for(_=0;_<h.length;_+=1){const m=zt(f,h,_);b[_]?b[_].p(m,d):(b[_]=Vt(m),b[_].c(),b[_].m(e,null))}for(;_<b.length;_+=1)b[_].d(1);b.length=h.length}d&1&&r!==(r="Semantic search using "+f[0])&&v(n,"placeholder",r),d&2&&n.value!==f[1]&&me(n,f[1]),f[1]!==""?$?$.p(f,d):($=Gt(f),$.c(),$.m(s,null)):$&&($.d(1),$=null)},d(f){f&&(w(e),w(t),w(s)),rt(b,f),$&&$.d(),u=!1,De(g)}}}function Vt(l){let e,t=l[9]+"",s,n;return{c(){e=A("option"),s=re(t),n=z(),this.h()},l(r){e=M(r,"OPTION",{});var o=j(e);s=ne(o,t),n=P(o),o.forEach(w),this.h()},h(){e.__value=l[0],me(e,e.__value)},m(r,o){F(r,e,o),I(e,s),I(e,n)},p(r,o){o&1&&(e.__value=r[0],me(e,e.__value))},d(r){r&&w(e)}}}function Gt(l){let e,t=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-5 w-5 text-slate-800"><path d="${qs}" fill="currentcolor"></path></svg>`,s,n;return{c(){e=A("button"),e.innerHTML=t,this.h()},l(r){e=M(r,"BUTTON",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-16d6f6q"&&(e.innerHTML=t),this.h()},h(){v(e,"class","absolute right-2 p-1 rounded-full transition-colors hover:bg-slate-300")},m(r,o){F(r,e,o),s||(n=te(e,"click",l[5]),s=!0)},p:G,d(r){r&&w(e),s=!1,n()}}}function tl(l){let e,t,s,n;t=new xr({props:{columns:l[2].table_data.columns,handleFilter:l[6]}});let r=l[3].length>0&&el(l);return{c(){e=A("div"),N(t.$$.fragment),s=z(),r&&r.c(),this.h()},l(o){e=M(o,"DIV",{class:!0});var i=j(e);V(t.$$.fragment,i),s=P(i),r&&r.l(i),i.forEach(w),this.h()},h(){v(e,"class","ml-auto relative flex items-center py-5 h-20")},m(o,i){F(o,e,i),H(t,e,null),I(e,s),r&&r.m(e,null),n=!0},p(o,[i]){const a={};i&4&&(a.columns=o[2].table_data.columns),t.$set(a),o[3].length>0&&r.p(o,i)},i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){C(t.$$.fragment,o),n=!1},d(o){o&&w(e),O(t),r&&r.d()}}}function sl(l,e,t){let{selectedDataset:s}=e,{selectedSearchModel:n}=e,{searchInput:r}=e;const o=[];if(s.semantic_search.length>0)for(const h of s.semantic_search)n||(n=h),o.push(h);const i=Qe(),a=()=>{i("search",r)},c=()=>{i("clearSearch")},u=h=>{i("filter",h)};function g(){r=this.value,t(1,r)}return l.$$set=h=>{"selectedDataset"in h&&t(2,s=h.selectedDataset),"selectedSearchModel"in h&&t(0,n=h.selectedSearchModel),"searchInput"in h&&t(1,r=h.searchInput)},[n,r,s,o,a,c,u,g]}class nl extends Z{constructor(e){super(),x(this,e,sl,tl,Y,{selectedDataset:2,selectedSearchModel:0,searchInput:1})}}function qt(l){let e,t,s,n=1+l[2]*(l[1]-1)+"",r,o,i=Math.min(l[2]*l[1],l[0].pagination.total_size)+"",a,c,u=l[0].pagination.total_size+"",g,h,b=l[0].pagination.total_size>l[2]&&Ut(l),$=l[0].pagination.total_size>l[2]&&Kt(l);return{c(){e=A("div"),b&&b.c(),t=z(),s=A("span"),r=re(n),o=re(" - "),a=re(i),c=re(` of
      `),g=re(u),h=z(),$&&$.c(),this.h()},l(f){e=M(f,"DIV",{class:!0});var d=j(e);b&&b.l(d),t=P(d),s=M(d,"SPAN",{class:!0});var _=j(s);r=ne(_,n),o=ne(_," - "),a=ne(_,i),c=ne(_,` of
      `),g=ne(_,u),_.forEach(w),h=P(d),$&&$.l(d),d.forEach(w),this.h()},h(){v(s,"class","mx-4"),v(e,"class","w-full py-5 h-20 flex justify-center items-center text-slate-800")},m(f,d){F(f,e,d),b&&b.m(e,null),I(e,t),I(e,s),I(s,r),I(s,o),I(s,a),I(s,c),I(s,g),I(e,h),$&&$.m(e,null)},p(f,d){f[0].pagination.total_size>f[2]?b?b.p(f,d):(b=Ut(f),b.c(),b.m(e,t)):b&&(b.d(1),b=null),d&6&&n!==(n=1+f[2]*(f[1]-1)+"")&&pe(r,n),d&7&&i!==(i=Math.min(f[2]*f[1],f[0].pagination.total_size)+"")&&pe(a,i),d&1&&u!==(u=f[0].pagination.total_size+"")&&pe(g,u),f[0].pagination.total_size>f[2]?$?$.p(f,d):($=Kt(f),$.c(),$.m(e,null)):$&&($.d(1),$=null)},d(f){f&&w(e),b&&b.d(),$&&$.d()}}}function Ut(l){let e,t=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Us}" fill="currentcolor"></path></svg>`,s,n,r=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Ks}" fill="currentcolor"></path></svg>`,o,i;return{c(){e=A("button"),e.innerHTML=t,s=z(),n=A("button"),n.innerHTML=r},l(a){e=M(a,"BUTTON",{"data-svelte-h":!0}),be(e)!=="svelte-7tbocf"&&(e.innerHTML=t),s=P(a),n=M(a,"BUTTON",{"data-svelte-h":!0}),be(n)!=="svelte-zcuprf"&&(n.innerHTML=r)},m(a,c){F(a,e,c),F(a,s,c),F(a,n,c),o||(i=[te(e,"click",l[3]),te(n,"click",l[4])],o=!0)},p:G,d(a){a&&(w(e),w(s),w(n)),o=!1,De(i)}}}function Kt(l){let e,t=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Ws}" fill="currentcolor"></path></svg>`,s,n,r=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Js}" fill="currentcolor"></path></svg>`,o,i;return{c(){e=A("button"),e.innerHTML=t,s=z(),n=A("button"),n.innerHTML=r},l(a){e=M(a,"BUTTON",{"data-svelte-h":!0}),be(e)!=="svelte-13lfy9n"&&(e.innerHTML=t),s=P(a),n=M(a,"BUTTON",{"data-svelte-h":!0}),be(n)!=="svelte-1qt850j"&&(n.innerHTML=r)},m(a,c){F(a,e,c),F(a,s,c),F(a,n,c),o||(i=[te(e,"click",l[5]),te(n,"click",l[6])],o=!0)},p:G,d(a){a&&(w(e),w(s),w(n)),o=!1,De(i)}}}function rl(l){let e,t=!l[0].isErrored&&qt(l);return{c(){t&&t.c(),e=q()},l(s){t&&t.l(s),e=q()},m(s,n){t&&t.m(s,n),F(s,e,n)},p(s,[n]){s[0].isErrored?t&&(t.d(1),t=null):t?t.p(s,n):(t=qt(s),t.c(),t.m(e.parentNode,e))},i:G,o:G,d(s){s&&w(e),t&&t.d(s)}}}function ll(l,e,t){let{selectedDataset:s}=e,{isLoadingTableItems:n}=e,r,o;const i=de.subscribe(h=>{t(1,r=(h==null?void 0:h.currentPage)||Fs),t(2,o=(h==null?void 0:h.pageSize)||Rs)});xt(i);function a(){r>1&&(t(7,n=!0),de.update(h=>({...h,pageSize:(h==null?void 0:h.pageSize)||o,currentPage:1})))}function c(){r>1&&(t(7,n=!0),de.update(h=>({...h,pageSize:(h==null?void 0:h.pageSize)||o,currentPage:r-1})))}function u(){s.pagination.total_size>r*o&&(t(7,n=!0),de.update(h=>({...h,pageSize:(h==null?void 0:h.pageSize)||o,currentPage:r+1})))}function g(){s.pagination.total_size>r*o&&(t(7,n=!0),de.update(h=>({...h,pageSize:(h==null?void 0:h.pageSize)||o,currentPage:Math.ceil((s.pagination.total_size||1)/o)})))}return l.$$set=h=>{"selectedDataset"in h&&t(0,s=h.selectedDataset),"isLoadingTableItems"in h&&t(7,n=h.isLoadingTableItems)},[s,r,o,a,c,u,g,n]}class ol extends Z{constructor(e){super(),x(this,e,ll,rl,Y,{selectedDataset:0,isLoadingTableItems:7})}}function Wt(l){let e,t,s,n,r,o,i,a,c,u;function g(p){l[10](p)}function h(p){l[11](p)}let b={selectedDataset:l[0]};l[4]!==void 0&&(b.selectedSearchModel=l[4]),l[3]!==void 0&&(b.searchInput=l[3]),e=new nl({props:b}),he.push(()=>Se(e,"selectedSearchModel",g)),he.push(()=>Se(e,"searchInput",h)),e.$on("search",l[7]),e.$on("clearSearch",l[6]),e.$on("filter",l[12]);const $=[cl,al,il],f=[];function d(p,S){return p[1]?0:p[0].isErrored?2:1}r=d(l),o=f[r]=$[r](l);function _(p){l[15](p)}let m={selectedDataset:l[0]};return l[1]!==void 0&&(m.isLoadingTableItems=l[1]),a=new ol({props:m}),he.push(()=>Se(a,"isLoadingTableItems",_)),{c(){N(e.$$.fragment),n=z(),o.c(),i=z(),N(a.$$.fragment)},l(p){V(e.$$.fragment,p),n=P(p),o.l(p),i=P(p),V(a.$$.fragment,p)},m(p,S){H(e,p,S),F(p,n,S),f[r].m(p,S),F(p,i,S),H(a,p,S),u=!0},p(p,S){const E={};S&1&&(E.selectedDataset=p[0]),!t&&S&16&&(t=!0,E.selectedSearchModel=p[4],Ie(()=>t=!1)),!s&&S&8&&(s=!0,E.searchInput=p[3],Ie(()=>s=!1)),e.$set(E);let y=r;r=d(p),r===y?f[r].p(p,S):(J(),C(f[y],1,1,()=>{f[y]=null}),Q(),o=f[r],o?o.p(p,S):(o=f[r]=$[r](p),o.c()),k(o,1),o.m(i.parentNode,i));const D={};S&1&&(D.selectedDataset=p[0]),!c&&S&2&&(c=!0,D.isLoadingTableItems=p[1],Ie(()=>c=!1)),a.$set(D)},i(p){u||(k(e.$$.fragment,p),k(o),k(a.$$.fragment,p),u=!0)},o(p){C(e.$$.fragment,p),C(o),C(a.$$.fragment,p),u=!1},d(p){p&&(w(n),w(i)),O(e,p),f[r].d(p),O(a,p)}}}function il(l){let e,t,s="Error: dataset items could not be loaded",n,r,o;return r=new Ns({props:{$$slots:{default:[fl]},$$scope:{ctx:l}}}),r.$on("click",l[6]),{c(){e=A("div"),t=A("p"),t.textContent=s,n=z(),N(r.$$.fragment),this.h()},l(i){e=M(i,"DIV",{class:!0});var a=j(e);t=M(a,"P",{"data-svelte-h":!0}),be(t)!=="svelte-lcj0vm"&&(t.textContent=s),n=P(a),V(r.$$.fragment,a),a.forEach(w),this.h()},h(){v(e,"class","flex flex-col gap-5 justify-center align-middle text-center max-w-xs m-auto mt-10")},m(i,a){F(i,e,a),I(e,t),I(e,n),H(r,e,null),o=!0},p(i,a){const c={};a&524288&&(c.$$scope={dirty:a,ctx:i}),r.$set(c)},i(i){o||(k(r.$$.fragment,i),o=!0)},o(i){C(r.$$.fragment,i),o=!1},d(i){i&&w(e),O(r)}}}function al(l){let e,t;return e=new Qr({props:{items:l[0].table_data,disableSort:l[3]!==""}}),e.$on("selectItem",l[13]),e.$on("colsort",l[14]),{c(){N(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,n){H(e,s,n),t=!0},p(s,n){const r={};n&1&&(r.items=s[0].table_data),n&8&&(r.disableSort=s[3]!==""),e.$set(r)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function cl(l){let e,t,s;return t=new Qs({props:{class:"animate-spin"}}),{c(){e=A("div"),N(t.$$.fragment),this.h()},l(n){e=M(n,"DIV",{class:!0});var r=j(e);V(t.$$.fragment,r),r.forEach(w),this.h()},h(){v(e,"class","flex-grow flex justify-center items-center")},m(n,r){F(n,e,r),H(t,e,null),s=!0},p:G,i(n){s||(k(t.$$.fragment,n),s=!0)},o(n){C(t.$$.fragment,n),s=!1},d(n){n&&w(e),O(t)}}}function fl(l){let e;return{c(){e=re("Try again")},l(t){e=ne(t,"Try again")},m(t,s){F(t,e,s)},d(t){t&&w(e)}}}function Jt(l){let e,t;return e=new es({props:{message:"Error while retrieving dataset items.",details:"Please look at the application logs for more information, and report this issue if the error persists."}}),e.$on("confirm",l[16]),{c(){N(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,n){H(e,s,n),t=!0},p:G,i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function ul(l){let e,t,s,n,r=l[0].pagination&&Wt(l),o=l[2]&&Jt(l),i=dl;return{c(){e=A("div"),r&&r.c(),t=z(),o&&o.c(),s=z(),this.h()},l(a){e=M(a,"DIV",{class:!0});var c=j(e);r&&r.l(c),t=P(c),o&&o.l(c),s=P(c),c.forEach(w),this.h()},h(){v(e,"class","w-full px-20 bg-slate-50 flex flex-col text-slate-800 min-h-[calc(100vh-80px)]")},m(a,c){F(a,e,c),r&&r.m(e,null),I(e,t),o&&o.m(e,null),I(e,s),n=!0},p(a,[c]){a[0].pagination?r?(r.p(a,c),c&1&&k(r,1)):(r=Wt(a),r.c(),k(r,1),r.m(e,t)):r&&(J(),C(r,1,1,()=>{r=null}),Q()),a[2]?o?(o.p(a,c),c&4&&k(o,1)):(o=Jt(a),o.c(),k(o,1),o.m(e,s)):o&&(J(),C(o,1,1,()=>{o=null}),Q())},i(a){n||(k(r),k(o),k(i),n=!0)},o(a){C(r),C(o),C(i),n=!1},d(a){a&&w(e),r&&r.d(),o&&o.d()}}}let dl=!1;function hl(l,e,t){var y;let s;ue(l,de,D=>t(17,s=D));let{selectedDataset:n}=e,r=!1,o=!1,i=((y=s.query)==null?void 0:y.search)??"",a;const c=Qe();function u(D){c("selectItem",D)}function g(){t(3,i=""),h()}function h(){let D={model:a,search:i};t(1,r=!0),de.update(ee=>({...ee,currentPage:1,query:D}))}function b(D){de.update(ee=>({...ee,currentPage:1,where:D}))}function $(D){if(D.length===0)de.update(ee=>(ee={...ee,currentPage:1},delete ee.sort,ee));else if(D.length===1){const{id:ee,order:_e}=D[0];de.update(se=>({...se,currentPage:1,sort:{col:ee,order:_e}}))}else console.error("ERROR: MultiSort on columns is not managed nor allowed")}function f(D){a=D,t(4,a)}function d(D){i=D,t(3,i)}const _=D=>b(D.detail),m=D=>u(D.detail),p=D=>$(D.detail);function S(D){r=D,t(1,r),t(0,n)}const E=()=>t(2,o=!1);return l.$$set=D=>{"selectedDataset"in D&&t(0,n=D.selectedDataset)},l.$$.update=()=>{l.$$.dirty&1&&n.table_data&&t(1,r=!1)},[n,r,o,i,a,u,g,h,b,$,f,d,_,m,p,S,E]}class pl extends Z{constructor(e){super(),x(this,e,hl,ul,Y,{selectedDataset:0})}}function Qt(l){let e,t;return e=new pl({props:{selectedDataset:l[0]}}),e.$on("selectItem",l[2]),{c(){N(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,n){H(e,s,n),t=!0},p(s,n){const r={};n&1&&(r.selectedDataset=s[0]),e.$set(r)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function Xt(l){let e,t;return e=new es({props:{message:"No rows found. Keeping previous state."}}),e.$on("confirm",l[3]),{c(){N(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,n){H(e,s,n),t=!0},p:G,i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function _l(l){var o;let e,t,s,n=((o=l[0])==null?void 0:o.table_data)&&Qt(l),r=l[1]&&Xt(l);return{c(){n&&n.c(),e=z(),r&&r.c(),t=q()},l(i){n&&n.l(i),e=P(i),r&&r.l(i),t=q()},m(i,a){n&&n.m(i,a),F(i,e,a),r&&r.m(i,a),F(i,t,a),s=!0},p(i,[a]){var c;(c=i[0])!=null&&c.table_data?n?(n.p(i,a),a&1&&k(n,1)):(n=Qt(i),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(J(),C(n,1,1,()=>{n=null}),Q()),i[1]?r?(r.p(i,a),a&2&&k(r,1)):(r=Xt(i),r.c(),k(r,1),r.m(t.parentNode,t)):r&&(J(),C(r,1,1,()=>{r=null}),Q())},i(i){s||(k(n),k(r),s=!0)},o(i){C(n),C(r),s=!1},d(i){i&&(w(e),w(t)),n&&n.d(i),r&&r.d(i)}}}function gl(l,e,t){let s;ue(l,Zs,u=>t(5,s=u));let n,r=!1;const o=async(u,g)=>{let h=g;const b=g.rows.map(d=>d.id),$=await As(u,b),f=[...Object.keys($[0].info.entities),...Object.keys($[0].info.annotations)];return h.rows=g.rows.map(d=>{let _=$.find(m=>d.id===m.id);if(_){const m=Object.fromEntries(Object.entries(_.info.entities).map(([S,E])=>[`${je}${S}`,E.count])),p=Object.fromEntries(Object.entries(_.info.annotations).map(([S,E])=>[`${je}${S}`,E.count]));return{...d,...m,...p}}return d}),h.columns=[...g.columns,...f.map(d=>({name:`${je}${d}`,type:"int"}))],h};let i;lt(()=>{i=de.subscribe(u=>{s.params.dataset&&tn(s.params.dataset,u.currentPage,u.pageSize,u.query,u.where,u.sort).then(g=>{g.id?o(g.id,g.table_data).then(h=>{g.table_data=h}).catch(h=>{console.warn("Could not get computed items infos",h)}).finally(()=>{g.pagination.total_size=g.item_ids.length,t(0,n=g),Ms.set(n.item_ids)}):t(1,r=!0)}).catch(g=>console.log("ERROR: Couldn't get dataset items",g))})});const a=async u=>{await Ys(`/${n.id}/dataset/${u.detail}`)};return xt(()=>{i()}),[n,r,a,()=>{t(1,r=!1)}]}class Ml extends Z{constructor(e){super(),x(this,e,gl,_l,Y,{})}}export{Ml as component,Fl as universal};
